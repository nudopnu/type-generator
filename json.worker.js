(()=>{var Ts={833:(ft,Oe,I)=>{"use strict";function o(ce,P,J=(le,ge)=>le===ge){if(ce===P)return!0;if(!ce||!P||ce.length!==P.length)return!1;for(let le=0,ge=ce.length;le<ge;le++)if(!J(ce[le],P[le]))return!1;return!0}function*F(ce,P){let J,le;for(const ge of ce)void 0!==le&&P(le,ge)?J.push(ge):(J&&(yield J),J=[ge]),le=ge;J&&(yield J)}function ae(ce,P){for(let J=0;J<=ce.length;J++)P(0===J?void 0:ce[J-1],J===ce.length?void 0:ce[J])}function K(ce,P){for(let J=0;J<ce.length;J++)P(0===J?void 0:ce[J-1],ce[J],J+1===ce.length?void 0:ce[J+1])}function p(ce,P=J=>J){const J=new Set;return ce.filter(le=>{const ge=P(le);return!J.has(ge)&&(J.add(ge),!0)})}function Ce(ce,P){return ce.length>0?ce[0]:P}function _(ce,P,J){const le=ce.slice(0,P),ge=ce.slice(P);return le.concat(J,ge)}function U(ce,P){for(const J of P)ce.push(J)}var G,ce;function T(ce,P){return(J,le)=>P(ce(J),ce(le))}I.d(Oe,{E4:()=>U,Fy:()=>Ce,Hw:()=>pe,U9:()=>ee,VE:()=>T,aI:()=>o,c1:()=>ie,dM:()=>p,j3:()=>ne,kj:()=>K,n:()=>F,nK:()=>_,pN:()=>ae}),(ce=G||(G={})).isLessThan=function P(xe){return xe<0},ce.isLessThanOrEqual=function J(xe){return xe<=0},ce.isGreaterThan=function le(xe){return xe>0},ce.isNeitherLessOrGreaterThan=function ge(xe){return 0===xe},ce.greaterThan=1,ce.lessThan=-1,ce.neitherLessOrGreaterThan=0;const ee=(ce,P)=>ce-P;function pe(ce){return(P,J)=>-ce(P,J)}class ne{constructor(P){this.items=P,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(P){let J=this.firstIdx;for(;J<this.items.length&&P(this.items[J]);)J++;const le=J===this.firstIdx?null:this.items.slice(this.firstIdx,J);return this.firstIdx=J,le}takeFromEndWhile(P){let J=this.lastIdx;for(;J>=0&&P(this.items[J]);)J--;const le=J===this.lastIdx?null:this.items.slice(J+1,this.lastIdx+1);return this.lastIdx=J,le}peek(){if(0!==this.length)return this.items[this.firstIdx]}dequeue(){const P=this.items[this.firstIdx];return this.firstIdx++,P}takeCount(P){const J=this.items.slice(this.firstIdx,this.firstIdx+P);return this.firstIdx+=P,J}}class ie{static{this.empty=new ie(P=>{})}constructor(P){this.iterate=P}toArray(){const P=[];return this.iterate(J=>(P.push(J),!0)),P}filter(P){return new ie(J=>this.iterate(le=>!P(le)||J(le)))}map(P){return new ie(J=>this.iterate(le=>J(P(le))))}findLast(P){let J;return this.iterate(le=>(P(le)&&(J=le),!0)),J}findLastMaxBy(P){let J,le=!0;return this.iterate(ge=>((le||G.isGreaterThan(P(ge,J)))&&(le=!1,J=ge),!0)),J}}},2210:(ft,Oe,I)=>{"use strict";function W(S,M){const E=function Z(S,M,E=S.length-1){for(let p=E;p>=0;p--)if(M(S[p]))return p;return-1}(S,M);if(-1!==E)return S[E]}function o(S,M){const E=D(S,M);return-1===E?void 0:S[E]}function D(S,M,E=0,p=S.length){let Ce=E,me=p;for(;Ce<me;){const _=Math.floor((Ce+me)/2);M(S[_])?Ce=_+1:me=_}return Ce-1}function C(S,M){const E=$(S,M);return E===S.length?void 0:S[E]}function $(S,M,E=0,p=S.length){let Ce=E,me=p;for(;Ce<me;){const _=Math.floor((Ce+me)/2);M(S[_])?me=_:Ce=_+1}return Ce}I.d(Oe,{Uk:()=>W,XP:()=>C,hw:()=>$,iM:()=>D,lx:()=>o,vJ:()=>f});let f=(()=>{class S{static{this.assertInvariants=!1}constructor(E){this._array=E,this._findLastMonotonousLastIdx=0}findLastMonotonous(E){if(S.assertInvariants){if(this._prevFindLastPredicate)for(const Ce of this._array)if(this._prevFindLastPredicate(Ce)&&!E(Ce))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.");this._prevFindLastPredicate=E}const p=D(this._array,E,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=p+1,-1===p?void 0:this._array[p]}}return S})()},3929:(ft,Oe,I)=>{"use strict";I.d(Oe,{Ft:()=>C,Xo:()=>$,ok:()=>Z,xb:()=>o});var W=I(5680);function Z(f,B){if(!f)throw new Error(B?`Assertion failed (${B})`:"Assertion Failed")}function o(f,B="Unreachable"){throw new Error(B)}function C(f){f()||(f(),(0,W.dz)(new W.D7("Assertion Failed")))}function $(f,B){let F=0;for(;F<f.length-1;){if(!B(f[F],f[F+1]))return!1;F++}return!0}},795:(ft,Oe,I)=>{"use strict";I.d(Oe,{vb:()=>k,uC:()=>U,Qg:()=>F,$6:()=>H});var W=I(467),Z=I(9495),D=(I(1468),I(5680)),C=I(5643),$=I(4061),f=I(1828);function F(pe){return!!pe&&"function"==typeof pe.then}Symbol("MicrotaskDelay");class k{constructor(){this.disposable=void 0,this.isDisposed=!1}cancel(){this.disposable?.dispose(),this.disposable=void 0}cancelAndSet(ne,ie,Ae=globalThis){if(this.isDisposed)throw new D.D7("Calling 'cancelAndSet' on a disposed IntervalTimer");this.cancel();const ce=Ae.setInterval(()=>{ne()},ie);this.disposable=(0,$.s)(()=>{Ae.clearInterval(ce),this.disposable=void 0})}dispose(){this.cancel(),this.isDisposed=!0}}class U{constructor(ne,ie){this.timeoutToken=-1,this.runner=ne,this.timeout=ie,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(ne=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,ne)}get delay(){return this.timeout}set delay(ne){this.timeout=ne}isScheduled(){return-1!==this.timeoutToken}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner?.()}}let H,j;var T;j="function"!=typeof globalThis.requestIdleCallback||"function"!=typeof globalThis.cancelIdleCallback?(pe,ne)=>{(0,f._p)(()=>{if(ie)return;const Ae=Date.now()+15;ne(Object.freeze({didTimeout:!0,timeRemaining:()=>Math.max(0,Ae-Date.now())}))});let ie=!1;return{dispose(){ie||(ie=!0)}}}:(pe,ne,ie)=>{const Ae=pe.requestIdleCallback(ne,"number"==typeof ie?{timeout:ie}:void 0);let ce=!1;return{dispose(){ce||(ce=!0,pe.cancelIdleCallback(Ae))}}},H=pe=>j(globalThis,pe),function(pe){function ie(){return(ie=(0,W.A)(function*(ce){let P;const J=yield Promise.all(ce.map(le=>le.then(ge=>ge,ge=>{P||(P=ge)})));if(typeof P<"u")throw P;return J})).apply(this,arguments)}pe.settled=function ne(ce){return ie.apply(this,arguments)},pe.withAsyncBody=function Ae(ce){return new Promise(function(){var P=(0,W.A)(function*(J,le){try{yield ce(J,le)}catch(ge){le(ge)}});return function(J,le){return P.apply(this,arguments)}}())}}(T||(T={}));class z{static fromArray(ne){return new z(ie=>{ie.emitMany(ne)})}static fromPromise(ne){return new z(function(){var ie=(0,W.A)(function*(Ae){Ae.emitMany(yield ne)});return function(Ae){return ie.apply(this,arguments)}}())}static fromPromises(ne){return new z(function(){var ie=(0,W.A)(function*(Ae){yield Promise.all(ne.map(function(){var ce=(0,W.A)(function*(P){return Ae.emitOne(yield P)});return function(P){return ce.apply(this,arguments)}}()))});return function(Ae){return ie.apply(this,arguments)}}())}static merge(ne){return new z(function(){var ie=(0,W.A)(function*(Ae){yield Promise.all(ne.map(function(){var ce=(0,W.A)(function*(P){var ge,J=!1,le=!1;try{for(var De,xe=(0,Z.A)(P);J=!(De=yield xe.next()).done;J=!1)Ae.emitOne(De.value)}catch(ze){le=!0,ge=ze}finally{try{J&&null!=xe.return&&(yield xe.return())}finally{if(le)throw ge}}});return function(P){return ce.apply(this,arguments)}}()))});return function(Ae){return ie.apply(this,arguments)}}())}static{this.EMPTY=z.fromArray([])}constructor(ne,ie){var Ae=this;this._state=0,this._results=[],this._error=null,this._onReturn=ie,this._onStateChanged=new C.vl,queueMicrotask((0,W.A)(function*(){const ce={emitOne:P=>Ae.emitOne(P),emitMany:P=>Ae.emitMany(P),reject:P=>Ae.reject(P)};try{yield Promise.resolve(ne(ce)),Ae.resolve()}catch(P){Ae.reject(P)}finally{ce.emitOne=void 0,ce.emitMany=void 0,ce.reject=void 0}}))}[Symbol.asyncIterator](){var ne=this;let ie=0;return{next:(Ae=(0,W.A)(function*(){for(;;){if(2===ne._state)throw ne._error;if(ie<ne._results.length)return{done:!1,value:ne._results[ie++]};if(1===ne._state)return{done:!0,value:void 0};yield C.Jh.toPromise(ne._onStateChanged.event)}}),function(){return Ae.apply(this,arguments)}),return:function(){var Ae=(0,W.A)(function*(){return ne._onReturn?.(),{done:!0,value:void 0}});return function(){return Ae.apply(this,arguments)}}()};var Ae}static map(ne,ie){return new z(function(){var Ae=(0,W.A)(function*(ce){var le,P=!1,J=!1;try{for(var xe,ge=(0,Z.A)(ne);P=!(xe=yield ge.next()).done;P=!1)ce.emitOne(ie(xe.value))}catch(De){J=!0,le=De}finally{try{P&&null!=ge.return&&(yield ge.return())}finally{if(J)throw le}}});return function(ce){return Ae.apply(this,arguments)}}())}map(ne){return z.map(this,ne)}static filter(ne,ie){return new z(function(){var Ae=(0,W.A)(function*(ce){var le,P=!1,J=!1;try{for(var xe,ge=(0,Z.A)(ne);P=!(xe=yield ge.next()).done;P=!1){const De=xe.value;ie(De)&&ce.emitOne(De)}}catch(De){J=!0,le=De}finally{try{P&&null!=ge.return&&(yield ge.return())}finally{if(J)throw le}}});return function(ce){return Ae.apply(this,arguments)}}())}filter(ne){return z.filter(this,ne)}static coalesce(ne){return z.filter(ne,ie=>!!ie)}coalesce(){return z.coalesce(this)}static toPromise(ne){return(0,W.A)(function*(){const ie=[];var P,Ae=!1,ce=!1;try{for(var le,J=(0,Z.A)(ne);Ae=!(le=yield J.next()).done;Ae=!1)ie.push(le.value)}catch(ge){ce=!0,P=ge}finally{try{Ae&&null!=J.return&&(yield J.return())}finally{if(ce)throw P}}return ie})()}toPromise(){return z.toPromise(this)}emitOne(ne){0===this._state&&(this._results.push(ne),this._onStateChanged.fire())}emitMany(ne){0===this._state&&(this._results=this._results.concat(ne),this._onStateChanged.fire())}resolve(){0===this._state&&(this._state=1,this._onStateChanged.fire())}reject(ne){0===this._state&&(this._state=2,this._error=ne,this._onStateChanged.fire())}}},3233:(ft,Oe,I)=>{"use strict";I.d(Oe,{$l:()=>$,Gs:()=>K,MB:()=>C,Sw:()=>F,bb:()=>B,gN:()=>f,pJ:()=>ae});var W=I(7081);const Z=typeof Buffer<"u";let D;new W.d(()=>new Uint8Array(256));class C{static wrap(S){return Z&&!Buffer.isBuffer(S)&&(S=Buffer.from(S.buffer,S.byteOffset,S.byteLength)),new C(S)}constructor(S){this.buffer=S,this.byteLength=this.buffer.byteLength}toString(){return Z?this.buffer.toString():(D||(D=new TextDecoder),D.decode(this.buffer))}}function $(A,S){return(0|A[S+0])>>>0|A[S+1]<<8>>>0}function f(A,S,M){A[M+0]=255&S,A[M+1]=255&(S>>>=8)}function B(A,S){return 16777216*A[S]+65536*A[S+1]+256*A[S+2]+A[S+3]}function F(A,S,M){A[M+3]=S,A[M+2]=S>>>=8,A[M+1]=S>>>=8,A[M]=S>>>=8}function ae(A,S){return A[S]}function K(A,S,M){A[M]=S}},9969:(ft,Oe,I)=>{"use strict";function W(D){return D}I.d(Oe,{VV:()=>o,o5:()=>Z});class Z{constructor(C,$){this.lastCache=void 0,this.lastArgKey=void 0,"function"==typeof C?(this._fn=C,this._computeKey=W):(this._fn=$,this._computeKey=C.getCacheKey)}get(C){const $=this._computeKey(C);return this.lastArgKey!==$&&(this.lastArgKey=$,this.lastCache=this._fn(C)),this.lastCache}}class o{get cachedValues(){return this._map}constructor(C,$){this._map=new Map,this._map2=new Map,"function"==typeof C?(this._fn=C,this._computeKey=W):(this._fn=$,this._computeKey=C.getCacheKey)}get(C){const $=this._computeKey(C);if(this._map2.has($))return this._map2.get($);const f=this._fn(C);return this._map.set(C,f),this._map2.set($,f),f}}},1468:(ft,Oe,I)=>{"use strict";I.d(Oe,{Qi:()=>C});var W=I(5643);const Z=Object.freeze(function(f,B){const F=setTimeout(f.bind(B),0);return{dispose(){clearTimeout(F)}}});var o,f;(f=o||(o={})).isCancellationToken=function B(F){return F===f.None||F===f.Cancelled||F instanceof D||!(!F||"object"!=typeof F)&&"boolean"==typeof F.isCancellationRequested&&"function"==typeof F.onCancellationRequested},f.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:W.Jh.None}),f.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Z});class D{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Z:(this._emitter||(this._emitter=new W.vl),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class C{constructor(B){this._token=void 0,this._parentListener=void 0,this._parentListener=B&&B.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new D),this._token}cancel(){this._token?this._token instanceof D&&this._token.cancel():this._token=o.Cancelled}dispose(B=!1){B&&this.cancel(),this._parentListener?.dispose(),this._token?this._token instanceof D&&this._token.dispose():this._token=o.None}}},3616:(ft,Oe,I)=>{"use strict";I.d(Oe,{W:()=>f});var W=I(6702);const Z=Object.create(null);function o(B,F){if((0,W.Kg)(F)){const ae=Z[F];if(void 0===ae)throw new Error(`${B} references an unknown codicon: ${F}`);F=ae}return Z[B]=F,{id:B}}const f={add:o("add",6e4),plus:o("plus",6e4),gistNew:o("gist-new",6e4),repoCreate:o("repo-create",6e4),lightbulb:o("lightbulb",60001),lightBulb:o("light-bulb",60001),repo:o("repo",60002),repoDelete:o("repo-delete",60002),gistFork:o("gist-fork",60003),repoForked:o("repo-forked",60003),gitPullRequest:o("git-pull-request",60004),gitPullRequestAbandoned:o("git-pull-request-abandoned",60004),recordKeys:o("record-keys",60005),keyboard:o("keyboard",60005),tag:o("tag",60006),gitPullRequestLabel:o("git-pull-request-label",60006),tagAdd:o("tag-add",60006),tagRemove:o("tag-remove",60006),person:o("person",60007),personFollow:o("person-follow",60007),personOutline:o("person-outline",60007),personFilled:o("person-filled",60007),gitBranch:o("git-branch",60008),gitBranchCreate:o("git-branch-create",60008),gitBranchDelete:o("git-branch-delete",60008),sourceControl:o("source-control",60008),mirror:o("mirror",60009),mirrorPublic:o("mirror-public",60009),star:o("star",60010),starAdd:o("star-add",60010),starDelete:o("star-delete",60010),starEmpty:o("star-empty",60010),comment:o("comment",60011),commentAdd:o("comment-add",60011),alert:o("alert",60012),warning:o("warning",60012),search:o("search",60013),searchSave:o("search-save",60013),logOut:o("log-out",60014),signOut:o("sign-out",60014),logIn:o("log-in",60015),signIn:o("sign-in",60015),eye:o("eye",60016),eyeUnwatch:o("eye-unwatch",60016),eyeWatch:o("eye-watch",60016),circleFilled:o("circle-filled",60017),primitiveDot:o("primitive-dot",60017),closeDirty:o("close-dirty",60017),debugBreakpoint:o("debug-breakpoint",60017),debugBreakpointDisabled:o("debug-breakpoint-disabled",60017),debugHint:o("debug-hint",60017),terminalDecorationSuccess:o("terminal-decoration-success",60017),primitiveSquare:o("primitive-square",60018),edit:o("edit",60019),pencil:o("pencil",60019),info:o("info",60020),issueOpened:o("issue-opened",60020),gistPrivate:o("gist-private",60021),gitForkPrivate:o("git-fork-private",60021),lock:o("lock",60021),mirrorPrivate:o("mirror-private",60021),close:o("close",60022),removeClose:o("remove-close",60022),x:o("x",60022),repoSync:o("repo-sync",60023),sync:o("sync",60023),clone:o("clone",60024),desktopDownload:o("desktop-download",60024),beaker:o("beaker",60025),microscope:o("microscope",60025),vm:o("vm",60026),deviceDesktop:o("device-desktop",60026),file:o("file",60027),fileText:o("file-text",60027),more:o("more",60028),ellipsis:o("ellipsis",60028),kebabHorizontal:o("kebab-horizontal",60028),mailReply:o("mail-reply",60029),reply:o("reply",60029),organization:o("organization",60030),organizationFilled:o("organization-filled",60030),organizationOutline:o("organization-outline",60030),newFile:o("new-file",60031),fileAdd:o("file-add",60031),newFolder:o("new-folder",60032),fileDirectoryCreate:o("file-directory-create",60032),trash:o("trash",60033),trashcan:o("trashcan",60033),history:o("history",60034),clock:o("clock",60034),folder:o("folder",60035),fileDirectory:o("file-directory",60035),symbolFolder:o("symbol-folder",60035),logoGithub:o("logo-github",60036),markGithub:o("mark-github",60036),github:o("github",60036),terminal:o("terminal",60037),console:o("console",60037),repl:o("repl",60037),zap:o("zap",60038),symbolEvent:o("symbol-event",60038),error:o("error",60039),stop:o("stop",60039),variable:o("variable",60040),symbolVariable:o("symbol-variable",60040),array:o("array",60042),symbolArray:o("symbol-array",60042),symbolModule:o("symbol-module",60043),symbolPackage:o("symbol-package",60043),symbolNamespace:o("symbol-namespace",60043),symbolObject:o("symbol-object",60043),symbolMethod:o("symbol-method",60044),symbolFunction:o("symbol-function",60044),symbolConstructor:o("symbol-constructor",60044),symbolBoolean:o("symbol-boolean",60047),symbolNull:o("symbol-null",60047),symbolNumeric:o("symbol-numeric",60048),symbolNumber:o("symbol-number",60048),symbolStructure:o("symbol-structure",60049),symbolStruct:o("symbol-struct",60049),symbolParameter:o("symbol-parameter",60050),symbolTypeParameter:o("symbol-type-parameter",60050),symbolKey:o("symbol-key",60051),symbolText:o("symbol-text",60051),symbolReference:o("symbol-reference",60052),goToFile:o("go-to-file",60052),symbolEnum:o("symbol-enum",60053),symbolValue:o("symbol-value",60053),symbolRuler:o("symbol-ruler",60054),symbolUnit:o("symbol-unit",60054),activateBreakpoints:o("activate-breakpoints",60055),archive:o("archive",60056),arrowBoth:o("arrow-both",60057),arrowDown:o("arrow-down",60058),arrowLeft:o("arrow-left",60059),arrowRight:o("arrow-right",60060),arrowSmallDown:o("arrow-small-down",60061),arrowSmallLeft:o("arrow-small-left",60062),arrowSmallRight:o("arrow-small-right",60063),arrowSmallUp:o("arrow-small-up",60064),arrowUp:o("arrow-up",60065),bell:o("bell",60066),bold:o("bold",60067),book:o("book",60068),bookmark:o("bookmark",60069),debugBreakpointConditionalUnverified:o("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:o("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:o("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:o("debug-breakpoint-data-unverified",60072),debugBreakpointData:o("debug-breakpoint-data",60073),debugBreakpointDataDisabled:o("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:o("debug-breakpoint-log-unverified",60074),debugBreakpointLog:o("debug-breakpoint-log",60075),debugBreakpointLogDisabled:o("debug-breakpoint-log-disabled",60075),briefcase:o("briefcase",60076),broadcast:o("broadcast",60077),browser:o("browser",60078),bug:o("bug",60079),calendar:o("calendar",60080),caseSensitive:o("case-sensitive",60081),check:o("check",60082),checklist:o("checklist",60083),chevronDown:o("chevron-down",60084),chevronLeft:o("chevron-left",60085),chevronRight:o("chevron-right",60086),chevronUp:o("chevron-up",60087),chromeClose:o("chrome-close",60088),chromeMaximize:o("chrome-maximize",60089),chromeMinimize:o("chrome-minimize",60090),chromeRestore:o("chrome-restore",60091),circleOutline:o("circle-outline",60092),circle:o("circle",60092),debugBreakpointUnverified:o("debug-breakpoint-unverified",60092),terminalDecorationIncomplete:o("terminal-decoration-incomplete",60092),circleSlash:o("circle-slash",60093),circuitBoard:o("circuit-board",60094),clearAll:o("clear-all",60095),clippy:o("clippy",60096),closeAll:o("close-all",60097),cloudDownload:o("cloud-download",60098),cloudUpload:o("cloud-upload",60099),code:o("code",60100),collapseAll:o("collapse-all",60101),colorMode:o("color-mode",60102),commentDiscussion:o("comment-discussion",60103),creditCard:o("credit-card",60105),dash:o("dash",60108),dashboard:o("dashboard",60109),database:o("database",60110),debugContinue:o("debug-continue",60111),debugDisconnect:o("debug-disconnect",60112),debugPause:o("debug-pause",60113),debugRestart:o("debug-restart",60114),debugStart:o("debug-start",60115),debugStepInto:o("debug-step-into",60116),debugStepOut:o("debug-step-out",60117),debugStepOver:o("debug-step-over",60118),debugStop:o("debug-stop",60119),debug:o("debug",60120),deviceCameraVideo:o("device-camera-video",60121),deviceCamera:o("device-camera",60122),deviceMobile:o("device-mobile",60123),diffAdded:o("diff-added",60124),diffIgnored:o("diff-ignored",60125),diffModified:o("diff-modified",60126),diffRemoved:o("diff-removed",60127),diffRenamed:o("diff-renamed",60128),diff:o("diff",60129),diffSidebyside:o("diff-sidebyside",60129),discard:o("discard",60130),editorLayout:o("editor-layout",60131),emptyWindow:o("empty-window",60132),exclude:o("exclude",60133),extensions:o("extensions",60134),eyeClosed:o("eye-closed",60135),fileBinary:o("file-binary",60136),fileCode:o("file-code",60137),fileMedia:o("file-media",60138),filePdf:o("file-pdf",60139),fileSubmodule:o("file-submodule",60140),fileSymlinkDirectory:o("file-symlink-directory",60141),fileSymlinkFile:o("file-symlink-file",60142),fileZip:o("file-zip",60143),files:o("files",60144),filter:o("filter",60145),flame:o("flame",60146),foldDown:o("fold-down",60147),foldUp:o("fold-up",60148),fold:o("fold",60149),folderActive:o("folder-active",60150),folderOpened:o("folder-opened",60151),gear:o("gear",60152),gift:o("gift",60153),gistSecret:o("gist-secret",60154),gist:o("gist",60155),gitCommit:o("git-commit",60156),gitCompare:o("git-compare",60157),compareChanges:o("compare-changes",60157),gitMerge:o("git-merge",60158),githubAction:o("github-action",60159),githubAlt:o("github-alt",60160),globe:o("globe",60161),grabber:o("grabber",60162),graph:o("graph",60163),gripper:o("gripper",60164),heart:o("heart",60165),home:o("home",60166),horizontalRule:o("horizontal-rule",60167),hubot:o("hubot",60168),inbox:o("inbox",60169),issueReopened:o("issue-reopened",60171),issues:o("issues",60172),italic:o("italic",60173),jersey:o("jersey",60174),json:o("json",60175),kebabVertical:o("kebab-vertical",60176),key:o("key",60177),law:o("law",60178),lightbulbAutofix:o("lightbulb-autofix",60179),linkExternal:o("link-external",60180),link:o("link",60181),listOrdered:o("list-ordered",60182),listUnordered:o("list-unordered",60183),liveShare:o("live-share",60184),loading:o("loading",60185),location:o("location",60186),mailRead:o("mail-read",60187),mail:o("mail",60188),markdown:o("markdown",60189),megaphone:o("megaphone",60190),mention:o("mention",60191),milestone:o("milestone",60192),gitPullRequestMilestone:o("git-pull-request-milestone",60192),mortarBoard:o("mortar-board",60193),move:o("move",60194),multipleWindows:o("multiple-windows",60195),mute:o("mute",60196),noNewline:o("no-newline",60197),note:o("note",60198),octoface:o("octoface",60199),openPreview:o("open-preview",60200),package:o("package",60201),paintcan:o("paintcan",60202),pin:o("pin",60203),play:o("play",60204),run:o("run",60204),plug:o("plug",60205),preserveCase:o("preserve-case",60206),preview:o("preview",60207),project:o("project",60208),pulse:o("pulse",60209),question:o("question",60210),quote:o("quote",60211),radioTower:o("radio-tower",60212),reactions:o("reactions",60213),references:o("references",60214),refresh:o("refresh",60215),regex:o("regex",60216),remoteExplorer:o("remote-explorer",60217),remote:o("remote",60218),remove:o("remove",60219),replaceAll:o("replace-all",60220),replace:o("replace",60221),repoClone:o("repo-clone",60222),repoForcePush:o("repo-force-push",60223),repoPull:o("repo-pull",60224),repoPush:o("repo-push",60225),report:o("report",60226),requestChanges:o("request-changes",60227),rocket:o("rocket",60228),rootFolderOpened:o("root-folder-opened",60229),rootFolder:o("root-folder",60230),rss:o("rss",60231),ruby:o("ruby",60232),saveAll:o("save-all",60233),saveAs:o("save-as",60234),save:o("save",60235),screenFull:o("screen-full",60236),screenNormal:o("screen-normal",60237),searchStop:o("search-stop",60238),server:o("server",60240),settingsGear:o("settings-gear",60241),settings:o("settings",60242),shield:o("shield",60243),smiley:o("smiley",60244),sortPrecedence:o("sort-precedence",60245),splitHorizontal:o("split-horizontal",60246),splitVertical:o("split-vertical",60247),squirrel:o("squirrel",60248),starFull:o("star-full",60249),starHalf:o("star-half",60250),symbolClass:o("symbol-class",60251),symbolColor:o("symbol-color",60252),symbolConstant:o("symbol-constant",60253),symbolEnumMember:o("symbol-enum-member",60254),symbolField:o("symbol-field",60255),symbolFile:o("symbol-file",60256),symbolInterface:o("symbol-interface",60257),symbolKeyword:o("symbol-keyword",60258),symbolMisc:o("symbol-misc",60259),symbolOperator:o("symbol-operator",60260),symbolProperty:o("symbol-property",60261),wrench:o("wrench",60261),wrenchSubaction:o("wrench-subaction",60261),symbolSnippet:o("symbol-snippet",60262),tasklist:o("tasklist",60263),telescope:o("telescope",60264),textSize:o("text-size",60265),threeBars:o("three-bars",60266),thumbsdown:o("thumbsdown",60267),thumbsup:o("thumbsup",60268),tools:o("tools",60269),triangleDown:o("triangle-down",60270),triangleLeft:o("triangle-left",60271),triangleRight:o("triangle-right",60272),triangleUp:o("triangle-up",60273),twitter:o("twitter",60274),unfold:o("unfold",60275),unlock:o("unlock",60276),unmute:o("unmute",60277),unverified:o("unverified",60278),verified:o("verified",60279),versions:o("versions",60280),vmActive:o("vm-active",60281),vmOutline:o("vm-outline",60282),vmRunning:o("vm-running",60283),watch:o("watch",60284),whitespace:o("whitespace",60285),wholeWord:o("whole-word",60286),window:o("window",60287),wordWrap:o("word-wrap",60288),zoomIn:o("zoom-in",60289),zoomOut:o("zoom-out",60290),listFilter:o("list-filter",60291),listFlat:o("list-flat",60292),listSelection:o("list-selection",60293),selection:o("selection",60293),listTree:o("list-tree",60294),debugBreakpointFunctionUnverified:o("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:o("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:o("debug-breakpoint-function-disabled",60296),debugStackframeActive:o("debug-stackframe-active",60297),circleSmallFilled:o("circle-small-filled",60298),debugStackframeDot:o("debug-stackframe-dot",60298),terminalDecorationMark:o("terminal-decoration-mark",60298),debugStackframe:o("debug-stackframe",60299),debugStackframeFocused:o("debug-stackframe-focused",60299),debugBreakpointUnsupported:o("debug-breakpoint-unsupported",60300),symbolString:o("symbol-string",60301),debugReverseContinue:o("debug-reverse-continue",60302),debugStepBack:o("debug-step-back",60303),debugRestartFrame:o("debug-restart-frame",60304),debugAlt:o("debug-alt",60305),callIncoming:o("call-incoming",60306),callOutgoing:o("call-outgoing",60307),menu:o("menu",60308),expandAll:o("expand-all",60309),feedback:o("feedback",60310),gitPullRequestReviewer:o("git-pull-request-reviewer",60310),groupByRefType:o("group-by-ref-type",60311),ungroupByRefType:o("ungroup-by-ref-type",60312),account:o("account",60313),gitPullRequestAssignee:o("git-pull-request-assignee",60313),bellDot:o("bell-dot",60314),debugConsole:o("debug-console",60315),library:o("library",60316),output:o("output",60317),runAll:o("run-all",60318),syncIgnored:o("sync-ignored",60319),pinned:o("pinned",60320),githubInverted:o("github-inverted",60321),serverProcess:o("server-process",60322),serverEnvironment:o("server-environment",60323),pass:o("pass",60324),issueClosed:o("issue-closed",60324),stopCircle:o("stop-circle",60325),playCircle:o("play-circle",60326),record:o("record",60327),debugAltSmall:o("debug-alt-small",60328),vmConnect:o("vm-connect",60329),cloud:o("cloud",60330),merge:o("merge",60331),export:o("export",60332),graphLeft:o("graph-left",60333),magnet:o("magnet",60334),notebook:o("notebook",60335),redo:o("redo",60336),checkAll:o("check-all",60337),pinnedDirty:o("pinned-dirty",60338),passFilled:o("pass-filled",60339),circleLargeFilled:o("circle-large-filled",60340),circleLarge:o("circle-large",60341),circleLargeOutline:o("circle-large-outline",60341),combine:o("combine",60342),gather:o("gather",60342),table:o("table",60343),variableGroup:o("variable-group",60344),typeHierarchy:o("type-hierarchy",60345),typeHierarchySub:o("type-hierarchy-sub",60346),typeHierarchySuper:o("type-hierarchy-super",60347),gitPullRequestCreate:o("git-pull-request-create",60348),runAbove:o("run-above",60349),runBelow:o("run-below",60350),notebookTemplate:o("notebook-template",60351),debugRerun:o("debug-rerun",60352),workspaceTrusted:o("workspace-trusted",60353),workspaceUntrusted:o("workspace-untrusted",60354),workspaceUnknown:o("workspace-unknown",60355),terminalCmd:o("terminal-cmd",60356),terminalDebian:o("terminal-debian",60357),terminalLinux:o("terminal-linux",60358),terminalPowershell:o("terminal-powershell",60359),terminalTmux:o("terminal-tmux",60360),terminalUbuntu:o("terminal-ubuntu",60361),terminalBash:o("terminal-bash",60362),arrowSwap:o("arrow-swap",60363),copy:o("copy",60364),personAdd:o("person-add",60365),filterFilled:o("filter-filled",60366),wand:o("wand",60367),debugLineByLine:o("debug-line-by-line",60368),inspect:o("inspect",60369),layers:o("layers",60370),layersDot:o("layers-dot",60371),layersActive:o("layers-active",60372),compass:o("compass",60373),compassDot:o("compass-dot",60374),compassActive:o("compass-active",60375),azure:o("azure",60376),issueDraft:o("issue-draft",60377),gitPullRequestClosed:o("git-pull-request-closed",60378),gitPullRequestDraft:o("git-pull-request-draft",60379),debugAll:o("debug-all",60380),debugCoverage:o("debug-coverage",60381),runErrors:o("run-errors",60382),folderLibrary:o("folder-library",60383),debugContinueSmall:o("debug-continue-small",60384),beakerStop:o("beaker-stop",60385),graphLine:o("graph-line",60386),graphScatter:o("graph-scatter",60387),pieChart:o("pie-chart",60388),bracket:o("bracket",60175),bracketDot:o("bracket-dot",60389),bracketError:o("bracket-error",60390),lockSmall:o("lock-small",60391),azureDevops:o("azure-devops",60392),verifiedFilled:o("verified-filled",60393),newline:o("newline",60394),layout:o("layout",60395),layoutActivitybarLeft:o("layout-activitybar-left",60396),layoutActivitybarRight:o("layout-activitybar-right",60397),layoutPanelLeft:o("layout-panel-left",60398),layoutPanelCenter:o("layout-panel-center",60399),layoutPanelJustify:o("layout-panel-justify",60400),layoutPanelRight:o("layout-panel-right",60401),layoutPanel:o("layout-panel",60402),layoutSidebarLeft:o("layout-sidebar-left",60403),layoutSidebarRight:o("layout-sidebar-right",60404),layoutStatusbar:o("layout-statusbar",60405),layoutMenubar:o("layout-menubar",60406),layoutCentered:o("layout-centered",60407),target:o("target",60408),indent:o("indent",60409),recordSmall:o("record-small",60410),errorSmall:o("error-small",60411),terminalDecorationError:o("terminal-decoration-error",60411),arrowCircleDown:o("arrow-circle-down",60412),arrowCircleLeft:o("arrow-circle-left",60413),arrowCircleRight:o("arrow-circle-right",60414),arrowCircleUp:o("arrow-circle-up",60415),layoutSidebarRightOff:o("layout-sidebar-right-off",60416),layoutPanelOff:o("layout-panel-off",60417),layoutSidebarLeftOff:o("layout-sidebar-left-off",60418),blank:o("blank",60419),heartFilled:o("heart-filled",60420),map:o("map",60421),mapHorizontal:o("map-horizontal",60421),foldHorizontal:o("fold-horizontal",60421),mapFilled:o("map-filled",60422),mapHorizontalFilled:o("map-horizontal-filled",60422),foldHorizontalFilled:o("fold-horizontal-filled",60422),circleSmall:o("circle-small",60423),bellSlash:o("bell-slash",60424),bellSlashDot:o("bell-slash-dot",60425),commentUnresolved:o("comment-unresolved",60426),gitPullRequestGoToChanges:o("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:o("git-pull-request-new-changes",60428),searchFuzzy:o("search-fuzzy",60429),commentDraft:o("comment-draft",60430),send:o("send",60431),sparkle:o("sparkle",60432),insert:o("insert",60433),mic:o("mic",60434),thumbsdownFilled:o("thumbsdown-filled",60435),thumbsupFilled:o("thumbsup-filled",60436),coffee:o("coffee",60437),snake:o("snake",60438),game:o("game",60439),vr:o("vr",60440),chip:o("chip",60441),piano:o("piano",60442),music:o("music",60443),micFilled:o("mic-filled",60444),repoFetch:o("repo-fetch",60445),copilot:o("copilot",60446),lightbulbSparkle:o("lightbulb-sparkle",60447),robot:o("robot",60448),sparkleFilled:o("sparkle-filled",60449),diffSingle:o("diff-single",60450),diffMultiple:o("diff-multiple",60451),surroundWith:o("surround-with",60452),share:o("share",60453),gitStash:o("git-stash",60454),gitStashApply:o("git-stash-apply",60455),gitStashPop:o("git-stash-pop",60456),vscode:o("vscode",60457),vscodeInsiders:o("vscode-insiders",60458),codeOss:o("code-oss",60459),runCoverage:o("run-coverage",60460),runAllCoverage:o("run-all-coverage",60461),coverage:o("coverage",60462),githubProject:o("github-project",60463),mapVertical:o("map-vertical",60464),foldVertical:o("fold-vertical",60464),mapVerticalFilled:o("map-vertical-filled",60465),foldVerticalFilled:o("fold-vertical-filled",60465),goToSearch:o("go-to-search",60466),percentage:o("percentage",60467),sortPercentage:o("sort-percentage",60467),attach:o("attach",60468),dialogError:o("dialog-error","error"),dialogWarning:o("dialog-warning","warning"),dialogInfo:o("dialog-info","info"),dialogClose:o("dialog-close","close"),treeItemExpanded:o("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:o("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:o("tree-filter-on-type-off","list-selection"),treeFilterClear:o("tree-filter-clear","close"),treeItemLoading:o("tree-item-loading","loading"),menuSelection:o("menu-selection","check"),menuSubmenu:o("menu-submenu","chevron-right"),menuBarMore:o("menubar-more","more"),scrollbarButtonLeft:o("scrollbar-button-left","triangle-left"),scrollbarButtonRight:o("scrollbar-button-right","triangle-right"),scrollbarButtonUp:o("scrollbar-button-up","triangle-up"),scrollbarButtonDown:o("scrollbar-button-down","triangle-down"),toolBarMore:o("toolbar-more","more"),quickInputBack:o("quick-input-back","arrow-left"),dropDownButton:o("drop-down-button",60084),symbolCustomColor:o("symbol-customcolor",60252),exportIcon:o("export",60332),workspaceUnspecified:o("workspace-unspecified",60355),newLine:o("newline",60394),thumbsDownFilled:o("thumbsdown-filled",60435),thumbsUpFilled:o("thumbsup-filled",60436),gitFetch:o("git-fetch",60445),lightbulbSparkleAutofix:o("lightbulb-sparkle-autofix",60447),debugBreakpointPending:o("debug-breakpoint-pending",60377)}},4072:(ft,Oe,I)=>{"use strict";function W($,f){const B=Math.pow(10,f);return Math.round($*B)/B}I.d(Oe,{Q1:()=>C,bU:()=>Z,hB:()=>o});class Z{constructor(f,B,F,ae=1){this._rgbaBrand=void 0,this.r=0|Math.min(255,Math.max(0,f)),this.g=0|Math.min(255,Math.max(0,B)),this.b=0|Math.min(255,Math.max(0,F)),this.a=W(Math.max(Math.min(1,ae),0),3)}static equals(f,B){return f.r===B.r&&f.g===B.g&&f.b===B.b&&f.a===B.a}}class o{constructor(f,B,F,ae){this._hslaBrand=void 0,this.h=0|Math.max(Math.min(360,f),0),this.s=W(Math.max(Math.min(1,B),0),3),this.l=W(Math.max(Math.min(1,F),0),3),this.a=W(Math.max(Math.min(1,ae),0),3)}static equals(f,B){return f.h===B.h&&f.s===B.s&&f.l===B.l&&f.a===B.a}static fromRGBA(f){const B=f.r/255,F=f.g/255,ae=f.b/255,K=f.a,A=Math.max(B,F,ae),S=Math.min(B,F,ae);let M=0,E=0;const p=(S+A)/2,Ce=A-S;if(Ce>0){switch(E=Math.min(p<=.5?Ce/(2*p):Ce/(2-2*p),1),A){case B:M=(F-ae)/Ce+(F<ae?6:0);break;case F:M=(ae-B)/Ce+2;break;case ae:M=(B-F)/Ce+4}M*=60,M=Math.round(M)}return new o(M,E,p,K)}static _hue2rgb(f,B,F){return F<0&&(F+=1),F>1&&(F-=1),F<.16666666666666666?f+6*(B-f)*F:F<.5?B:F<.6666666666666666?f+(B-f)*(.6666666666666666-F)*6:f}static toRGBA(f){const B=f.h/360,{s:F,l:ae,a:K}=f;let A,S,M;if(0===F)A=S=M=ae;else{const E=ae<.5?ae*(1+F):ae+F-ae*F,p=2*ae-E;A=o._hue2rgb(p,E,B+.3333333333333333),S=o._hue2rgb(p,E,B),M=o._hue2rgb(p,E,B-.3333333333333333)}return new Z(Math.round(255*A),Math.round(255*S),Math.round(255*M),K)}}class D{constructor(f,B,F,ae){this._hsvaBrand=void 0,this.h=0|Math.max(Math.min(360,f),0),this.s=W(Math.max(Math.min(1,B),0),3),this.v=W(Math.max(Math.min(1,F),0),3),this.a=W(Math.max(Math.min(1,ae),0),3)}static equals(f,B){return f.h===B.h&&f.s===B.s&&f.v===B.v&&f.a===B.a}static fromRGBA(f){const B=f.r/255,F=f.g/255,ae=f.b/255,K=Math.max(B,F,ae),S=K-Math.min(B,F,ae),M=0===K?0:S/K;let E;return E=0===S?0:K===B?((F-ae)/S%6+6)%6:K===F?(ae-B)/S+2:(B-F)/S+4,new D(Math.round(60*E),M,K,f.a)}static toRGBA(f){const{h:B,s:F,v:ae,a:K}=f,A=ae*F,S=A*(1-Math.abs(B/60%2-1)),M=ae-A;let[E,p,Ce]=[0,0,0];return B<60?(E=A,p=S):B<120?(E=S,p=A):B<180?(p=A,Ce=S):B<240?(p=S,Ce=A):B<300?(E=S,Ce=A):B<=360&&(E=A,Ce=S),E=Math.round(255*(E+M)),p=Math.round(255*(p+M)),Ce=Math.round(255*(Ce+M)),new Z(E,p,Ce,K)}}class C{static fromHex(f){return C.Format.CSS.parseHex(f)||C.red}static equals(f,B){return!f&&!B||!(!f||!B)&&f.equals(B)}get hsla(){return this._hsla?this._hsla:o.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:D.fromRGBA(this.rgba)}constructor(f){if(!f)throw new Error("Color needs a value");if(f instanceof Z)this.rgba=f;else if(f instanceof o)this._hsla=f,this.rgba=o.toRGBA(f);else{if(!(f instanceof D))throw new Error("Invalid color ctor argument");this._hsva=f,this.rgba=D.toRGBA(f)}}equals(f){return!!f&&Z.equals(this.rgba,f.rgba)&&o.equals(this.hsla,f.hsla)&&D.equals(this.hsva,f.hsva)}getRelativeLuminance(){return W(.2126*C._relativeLuminanceForComponent(this.rgba.r)+.7152*C._relativeLuminanceForComponent(this.rgba.g)+.0722*C._relativeLuminanceForComponent(this.rgba.b),4)}static _relativeLuminanceForComponent(f){const B=f/255;return B<=.03928?B/12.92:Math.pow((B+.055)/1.055,2.4)}isLighter(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3>=128}isLighterThan(f){return this.getRelativeLuminance()>f.getRelativeLuminance()}isDarkerThan(f){return this.getRelativeLuminance()<f.getRelativeLuminance()}lighten(f){return new C(new o(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*f,this.hsla.a))}darken(f){return new C(new o(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*f,this.hsla.a))}transparent(f){const{r:B,g:F,b:ae,a:K}=this.rgba;return new C(new Z(B,F,ae,K*f))}isTransparent(){return 0===this.rgba.a}isOpaque(){return 1===this.rgba.a}opposite(){return new C(new Z(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}makeOpaque(f){if(this.isOpaque()||1!==f.rgba.a)return this;const{r:B,g:F,b:ae,a:K}=this.rgba;return new C(new Z(f.rgba.r-K*(f.rgba.r-B),f.rgba.g-K*(f.rgba.g-F),f.rgba.b-K*(f.rgba.b-ae),1))}toString(){return this._toString||(this._toString=C.Format.CSS.format(this)),this._toString}static getLighterColor(f,B,F){if(f.isLighterThan(B))return f;F=F||.5;const ae=f.getRelativeLuminance(),K=B.getRelativeLuminance();return f.lighten(F=F*(K-ae)/K)}static getDarkerColor(f,B,F){if(f.isDarkerThan(B))return f;F=F||.5;const ae=f.getRelativeLuminance(),K=B.getRelativeLuminance();return f.darken(F=F*(ae-K)/ae)}static{this.white=new C(new Z(255,255,255,1))}static{this.black=new C(new Z(0,0,0,1))}static{this.red=new C(new Z(255,0,0,1))}static{this.blue=new C(new Z(0,0,255,1))}static{this.green=new C(new Z(0,255,0,1))}static{this.cyan=new C(new Z(0,255,255,1))}static{this.lightgrey=new C(new Z(211,211,211,1))}static{this.transparent=new C(new Z(0,0,0,0))}}!function($){let f;!function(B){let F;!function(ae){function E(k){const U=k.toString(16);return 2!==U.length?"0"+U:U}function w(k){switch(k){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:case 65:return 10;case 98:case 66:return 11;case 99:case 67:return 12;case 100:case 68:return 13;case 101:case 69:return 14;case 102:case 70:return 15}return 0}ae.formatRGB=function K(k){return 1===k.rgba.a?`rgb(${k.rgba.r}, ${k.rgba.g}, ${k.rgba.b})`:$.Format.CSS.formatRGBA(k)},ae.formatRGBA=function A(k){return`rgba(${k.rgba.r}, ${k.rgba.g}, ${k.rgba.b}, ${+k.rgba.a.toFixed(2)})`},ae.formatHSL=function S(k){return 1===k.hsla.a?`hsl(${k.hsla.h}, ${(100*k.hsla.s).toFixed(2)}%, ${(100*k.hsla.l).toFixed(2)}%)`:$.Format.CSS.formatHSLA(k)},ae.formatHSLA=function M(k){return`hsla(${k.hsla.h}, ${(100*k.hsla.s).toFixed(2)}%, ${(100*k.hsla.l).toFixed(2)}%, ${k.hsla.a.toFixed(2)})`},ae.formatHex=function p(k){return`#${E(k.rgba.r)}${E(k.rgba.g)}${E(k.rgba.b)}`},ae.formatHexA=function Ce(k,U=!1){return U&&1===k.rgba.a?$.Format.CSS.formatHex(k):`#${E(k.rgba.r)}${E(k.rgba.g)}${E(k.rgba.b)}${E(Math.round(255*k.rgba.a))}`},ae.format=function me(k){return k.isOpaque()?$.Format.CSS.formatHex(k):$.Format.CSS.formatRGBA(k)},ae.parseHex=function _(k){const U=k.length;if(0===U||35!==k.charCodeAt(0))return null;if(7===U){const H=16*w(k.charCodeAt(1))+w(k.charCodeAt(2)),j=16*w(k.charCodeAt(3))+w(k.charCodeAt(4)),y=16*w(k.charCodeAt(5))+w(k.charCodeAt(6));return new $(new Z(H,j,y,1))}if(9===U){const H=16*w(k.charCodeAt(1))+w(k.charCodeAt(2)),j=16*w(k.charCodeAt(3))+w(k.charCodeAt(4)),y=16*w(k.charCodeAt(5))+w(k.charCodeAt(6)),O=16*w(k.charCodeAt(7))+w(k.charCodeAt(8));return new $(new Z(H,j,y,O/255))}if(4===U){const H=w(k.charCodeAt(1)),j=w(k.charCodeAt(2)),y=w(k.charCodeAt(3));return new $(new Z(16*H+H,16*j+j,16*y+y))}if(5===U){const H=w(k.charCodeAt(1)),j=w(k.charCodeAt(2)),y=w(k.charCodeAt(3)),O=w(k.charCodeAt(4));return new $(new Z(16*H+H,16*j+j,16*y+y,(16*O+O)/255))}return null}}(F=B.CSS||(B.CSS={}))}(f=$.Format||($.Format={}))}(C||(C={}))},5680:(ft,Oe,I)=>{"use strict";I.d(Oe,{D7:()=>M,EM:()=>A,Qg:()=>ae,cU:()=>C,dz:()=>o,iH:()=>K});const Z=new class W{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(p){setTimeout(()=>{throw p.stack?S.isErrorNoTelemetry(p)?new S(p.message+"\n\n"+p.stack):new Error(p.message+"\n\n"+p.stack):p},0)}}emit(p){this.listeners.forEach(Ce=>{Ce(p)})}onUnexpectedError(p){this.unexpectedErrorHandler(p),this.emit(p)}onUnexpectedExternalError(p){this.unexpectedErrorHandler(p)}};function o(E){(function f(E){return E instanceof B||E instanceof Error&&E.name===$&&E.message===$})(E)||Z.onUnexpectedError(E)}function C(E){if(E instanceof Error){const{name:p,message:Ce}=E;return{$isError:!0,name:p,message:Ce,stack:E.stacktrace||E.stack,noTelemetry:S.isErrorNoTelemetry(E)}}return E}const $="Canceled";class B extends Error{constructor(){super($),this.name=this.message}}function ae(E){return E?new Error(`Illegal argument: ${E}`):new Error("Illegal argument")}function K(E){return E?new Error(`Illegal state: ${E}`):new Error("Illegal state")}class A extends Error{constructor(p){super("NotSupported"),p&&(this.message=p)}}class S extends Error{constructor(p){super(p),this.name="CodeExpectedError"}static fromError(p){if(p instanceof S)return p;const Ce=new S;return Ce.message=p.message,Ce.stack=p.stack,Ce}static isErrorNoTelemetry(p){return"CodeExpectedError"===p.name}}class M extends Error{constructor(p){super(p||"An unexpected bug occurred."),Object.setPrototypeOf(this,M.prototype)}}},5643:(ft,Oe,I)=>{"use strict";I.d(Oe,{Jh:()=>B,vl:()=>_});var B,W=I(5680),Z=I(4061),D=(I(8002),I(2588));!function(T){function he(_t){return(rt,Je=null,x)=>{let je,ue=!1;return je=_t(Q=>{if(!ue)return je?je.dispose():ue=!0,rt.call(Je,Q)},null,x),ue&&je.dispose(),je}}function ne(_t,rt,Je){return le((x,ue=null,je)=>_t(Q=>x.call(ue,rt(Q)),null,je),Je)}function Ae(_t,rt,Je){return le((x,ue=null,je)=>_t(Q=>rt(Q)&&x.call(ue,Q),null,je),Je)}function le(_t,rt){let Je;const ue=new _({onWillAddFirstListener(){Je=_t(ue.fire,ue)},onDidRemoveLastListener(){Je?.dispose()}});return rt?.add(ue),ue.event}function xe(_t,rt,Je=100,x=!1,ue=!1,je,Q){let Be,Ue,st,n,kt=0;const Ht=new _({leakWarningThreshold:je,onWillAddFirstListener(){Be=_t(tn=>{kt++,Ue=rt(Ue,tn),x&&!st&&(Ht.fire(Ue),Ue=void 0),n=()=>{const mn=Ue;Ue=void 0,st=void 0,(!x||kt>1)&&Ht.fire(mn),kt=0},"number"==typeof Je?(clearTimeout(st),st=setTimeout(n,Je)):void 0===st&&(st=0,queueMicrotask(n))})},onWillRemoveListener(){ue&&kt>0&&n?.()},onDidRemoveLastListener(){n=void 0,Be.dispose()}});return Q?.add(Ht),Ht.event}T.None=()=>Z.jG.None,T.defer=function ee(_t,rt){return xe(_t,()=>{},0,void 0,!0,void 0,rt)},T.once=he,T.onceIf=function pe(_t,rt){return T.once(T.filter(_t,rt))},T.map=ne,T.forEach=function ie(_t,rt,Je){return le((x,ue=null,je)=>_t(Q=>{rt(Q),x.call(ue,Q)},null,je),Je)},T.filter=Ae,T.signal=function ce(_t){return _t},T.any=function P(..._t){return(rt,Je=null,x)=>function ge(_t,rt){return rt instanceof Array?rt.push(_t):rt&&rt.add(_t),_t}((0,Z.qE)(..._t.map(je=>je(Q=>rt.call(Je,Q)))),x)},T.reduce=function J(_t,rt,Je,x){let ue=Je;return ne(_t,je=>(ue=rt(ue,je),ue),x)},T.debounce=xe,T.accumulate=function De(_t,rt=0,Je){return T.debounce(_t,(x,ue)=>x?(x.push(ue),x):[ue],rt,void 0,!0,void 0,Je)},T.latch=function ze(_t,rt=(x,ue)=>x===ue,Je){let ue,x=!0;return Ae(_t,je=>{const Q=x||!rt(je,ue);return x=!1,ue=je,Q},Je)},T.split=function We(_t,rt,Je){return[T.filter(_t,rt,Je),T.filter(_t,x=>!rt(x),Je)]},T.buffer=function ht(_t,rt=!1,Je=[],x){let ue=Je.slice(),je=_t(Ue=>{ue?ue.push(Ue):Be.fire(Ue)});x&&x.add(je);const Q=()=>{ue?.forEach(Ue=>Be.fire(Ue)),ue=null},Be=new _({onWillAddFirstListener(){je||(je=_t(Ue=>Be.fire(Ue)),x&&x.add(je))},onDidAddFirstListener(){ue&&(rt?setTimeout(Q):Q())},onDidRemoveLastListener(){je&&je.dispose(),je=null}});return x&&x.add(Be),Be.event},T.chain=function et(_t,rt){return(x,ue,je)=>{const Q=rt(new nt);return _t(function(Be){const Ue=Q.evaluate(Be);Ue!==mt&&x.call(ue,Ue)},void 0,je)}};const mt=Symbol("HaltChainable");class nt{constructor(){this.steps=[]}map(rt){return this.steps.push(rt),this}forEach(rt){return this.steps.push(Je=>(rt(Je),Je)),this}filter(rt){return this.steps.push(Je=>rt(Je)?Je:mt),this}reduce(rt,Je){let x=Je;return this.steps.push(ue=>(x=rt(x,ue),x)),this}latch(rt=(Je,x)=>Je===x){let x,Je=!0;return this.steps.push(ue=>{const je=Je||!rt(ue,x);return Je=!1,x=ue,je?ue:mt}),this}evaluate(rt){for(const Je of this.steps)if((rt=Je(rt))===mt)break;return rt}}T.fromNodeEventEmitter=function ot(_t,rt,Je=x=>x){const x=(...Be)=>Q.fire(Je(...Be)),Q=new _({onWillAddFirstListener:()=>_t.on(rt,x),onDidRemoveLastListener:()=>_t.removeListener(rt,x)});return Q.event},T.fromDOMEventEmitter=function St(_t,rt,Je=x=>x){const x=(...Be)=>Q.fire(Je(...Be)),Q=new _({onWillAddFirstListener:()=>_t.addEventListener(rt,x),onDidRemoveLastListener:()=>_t.removeEventListener(rt,x)});return Q.event},T.toPromise=function Jt(_t){return new Promise(rt=>he(_t)(rt))},T.fromPromise=function rn(_t){const rt=new _;return _t.then(Je=>{rt.fire(Je)},()=>{rt.fire(void 0)}).finally(()=>{rt.dispose()}),rt.event},T.forward=function qt(_t,rt){return _t(Je=>rt.fire(Je))},T.runAndSubscribe=function hn(_t,rt,Je){return rt(Je),_t(x=>rt(x))};class Sn{constructor(rt,Je){this._observable=rt,this._counter=0,this._hasChanged=!1;this.emitter=new _({onWillAddFirstListener:()=>{rt.addObserver(this),this._observable.reportChanges()},onDidRemoveLastListener:()=>{rt.removeObserver(this)}}),Je&&Je.add(this.emitter)}beginUpdate(rt){this._counter++}handlePossibleChange(rt){}handleChange(rt,Je){this._hasChanged=!0}endUpdate(rt){this._counter--,0===this._counter&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}T.fromObservable=function Bn(_t,rt){return new Sn(_t,rt).emitter.event},T.fromObservableLight=function Ln(_t){return(rt,Je,x)=>{let ue=0,je=!1;const Q={beginUpdate(){ue++},endUpdate(){ue--,0===ue&&(_t.reportChanges(),je&&(je=!1,rt.call(Je)))},handlePossibleChange(){},handleChange(){je=!0}};_t.addObserver(Q),_t.reportChanges();const Be={dispose(){_t.removeObserver(Q)}};return x instanceof Z.Cm?x.add(Be):Array.isArray(x)&&x.push(Be),Be}}}(B||(B={}));class F{static{this.all=new Set}static{this._idPool=0}constructor(z){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${z}_${F._idPool++}`,F.all.add(this)}start(z){this._stopWatch=new D.W,this.listenerCount=z}stop(){if(this._stopWatch){const z=this._stopWatch.elapsed();this.durations.push(z),this.elapsedOverall+=z,this.invocationCount+=1,this._stopWatch=void 0}}}let K=(()=>{class T{static{this._idPool=1}constructor(ee,he,pe=(T._idPool++).toString(16).padStart(3,"0")){this._errorHandler=ee,this.threshold=he,this.name=pe,this._warnCountdown=0}dispose(){this._stacks?.clear()}check(ee,he){const pe=this.threshold;if(pe<=0||he<pe)return;this._stacks||(this._stacks=new Map);const ne=this._stacks.get(ee.value)||0;if(this._stacks.set(ee.value,ne+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=.5*pe;const[ie,Ae]=this.getMostFrequentStack(),ce=`[${this.name}] potential listener LEAK detected, having ${he} listeners already. MOST frequent listener (${Ae}):`;console.warn(ce),console.warn(ie);const P=new S(ce,ie);this._errorHandler(P)}return()=>{const ie=this._stacks.get(ee.value)||0;this._stacks.set(ee.value,ie-1)}}getMostFrequentStack(){if(!this._stacks)return;let ee,he=0;for(const[pe,ne]of this._stacks)(!ee||he<ne)&&(ee=[pe,ne],he=ne);return ee}}return T})();class A{static create(){const z=new Error;return new A(z.stack??"")}constructor(z){this.value=z}print(){console.warn(this.value.split("\n").slice(2).join("\n"))}}class S extends Error{constructor(z,ee){super(z),this.name="ListenerLeakError",this.stack=ee}}class M extends Error{constructor(z,ee){super(z),this.name="ListenerRefusalError",this.stack=ee}}class E{constructor(z){this.value=z}}class _{constructor(z){this._size=0,this._options=z,this._leakageMon=this._options?.leakWarningThreshold?new K(z?.onListenerError??W.dz,this._options?.leakWarningThreshold??-1):void 0,this._perfMon=this._options?._profName?new F(this._options._profName):void 0,this._deliveryQueue=this._options?.deliveryQueue}dispose(){this._disposed||(this._disposed=!0,this._deliveryQueue?.current===this&&this._deliveryQueue.reset(),this._listeners&&(this._listeners=void 0,this._size=0),this._options?.onDidRemoveLastListener?.(),this._leakageMon?.dispose())}get event(){return this._event??=(z,ee,he)=>{if(this._leakageMon&&this._size>this._leakageMon.threshold**2){const ce=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(ce);const P=this._leakageMon.getMostFrequentStack()??["UNKNOWN stack",-1],J=new M(`${ce}. HINT: Stack shows most frequent listener (${P[1]}-times)`,P[0]);return(this._options?.onListenerError||W.dz)(J),Z.jG.None}if(this._disposed)return Z.jG.None;ee&&(z=z.bind(ee));const pe=new E(z);let ne;this._leakageMon&&this._size>=Math.ceil(.2*this._leakageMon.threshold)&&(pe.stack=A.create(),ne=this._leakageMon.check(pe.stack,this._size+1)),this._listeners?this._listeners instanceof E?(this._deliveryQueue??=new k,this._listeners=[this._listeners,pe]):this._listeners.push(pe):(this._options?.onWillAddFirstListener?.(this),this._listeners=pe,this._options?.onDidAddFirstListener?.(this)),this._size++;const Ae=(0,Z.s)(()=>{ne?.(),this._removeListener(pe)});return he instanceof Z.Cm?he.add(Ae):Array.isArray(he)&&he.push(Ae),Ae},this._event}_removeListener(z){if(this._options?.onWillRemoveListener?.(this),!this._listeners)return;if(1===this._size)return this._listeners=void 0,this._options?.onDidRemoveLastListener?.(this),void(this._size=0);const ee=this._listeners,he=ee.indexOf(z);if(-1===he)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,ee[he]=void 0;const pe=this._deliveryQueue.current===this;if(2*this._size<=ee.length){let ne=0;for(let ie=0;ie<ee.length;ie++)ee[ie]?ee[ne++]=ee[ie]:pe&&(this._deliveryQueue.end--,ne<this._deliveryQueue.i&&this._deliveryQueue.i--);ee.length=ne}}_deliver(z,ee){if(!z)return;const he=this._options?.onListenerError||W.dz;if(he)try{z.value(ee)}catch(pe){he(pe)}else z.value(ee)}_deliverQueue(z){const ee=z.current._listeners;for(;z.i<z.end;)this._deliver(ee[z.i++],z.value);z.reset()}fire(z){if(this._deliveryQueue?.current&&(this._deliverQueue(this._deliveryQueue),this._perfMon?.stop()),this._perfMon?.start(this._size),this._listeners)if(this._listeners instanceof E)this._deliver(this._listeners,z);else{const ee=this._deliveryQueue;ee.enqueue(this,z,this._listeners.length),this._deliverQueue(ee)}this._perfMon?.stop()}hasListeners(){return this._size>0}}class k{constructor(){this.i=-1,this.end=0}enqueue(z,ee,he){this.i=0,this.end=he,this.current=z,this.value=ee}reset(){this.i=this.end,this.current=void 0,this.value=void 0}}},9007:(ft,Oe,I)=>{"use strict";I.d(Oe,{TH:()=>C,Zn:()=>f,_1:()=>B,kb:()=>$});var W=I(1824),o=(I(1828),I(6653));function D(K){return 47===K||92===K}function C(K){return K.replace(/[\\/]/g,W.SA.sep)}function $(K){return-1===K.indexOf("/")&&(K=C(K)),/^[a-zA-Z]:(\/|$)/.test(K)&&(K="/"+K),K}function f(K,A=W.SA.sep){if(!K)return"";const S=K.length,M=K.charCodeAt(0);if(D(M)){if(D(K.charCodeAt(1))&&!D(K.charCodeAt(2))){let p=3;const Ce=p;for(;p<S&&!D(K.charCodeAt(p));p++);if(Ce!==p&&!D(K.charCodeAt(p+1)))for(p+=1;p<S;p++)if(D(K.charCodeAt(p)))return K.slice(0,p+1).replace(/[\\/]/g,A)}return A}if(function F(K){return K>=65&&K<=90||K>=97&&K<=122}(M)&&58===K.charCodeAt(1))return D(K.charCodeAt(2))?K.slice(0,2)+A:K.slice(0,2);let E=K.indexOf("://");if(-1!==E)for(E+=3;E<S;E++)if(D(K.charCodeAt(E)))return K.slice(0,E+1);return""}function B(K,A,S,M=W.Vn){if(K===A)return!0;if(!K||!A||A.length>K.length)return!1;if(S){if(!(0,o.ns)(K,A))return!1;if(A.length===K.length)return!0;let p=A.length;return A.charAt(A.length-1)===M&&p--,K.charAt(p)===M}return A.charAt(A.length-1)!==M&&(A+=M),0===K.indexOf(A)}},7441:(ft,Oe,I)=>{"use strict";I.d(Oe,{YW:()=>ne,qg:()=>ie});var W=I(467),Z=I(795),o=I(9007),D=I(53),C=I(1824),$=I(1828),f=I(6653);const B="**",F="/",ae="[/\\\\]",K="[^/\\\\]",A=/\//g;function S(le,ge){switch(le){case 0:return"";case 1:return`${K}*?`;default:return`(?:${ae}|${K}+${ae}${ge?`|${ae}${K}+`:""})*?`}}function M(le,ge){if(!le)return[];const xe=[];let De=!1,ze=!1,We="";for(const ht of le){switch(ht){case ge:if(!De&&!ze){xe.push(We),We="";continue}break;case"{":De=!0;break;case"}":De=!1;break;case"[":ze=!0;break;case"]":ze=!1}We+=ht}return We&&xe.push(We),xe}function E(le){if(!le)return"";let ge="";const xe=M(le,F);if(xe.every(De=>De===B))ge=".*";else{let De=!1;xe.forEach((ze,We)=>{if(ze===B){if(De)return;ge+=S(2,We===xe.length-1)}else{let ht=!1,et="",mt=!1,nt="";for(const ot of ze)if("}"!==ot&&ht)et+=ot;else if(!mt||"]"===ot&&nt)switch(ot){case"{":ht=!0;continue;case"[":mt=!0;continue;case"}":{const Jt=`(?:${M(et,",").map(rn=>E(rn)).join("|")})`;ge+=Jt,ht=!1,et="";break}case"]":ge+="["+nt+"]",mt=!1,nt="";break;case"?":ge+=K;continue;case"*":ge+=S(1);continue;default:ge+=(0,f.bm)(ot)}else{let St;St="-"===ot?ot:"^"!==ot&&"!"!==ot||nt?ot===F?"":(0,f.bm)(ot):"^",nt+=St}We<xe.length-1&&(xe[We+1]!==B||We+2<xe.length)&&(ge+=ae)}De=ze===B})}return ge}const p=/^\*\*\/\*\.[\w\.-]+$/,Ce=/^\*\*\/([\w\.-]+)\/?$/,me=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,_=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,w=/^\*\*((\/[\w\.-]+)+)\/?$/,k=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,U=new D.qK(1e4),H=function(){return!1},j=function(){return null};function y(le,ge){if(!le)return j;let xe;xe="string"!=typeof le?le.pattern:le,xe=xe.trim();const De=`${xe}_${!!ge.trimForExclusions}`;let We,ze=U.get(De);return ze||(ze=p.test(xe)?function T(le,ge){return function(xe,De){return"string"==typeof xe&&xe.endsWith(le)?ge:null}}(xe.substr(4),xe):(We=Ce.exec(G(xe,ge)))?function z(le,ge){const xe=`/${le}`,De=`\\${le}`,ze=function(ht,et){return"string"!=typeof ht?null:et?et===le?ge:null:ht===le||ht.endsWith(xe)||ht.endsWith(De)?ge:null},We=[le];return ze.basenames=We,ze.patterns=[ge],ze.allBasenames=We,ze}(We[1],xe):(ge.trimForExclusions?_:me).test(xe)?function ee(le,ge){const xe=J(le.slice(1,-1).split(",").map(et=>y(et,ge)).filter(et=>et!==j),le),De=xe.length;if(!De)return j;if(1===De)return xe[0];const ze=function(et,mt){for(let nt=0,ot=xe.length;nt<ot;nt++)if(xe[nt](et,mt))return le;return null},We=xe.find(et=>!!et.allBasenames);We&&(ze.allBasenames=We.allBasenames);const ht=xe.reduce((et,mt)=>mt.allPaths?et.concat(mt.allPaths):et,[]);return ht.length&&(ze.allPaths=ht),ze}(xe,ge):(We=w.exec(G(xe,ge)))?he(We[1].substr(1),xe,!0):(We=k.exec(G(xe,ge)))?he(We[1],xe,!1):function pe(le){try{const ge=new RegExp(`^${E(le)}$`);return function(xe){return ge.lastIndex=0,"string"==typeof xe&&ge.test(xe)?le:null}}catch{return j}}(xe),U.set(De,ze)),function O(le,ge){if("string"==typeof ge)return le;const xe=function(De,ze){return(0,o._1)(De,ge.base,!$.j9)?le((0,f.NB)(De.substr(ge.base.length),C.Vn),ze):null};return xe.allBasenames=le.allBasenames,xe.allPaths=le.allPaths,xe.basenames=le.basenames,xe.patterns=le.patterns,xe}(ze,le)}function G(le,ge){return ge.trimForExclusions&&le.endsWith("/**")?le.substr(0,le.length-2):le}function he(le,ge,xe){const De=C.Vn===C.SA.sep,ze=De?le:le.replace(A,C.Vn),We=C.Vn+ze,ht=C.SA.sep+le;let et;return et=xe?function(mt,nt){return"string"!=typeof mt||mt!==ze&&!mt.endsWith(We)&&(De||mt!==le&&!mt.endsWith(ht))?null:ge}:function(mt,nt){return"string"!=typeof mt||mt!==ze&&(De||mt!==le)?null:ge},et.allPaths=[(xe?"*/":"./")+le],et}function ne(le,ge,xe){return!(!le||"string"!=typeof ge)&&ie(le)(ge,void 0,xe)}function ie(le,ge={}){if(!le)return H;if("string"==typeof le||function Ae(le){return!!le&&"string"==typeof le.base&&"string"==typeof le.pattern}(le)){const xe=y(le,ge);if(xe===j)return H;const De=function(ze,We){return!!xe(ze,We)};return xe.allBasenames&&(De.allBasenames=xe.allBasenames),xe.allPaths&&(De.allPaths=xe.allPaths),De}return function ce(le,ge){const xe=J(Object.getOwnPropertyNames(le).map(et=>function P(le,ge,xe){if(!1===ge)return j;const De=y(le,xe);if(De===j)return j;if("boolean"==typeof ge)return De;if(ge){const ze=ge.when;if("string"==typeof ze){const We=(ht,et,mt,nt)=>{if(!nt||!De(ht,et))return null;const St=nt(ze.replace("$(basename)",()=>mt));return(0,Z.Qg)(St)?St.then(Jt=>Jt?le:null):St?le:null};return We.requiresSiblings=!0,We}}return De}(et,le[et],ge)).filter(et=>et!==j)),De=xe.length;if(!De)return j;if(!xe.some(et=>!!et.requiresSiblings)){if(1===De)return xe[0];const et=function(ot,St){let Jt;for(let rn=0,qt=xe.length;rn<qt;rn++){const hn=xe[rn](ot,St);if("string"==typeof hn)return hn;(0,Z.Qg)(hn)&&(Jt||(Jt=[]),Jt.push(hn))}return Jt?(0,W.A)(function*(){for(const rn of Jt){const qt=yield rn;if("string"==typeof qt)return qt}return null})():null},mt=xe.find(ot=>!!ot.allBasenames);mt&&(et.allBasenames=mt.allBasenames);const nt=xe.reduce((ot,St)=>St.allPaths?ot.concat(St.allPaths):ot,[]);return nt.length&&(et.allPaths=nt),et}const ze=function(et,mt,nt){let ot,St;for(let Jt=0,rn=xe.length;Jt<rn;Jt++){const qt=xe[Jt];qt.requiresSiblings&&nt&&(mt||(mt=(0,C.P8)(et)),ot||(ot=mt.substr(0,mt.length-(0,C.LC)(et).length)));const hn=qt(et,mt,ot,nt);if("string"==typeof hn)return hn;(0,Z.Qg)(hn)&&(St||(St=[]),St.push(hn))}return St?(0,W.A)(function*(){for(const Jt of St){const rn=yield Jt;if("string"==typeof rn)return rn}return null})():null},We=xe.find(et=>!!et.allBasenames);We&&(ze.allBasenames=We.allBasenames);const ht=xe.reduce((et,mt)=>mt.allPaths?et.concat(mt.allPaths):et,[]);return ht.length&&(ze.allPaths=ht),ze}(le,ge)}function J(le,ge){const xe=le.filter(et=>!!et.basenames);if(xe.length<2)return le;const De=xe.reduce((et,mt)=>{const nt=mt.basenames;return nt?et.concat(nt):et},[]);let ze;if(ge){ze=[];for(let et=0,mt=De.length;et<mt;et++)ze.push(ge)}else ze=xe.reduce((et,mt)=>{const nt=mt.patterns;return nt?et.concat(nt):et},[]);const We=function(et,mt){if("string"!=typeof et)return null;if(!mt){let ot;for(ot=et.length;ot>0;ot--){const St=et.charCodeAt(ot-1);if(47===St||92===St)break}mt=et.substr(ot)}const nt=De.indexOf(mt);return-1!==nt?ze[nt]:null};We.basenames=De,We.patterns=ze,We.allBasenames=De;const ht=le.filter(et=>!et.basenames);return ht.push(We),ht}},5763:(ft,Oe,I)=>{"use strict";I.d(Oe,{e2:()=>$,sN:()=>o,v7:()=>S});var W=I(6653);function o(M,E){switch(typeof M){case"object":return null===M?D(349,E):Array.isArray(M)?function f(M,E){return E=D(104579,E),M.reduce((p,Ce)=>o(Ce,p),E)}(M,E):function B(M,E){return E=D(181387,E),Object.keys(M).sort().reduce((p,Ce)=>(p=$(Ce,p),o(M[Ce],p)),E)}(M,E);case"string":return $(M,E);case"boolean":return function C(M,E){return D(M?433:863,E)}(M,E);case"number":return D(M,E);case"undefined":return D(937,E);default:return D(617,E)}}function D(M,E){return(E<<5)-E+M|0}function $(M,E){E=D(149417,E);for(let p=0,Ce=M.length;p<Ce;p++)E=D(M.charCodeAt(p),E);return E}function F(M,E,p=32){const Ce=p-E;return(M<<E|(~((1<<Ce)-1)&M)>>>Ce)>>>0}function ae(M,E=0,p=M.byteLength,Ce=0){for(let me=0;me<p;me++)M[E+me]=Ce}function A(M,E=32){return M instanceof ArrayBuffer?Array.from(new Uint8Array(M)).map(p=>p.toString(16).padStart(2,"0")).join(""):function K(M,E,p="0"){for(;M.length<E;)M=p+M;return M}((M>>>0).toString(16),E/4)}class S{static{this._bigBlock32=new DataView(new ArrayBuffer(320))}constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(E){const p=E.length;if(0===p)return;const Ce=this._buff;let w,k,me=this._buffLen,_=this._leftoverHighSurrogate;for(0!==_?(w=_,k=-1,_=0):(w=E.charCodeAt(0),k=0);;){let U=w;if(W.pc(w)){if(!(k+1<p)){_=w;break}{const H=E.charCodeAt(k+1);W.LJ(H)?(k++,U=W.z_(w,H)):U=65533}}else W.LJ(w)&&(U=65533);if(me=this._push(Ce,me,U),k++,!(k<p))break;w=E.charCodeAt(k)}this._buffLen=me,this._leftoverHighSurrogate=_}_push(E,p,Ce){return Ce<128?E[p++]=Ce:Ce<2048?(E[p++]=192|(1984&Ce)>>>6,E[p++]=128|(63&Ce)>>>0):Ce<65536?(E[p++]=224|(61440&Ce)>>>12,E[p++]=128|(4032&Ce)>>>6,E[p++]=128|(63&Ce)>>>0):(E[p++]=240|(1835008&Ce)>>>18,E[p++]=128|(258048&Ce)>>>12,E[p++]=128|(4032&Ce)>>>6,E[p++]=128|(63&Ce)>>>0),p>=64&&(this._step(),p-=64,this._totalLen+=64,E[0]=E[64],E[1]=E[65],E[2]=E[66]),p}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),A(this._h0)+A(this._h1)+A(this._h2)+A(this._h3)+A(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,ae(this._buff,this._buffLen),this._buffLen>56&&(this._step(),ae(this._buff));const E=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(E/4294967296),!1),this._buffDV.setUint32(60,E%4294967296,!1),this._step()}_step(){const E=S._bigBlock32,p=this._buffDV;for(let y=0;y<64;y+=4)E.setUint32(y,p.getUint32(y,!1),!1);for(let y=64;y<320;y+=4)E.setUint32(y,F(E.getUint32(y-12,!1)^E.getUint32(y-32,!1)^E.getUint32(y-56,!1)^E.getUint32(y-64,!1),1),!1);let U,H,j,Ce=this._h0,me=this._h1,_=this._h2,w=this._h3,k=this._h4;for(let y=0;y<80;y++)y<20?(U=me&_|~me&w,H=1518500249):y<40?(U=me^_^w,H=1859775393):y<60?(U=me&_|me&w|_&w,H=2400959708):(U=me^_^w,H=3395469782),j=F(Ce,5)+U+k+H+E.getUint32(4*y,!1)&4294967295,k=w,w=_,_=F(me,30),me=Ce,Ce=j;this._h0=this._h0+Ce&4294967295,this._h1=this._h1+me&4294967295,this._h2=this._h2+_&4294967295,this._h3=this._h3+w&4294967295,this._h4=this._h4+k&4294967295}}},8481:(ft,Oe,I)=>{"use strict";I.d(Oe,{f:()=>o});var o,W=I(467),Z=I(9495);!function(D){function C(y){return y&&"object"==typeof y&&"function"==typeof y[Symbol.iterator]}D.is=C;const $=Object.freeze([]);function*B(y){yield y}function j(){return(j=(0,W.A)(function*(y){const O=[];var z,G=!1,T=!1;try{for(var he,ee=(0,Z.A)(y);G=!(he=yield ee.next()).done;G=!1)O.push(he.value)}catch(pe){T=!0,z=pe}finally{try{G&&null!=ee.return&&(yield ee.return())}finally{if(T)throw z}}return Promise.resolve(O)})).apply(this,arguments)}D.empty=function f(){return $},D.single=B,D.wrap=function F(y){return C(y)?y:B(y)},D.from=function ae(y){return y||$},D.reverse=function*K(y){for(let O=y.length-1;O>=0;O--)yield y[O]},D.isEmpty=function A(y){return!y||!0===y[Symbol.iterator]().next().done},D.first=function S(y){return y[Symbol.iterator]().next().value},D.some=function M(y,O){let G=0;for(const T of y)if(O(T,G++))return!0;return!1},D.find=function E(y,O){for(const G of y)if(O(G))return G},D.filter=function*p(y,O){for(const G of y)O(G)&&(yield G)},D.map=function*Ce(y,O){let G=0;for(const T of y)yield O(T,G++)},D.flatMap=function*me(y,O){let G=0;for(const T of y)yield*O(T,G++)},D.concat=function*_(...y){for(const O of y)yield*O},D.reduce=function w(y,O,G){let T=G;for(const z of y)T=O(T,z);return T},D.slice=function*k(y,O,G=y.length){for(O<0&&(O+=y.length),G<0?G+=y.length:G>y.length&&(G=y.length);O<G;O++)yield y[O]},D.consume=function U(y,O=Number.POSITIVE_INFINITY){const G=[];if(0===O)return[G,y];const T=y[Symbol.iterator]();for(let z=0;z<O;z++){const ee=T.next();if(ee.done)return[G,D.empty()];G.push(ee.value)}return[G,{[Symbol.iterator]:()=>T}]},D.asyncToArray=function H(y){return j.apply(this,arguments)}}(o||(o={}))},7081:(ft,Oe,I)=>{"use strict";I.d(Oe,{d:()=>W});class W{constructor(o){this.executor=o,this._didRun=!1}get value(){if(!this._didRun)try{this._value=this.executor()}catch(o){this._error=o}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}},4061:(ft,Oe,I)=>{"use strict";function W(k,U){const H=this;let y,j=!1;return function(){if(j)return y;if(j=!0,U)try{y=k.apply(H,arguments)}finally{U()}else y=k.apply(H,arguments);return y}}I.d(Oe,{jG:()=>p,$w:()=>w,Cm:()=>E,HE:()=>Ce,qE:()=>S,AS:()=>A,VD:()=>f,s:()=>M,Ay:()=>$});var Z=I(8481);let D=null;function $(k){return D?.trackDisposable(k),k}function f(k){D?.markAsDisposed(k)}function B(k,U){D?.setParent(k,U)}function A(k){if(Z.f.is(k)){const U=[];for(const H of k)if(H)try{H.dispose()}catch(j){U.push(j)}if(1===U.length)throw U[0];if(U.length>1)throw new AggregateError(U,"Encountered errors while disposing of store");return Array.isArray(k)?[]:k}if(k)return k.dispose(),k}function S(...k){const U=M(()=>A(k));return function F(k,U){if(D)for(const H of k)D.setParent(H,U)}(k,U),U}function M(k){const U=$({dispose:W(()=>{f(U),k()})});return U}let E=(()=>{class k{static{this.DISABLE_DISPOSED_WARNING=!1}constructor(){this._toDispose=new Set,this._isDisposed=!1,$(this)}dispose(){this._isDisposed||(f(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(0!==this._toDispose.size)try{A(this._toDispose)}finally{this._toDispose.clear()}}add(H){if(!H)return H;if(H===this)throw new Error("Cannot register a disposable on itself!");return B(H,this),this._isDisposed?k.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(H),H}deleteAndLeak(H){H&&this._toDispose.has(H)&&(this._toDispose.delete(H),B(H,null))}}return k})();class p{static{this.None=Object.freeze({dispose(){}})}constructor(){this._store=new E,$(this),B(this._store,this)}dispose(){f(this),this._store.dispose()}_register(U){if(U===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(U)}}class Ce{constructor(){this._isDisposed=!1,$(this)}get value(){return this._isDisposed?void 0:this._value}set value(U){this._isDisposed||U===this._value||(this._value?.dispose(),U&&B(U,this),this._value=U)}clear(){this.value=void 0}dispose(){this._isDisposed=!0,f(this),this._value?.dispose(),this._value=void 0}}class w{constructor(){this._store=new Map,this._isDisposed=!1,$(this)}dispose(){f(this),this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(this._store.size)try{A(this._store.values())}finally{this._store.clear()}}get(U){return this._store.get(U)}set(U,H,j=!1){this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),j||this._store.get(U)?.dispose(),this._store.set(U,H)}deleteAndDispose(U){this._store.get(U)?.dispose(),this._store.delete(U)}[Symbol.iterator](){return this._store[Symbol.iterator]()}}},8002:(ft,Oe,I)=>{"use strict";I.d(Oe,{w:()=>Z});class W{static{this.Undefined=new W(void 0)}constructor(D){this.element=D,this.next=W.Undefined,this.prev=W.Undefined}}class Z{constructor(){this._first=W.Undefined,this._last=W.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===W.Undefined}clear(){let D=this._first;for(;D!==W.Undefined;){const C=D.next;D.prev=W.Undefined,D.next=W.Undefined,D=C}this._first=W.Undefined,this._last=W.Undefined,this._size=0}unshift(D){return this._insert(D,!1)}push(D){return this._insert(D,!0)}_insert(D,C){const $=new W(D);if(this._first===W.Undefined)this._first=$,this._last=$;else if(C){const B=this._last;this._last=$,$.prev=B,B.next=$}else{const B=this._first;this._first=$,$.next=B,B.prev=$}this._size+=1;let f=!1;return()=>{f||(f=!0,this._remove($))}}shift(){if(this._first!==W.Undefined){const D=this._first.element;return this._remove(this._first),D}}pop(){if(this._last!==W.Undefined){const D=this._last.element;return this._remove(this._last),D}}_remove(D){if(D.prev!==W.Undefined&&D.next!==W.Undefined){const C=D.prev;C.next=D.next,D.next.prev=C}else D.prev===W.Undefined&&D.next===W.Undefined?(this._first=W.Undefined,this._last=W.Undefined):D.next===W.Undefined?(this._last=this._last.prev,this._last.next=W.Undefined):D.prev===W.Undefined&&(this._first=this._first.next,this._first.prev=W.Undefined);this._size-=1}*[Symbol.iterator](){let D=this._first;for(;D!==W.Undefined;)yield D.element,D=D.next}}},53:(ft,Oe,I)=>{"use strict";var W,Z;I.d(Oe,{cO:()=>F,db:()=>ae,fT:()=>C,qK:()=>B});class o{constructor(A,S){this.uri=A,this.value=S}}let C=(()=>{class K{static{this.defaultToKey=S=>S.toString()}constructor(S,M){if(this[W]="ResourceMap",S instanceof K)this.map=new Map(S.map),this.toKey=M??K.defaultToKey;else if(function D(K){return Array.isArray(K)}(S)){this.map=new Map,this.toKey=M??K.defaultToKey;for(const[E,p]of S)this.set(E,p)}else this.map=new Map,this.toKey=S??K.defaultToKey}set(S,M){return this.map.set(this.toKey(S),new o(S,M)),this}get(S){return this.map.get(this.toKey(S))?.value}has(S){return this.map.has(this.toKey(S))}get size(){return this.map.size}clear(){this.map.clear()}delete(S){return this.map.delete(this.toKey(S))}forEach(S,M){typeof M<"u"&&(S=S.bind(M));for(const[E,p]of this.map)S(p.value,p.uri,this)}*values(){for(const S of this.map.values())yield S.value}*keys(){for(const S of this.map.values())yield S.uri}*entries(){for(const S of this.map.values())yield[S.uri,S.value]}*[(W=Symbol.toStringTag,Symbol.iterator)](){for(const[,S]of this.map)yield[S.uri,S.value]}}return K})();class ${constructor(){this[Z]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(A){return this._map.has(A)}get(A,S=0){const M=this._map.get(A);if(M)return 0!==S&&this.touch(M,S),M.value}set(A,S,M=0){let E=this._map.get(A);if(E)E.value=S,0!==M&&this.touch(E,M);else{switch(E={key:A,value:S,next:void 0,previous:void 0},M){case 0:case 2:default:this.addItemLast(E);break;case 1:this.addItemFirst(E)}this._map.set(A,E),this._size++}return this}delete(A){return!!this.remove(A)}remove(A){const S=this._map.get(A);if(S)return this._map.delete(A),this.removeItem(S),this._size--,S.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const A=this._head;return this._map.delete(A.key),this.removeItem(A),this._size--,A.value}forEach(A,S){const M=this._state;let E=this._head;for(;E;){if(S?A.bind(S)(E.value,E.key,this):A(E.value,E.key,this),this._state!==M)throw new Error("LinkedMap got modified during iteration.");E=E.next}}keys(){const A=this,S=this._state;let M=this._head;const E={[Symbol.iterator]:()=>E,next(){if(A._state!==S)throw new Error("LinkedMap got modified during iteration.");if(M){const p={value:M.key,done:!1};return M=M.next,p}return{value:void 0,done:!0}}};return E}values(){const A=this,S=this._state;let M=this._head;const E={[Symbol.iterator]:()=>E,next(){if(A._state!==S)throw new Error("LinkedMap got modified during iteration.");if(M){const p={value:M.value,done:!1};return M=M.next,p}return{value:void 0,done:!0}}};return E}entries(){const A=this,S=this._state;let M=this._head;const E={[Symbol.iterator]:()=>E,next(){if(A._state!==S)throw new Error("LinkedMap got modified during iteration.");if(M){const p={value:[M.key,M.value],done:!1};return M=M.next,p}return{value:void 0,done:!0}}};return E}[(Z=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(A){if(A>=this.size)return;if(0===A)return void this.clear();let S=this._head,M=this.size;for(;S&&M>A;)this._map.delete(S.key),S=S.next,M--;this._head=S,this._size=M,S&&(S.previous=void 0),this._state++}trimNew(A){if(A>=this.size)return;if(0===A)return void this.clear();let S=this._tail,M=this.size;for(;S&&M>A;)this._map.delete(S.key),S=S.previous,M--;this._tail=S,this._size=M,S&&(S.next=void 0),this._state++}addItemFirst(A){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");A.next=this._head,this._head.previous=A}else this._tail=A;this._head=A,this._state++}addItemLast(A){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");A.previous=this._tail,this._tail.next=A}else this._head=A;this._tail=A,this._state++}removeItem(A){if(A===this._head&&A===this._tail)this._head=void 0,this._tail=void 0;else if(A===this._head){if(!A.next)throw new Error("Invalid list");A.next.previous=void 0,this._head=A.next}else if(A===this._tail){if(!A.previous)throw new Error("Invalid list");A.previous.next=void 0,this._tail=A.previous}else{const S=A.next,M=A.previous;if(!S||!M)throw new Error("Invalid list");S.previous=M,M.next=S}A.next=void 0,A.previous=void 0,this._state++}touch(A,S){if(!this._head||!this._tail)throw new Error("Invalid list");if(1===S||2===S)if(1===S){if(A===this._head)return;const M=A.next,E=A.previous;A===this._tail?(E.next=void 0,this._tail=E):(M.previous=E,E.next=M),A.previous=void 0,A.next=this._head,this._head.previous=A,this._head=A,this._state++}else if(2===S){if(A===this._tail)return;const M=A.next,E=A.previous;A===this._head?(M.previous=void 0,this._head=M):(M.previous=E,E.next=M),A.next=void 0,A.previous=this._tail,this._tail.next=A,this._tail=A,this._state++}}toJSON(){const A=[];return this.forEach((S,M)=>{A.push([M,S])}),A}fromJSON(A){this.clear();for(const[S,M]of A)this.set(S,M)}}class f extends ${constructor(A,S=1){super(),this._limit=A,this._ratio=Math.min(Math.max(0,S),1)}get limit(){return this._limit}set limit(A){this._limit=A,this.checkTrim()}get(A,S=2){return super.get(A,S)}peek(A){return super.get(A,0)}set(A,S){return super.set(A,S,2),this}checkTrim(){this.size>this._limit&&this.trim(Math.round(this._limit*this._ratio))}}class B extends f{constructor(A,S=1){super(A,S)}trim(A){this.trimOld(A)}set(A,S){return super.set(A,S),this.checkTrim(),this}}class F{constructor(A){if(this._m1=new Map,this._m2=new Map,A)for(const[S,M]of A)this.set(S,M)}clear(){this._m1.clear(),this._m2.clear()}set(A,S){this._m1.set(A,S),this._m2.set(S,A)}get(A){return this._m1.get(A)}getKey(A){return this._m2.get(A)}delete(A){const S=this._m1.get(A);return void 0!==S&&(this._m1.delete(A),this._m2.delete(S),!0)}keys(){return this._m1.keys()}values(){return this._m1.values()}}class ae{constructor(){this.map=new Map}add(A,S){let M=this.map.get(A);M||(M=new Set,this.map.set(A,M)),M.add(S)}delete(A,S){const M=this.map.get(A);M&&(M.delete(S),0===M.size&&this.map.delete(A))}forEach(A,S){const M=this.map.get(A);M&&M.forEach(S)}get(A){return this.map.get(A)||new Set}}},2323:(ft,Oe,I)=>{"use strict";I.d(Oe,{K:()=>W});const W=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"})},5109:(ft,Oe,I)=>{"use strict";I.d(Oe,{ny:()=>$,v$:()=>f,zl:()=>M});var W=I(5680),Z=I(1828),o=I(6653),D=I(2417),C=I(1824),$=function(p){return p.inMemory="inmemory",p.vscode="vscode",p.internal="private",p.walkThrough="walkThrough",p.walkThroughSnippet="walkThroughSnippet",p.http="http",p.https="https",p.file="file",p.mailto="mailto",p.untitled="untitled",p.data="data",p.command="command",p.vscodeRemote="vscode-remote",p.vscodeRemoteResource="vscode-remote-resource",p.vscodeManagedRemoteResource="vscode-managed-remote-resource",p.vscodeUserData="vscode-userdata",p.vscodeCustomEditor="vscode-custom-editor",p.vscodeNotebookCell="vscode-notebook-cell",p.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",p.vscodeNotebookCellMetadataDiff="vscode-notebook-cell-metadata-diff",p.vscodeNotebookCellOutput="vscode-notebook-cell-output",p.vscodeNotebookCellOutputDiff="vscode-notebook-cell-output-diff",p.vscodeNotebookMetadata="vscode-notebook-metadata",p.vscodeInteractiveInput="vscode-interactive-input",p.vscodeSettings="vscode-settings",p.vscodeWorkspaceTrust="vscode-workspace-trust",p.vscodeTerminal="vscode-terminal",p.vscodeChatCodeBlock="vscode-chat-code-block",p.vscodeChatCodeCompareBlock="vscode-chat-code-compare-block",p.vscodeChatSesssion="vscode-chat-editor",p.webviewPanel="webview-panel",p.vscodeWebview="vscode-webview",p.extension="extension",p.vscodeFileResource="vscode-file",p.tmp="tmp",p.vsls="vsls",p.vscodeSourceControl="vscode-scm",p.commentsInput="comment",p.codeSetting="code-setting",p.outputChannel="output",p}($||{});function f(p,Ce){return D.r.isUri(p)?(0,o.Q_)(p.scheme,Ce):(0,o.ns)(p,Ce+":")}const K=new class ae{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._serverRootPath="/"}setPreferredWebSchema(Ce){this._preferredWebSchema=Ce}get _remoteResourcesPath(){return C.SA.join(this._serverRootPath,$.vscodeRemoteResource)}rewrite(Ce){if(this._delegate)try{return this._delegate(Ce)}catch(H){return W.dz(H),Ce}const me=Ce.authority;let _=this._hosts[me];_&&-1!==_.indexOf(":")&&-1===_.indexOf("[")&&(_=`[${_}]`);const w=this._ports[me],k=this._connectionTokens[me];let U=`path=${encodeURIComponent(Ce.path)}`;return"string"==typeof k&&(U+=`&tkn=${encodeURIComponent(k)}`),D.r.from({scheme:Z.HZ?this._preferredWebSchema:$.vscodeRemoteResource,authority:`${_}:${w}`,path:this._remoteResourcesPath,query:U})}},M=new((()=>{class p{static{this.FALLBACK_AUTHORITY="vscode-app"}asBrowserUri(me){const _=this.toUri(me);return this.uriToBrowserUri(_)}uriToBrowserUri(me){return me.scheme===$.vscodeRemote?K.rewrite(me):me.scheme!==$.file||!Z.ib&&Z.lg!==`${$.vscodeFileResource}://${p.FALLBACK_AUTHORITY}`?me:me.with({scheme:$.vscodeFileResource,authority:me.authority||p.FALLBACK_AUTHORITY,query:null,fragment:null})}toUri(me,_){if(D.r.isUri(me))return me;if(globalThis._VSCODE_FILE_ROOT){const w=globalThis._VSCODE_FILE_ROOT;if(/^\w[\w\d+.-]*:\/\//.test(w))return D.r.joinPath(D.r.parse(w,!0),me);const k=C.fj(w,me);return D.r.file(k)}return D.r.parse(_.toUrl(me))}}return p})());var E;!function(p){const Ce=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);p.CoopAndCoep=Object.freeze(Ce.get("3"));const me="vscode-coi";p.getHeadersFromQuery=function _(k){let U;"string"==typeof k?U=new URL(k).searchParams:k instanceof URL?U=k.searchParams:D.r.isUri(k)&&(U=new URL(k.toString(!0)).searchParams);const H=U?.get(me);if(H)return Ce.get(H)},p.addSearchParam=function w(k,U,H){if(!globalThis.crossOriginIsolated)return;const j=U&&H?"3":H?"2":"1";k instanceof URLSearchParams?k.set(me,j):k[me]=j}}(E||(E={}))},4311:(ft,Oe,I)=>{"use strict";function f(K,A){if(K===A)return!0;if(null==K||null==A||typeof K!=typeof A||"object"!=typeof K||Array.isArray(K)!==Array.isArray(A))return!1;let S,M;if(Array.isArray(K)){if(K.length!==A.length)return!1;for(S=0;S<K.length;S++)if(!f(K[S],A[S]))return!1}else{const E=[];for(M in K)E.push(M);E.sort();const p=[];for(M in A)p.push(M);if(p.sort(),!f(E,p))return!1;for(S=0;S<E.length;S++)if(!f(K[E[S]],A[E[S]]))return!1}return!0}function F(K){const A=[];for(const S of function B(K){let A=[];for(;Object.prototype!==K;)A=A.concat(Object.getOwnPropertyNames(K)),K=Object.getPrototypeOf(K);return A}(K))"function"==typeof K[S]&&A.push(S);return A}function ae(K,A){const S=E=>function(){const p=Array.prototype.slice.call(arguments,0);return A(E,p)},M={};for(const E of K)M[E]=S(E);return M}I.d(Oe,{V0:()=>F,aI:()=>f,kT:()=>ae})},1824:(ft,Oe,I)=>{"use strict";I.d(Oe,{P8:()=>ie,pD:()=>ne,LC:()=>Ae,fj:()=>ee,S8:()=>z,SA:()=>T,V8:()=>pe,hd:()=>he,Vn:()=>ce,IN:()=>O});var W=I(1828);let Z;const o=globalThis.vscode;if(typeof o<"u"&&typeof o.process<"u"){const P=o.process;Z={get platform(){return P.platform},get arch(){return P.arch},get env(){return P.env},cwd:()=>P.cwd()}}else Z=typeof process<"u"&&"string"==typeof process?.versions?.node?{get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd:()=>process.env.VSCODE_CWD||process.cwd()}:{get platform(){return W.uF?"win32":W.zx?"darwin":"linux"},get arch(){},get env(){return{}},cwd:()=>"/"};const D=Z.cwd,C=Z.env,$=Z.platform,K=46,A=47,S=92,M=58;class p extends Error{constructor(J,le,ge){let xe;"string"==typeof le&&0===le.indexOf("not ")?(xe="must not be",le=le.replace(/^not /,"")):xe="must be";const De=-1!==J.indexOf(".")?"property":"argument";let ze=`The "${J}" ${De} ${xe} of type ${le}`;ze+=". Received type "+typeof ge,super(ze),this.code="ERR_INVALID_ARG_TYPE"}}function me(P,J){if("string"!=typeof P)throw new p(J,"string",P)}const _="win32"===$;function w(P){return P===A||P===S}function k(P){return P===A}function U(P){return P>=65&&P<=90||P>=97&&P<=122}function H(P,J,le,ge){let xe="",De=0,ze=-1,We=0,ht=0;for(let et=0;et<=P.length;++et){if(et<P.length)ht=P.charCodeAt(et);else{if(ge(ht))break;ht=A}if(ge(ht)){if(ze!==et-1&&1!==We)if(2===We){if(xe.length<2||2!==De||xe.charCodeAt(xe.length-1)!==K||xe.charCodeAt(xe.length-2)!==K){if(xe.length>2){const mt=xe.lastIndexOf(le);-1===mt?(xe="",De=0):(xe=xe.slice(0,mt),De=xe.length-1-xe.lastIndexOf(le)),ze=et,We=0;continue}if(0!==xe.length){xe="",De=0,ze=et,We=0;continue}}J&&(xe+=xe.length>0?`${le}..`:"..",De=2)}else xe.length>0?xe+=`${le}${P.slice(ze+1,et)}`:xe=P.slice(ze+1,et),De=et-ze-1;ze=et,We=0}else ht===K&&-1!==We?++We:We=-1}return xe}function y(P,J){!function Ce(P,J){if(null===P||"object"!=typeof P)throw new p(J,"Object",P)}(J,"pathObject");const le=J.dir||J.root,ge=J.base||`${J.name||""}${function j(P){return P?`${"."===P[0]?"":"."}${P}`:""}(J.ext)}`;return le?le===J.root?`${le}${ge}`:`${le}${P}${ge}`:ge}const O={resolve(...P){let J="",le="",ge=!1;for(let xe=P.length-1;xe>=-1;xe--){let De;if(xe>=0){if(De=P[xe],me(De,`paths[${xe}]`),0===De.length)continue}else 0===J.length?De=D():(De=C[`=${J}`]||D(),(void 0===De||De.slice(0,2).toLowerCase()!==J.toLowerCase()&&De.charCodeAt(2)===S)&&(De=`${J}\\`));const ze=De.length;let We=0,ht="",et=!1;const mt=De.charCodeAt(0);if(1===ze)w(mt)&&(We=1,et=!0);else if(w(mt))if(et=!0,w(De.charCodeAt(1))){let nt=2,ot=nt;for(;nt<ze&&!w(De.charCodeAt(nt));)nt++;if(nt<ze&&nt!==ot){const St=De.slice(ot,nt);for(ot=nt;nt<ze&&w(De.charCodeAt(nt));)nt++;if(nt<ze&&nt!==ot){for(ot=nt;nt<ze&&!w(De.charCodeAt(nt));)nt++;(nt===ze||nt!==ot)&&(ht=`\\\\${St}\\${De.slice(ot,nt)}`,We=nt)}}}else We=1;else U(mt)&&De.charCodeAt(1)===M&&(ht=De.slice(0,2),We=2,ze>2&&w(De.charCodeAt(2))&&(et=!0,We=3));if(ht.length>0)if(J.length>0){if(ht.toLowerCase()!==J.toLowerCase())continue}else J=ht;if(ge){if(J.length>0)break}else if(le=`${De.slice(We)}\\${le}`,ge=et,et&&J.length>0)break}return le=H(le,!ge,"\\",w),ge?`${J}\\${le}`:`${J}${le}`||"."},normalize(P){me(P,"path");const J=P.length;if(0===J)return".";let ge,le=0,xe=!1;const De=P.charCodeAt(0);if(1===J)return k(De)?"\\":P;if(w(De))if(xe=!0,w(P.charCodeAt(1))){let We=2,ht=We;for(;We<J&&!w(P.charCodeAt(We));)We++;if(We<J&&We!==ht){const et=P.slice(ht,We);for(ht=We;We<J&&w(P.charCodeAt(We));)We++;if(We<J&&We!==ht){for(ht=We;We<J&&!w(P.charCodeAt(We));)We++;if(We===J)return`\\\\${et}\\${P.slice(ht)}\\`;We!==ht&&(ge=`\\\\${et}\\${P.slice(ht,We)}`,le=We)}}}else le=1;else U(De)&&P.charCodeAt(1)===M&&(ge=P.slice(0,2),le=2,J>2&&w(P.charCodeAt(2))&&(xe=!0,le=3));let ze=le<J?H(P.slice(le),!xe,"\\",w):"";return 0===ze.length&&!xe&&(ze="."),ze.length>0&&w(P.charCodeAt(J-1))&&(ze+="\\"),void 0===ge?xe?`\\${ze}`:ze:xe?`${ge}\\${ze}`:`${ge}${ze}`},isAbsolute(P){me(P,"path");const J=P.length;if(0===J)return!1;const le=P.charCodeAt(0);return w(le)||J>2&&U(le)&&P.charCodeAt(1)===M&&w(P.charCodeAt(2))},join(...P){if(0===P.length)return".";let J,le;for(let De=0;De<P.length;++De){const ze=P[De];me(ze,"path"),ze.length>0&&(void 0===J?J=le=ze:J+=`\\${ze}`)}if(void 0===J)return".";let ge=!0,xe=0;if("string"==typeof le&&w(le.charCodeAt(0))){++xe;const De=le.length;De>1&&w(le.charCodeAt(1))&&(++xe,De>2&&(w(le.charCodeAt(2))?++xe:ge=!1))}if(ge){for(;xe<J.length&&w(J.charCodeAt(xe));)xe++;xe>=2&&(J=`\\${J.slice(xe)}`)}return O.normalize(J)},relative(P,J){if(me(P,"from"),me(J,"to"),P===J)return"";const le=O.resolve(P),ge=O.resolve(J);if(le===ge||(P=le.toLowerCase())===(J=ge.toLowerCase()))return"";let xe=0;for(;xe<P.length&&P.charCodeAt(xe)===S;)xe++;let De=P.length;for(;De-1>xe&&P.charCodeAt(De-1)===S;)De--;const ze=De-xe;let We=0;for(;We<J.length&&J.charCodeAt(We)===S;)We++;let ht=J.length;for(;ht-1>We&&J.charCodeAt(ht-1)===S;)ht--;const et=ht-We,mt=ze<et?ze:et;let nt=-1,ot=0;for(;ot<mt;ot++){const Jt=P.charCodeAt(xe+ot);if(Jt!==J.charCodeAt(We+ot))break;Jt===S&&(nt=ot)}if(ot!==mt){if(-1===nt)return ge}else{if(et>mt){if(J.charCodeAt(We+ot)===S)return ge.slice(We+ot+1);if(2===ot)return ge.slice(We+ot)}ze>mt&&(P.charCodeAt(xe+ot)===S?nt=ot:2===ot&&(nt=3)),-1===nt&&(nt=0)}let St="";for(ot=xe+nt+1;ot<=De;++ot)(ot===De||P.charCodeAt(ot)===S)&&(St+=0===St.length?"..":"\\..");return We+=nt,St.length>0?`${St}${ge.slice(We,ht)}`:(ge.charCodeAt(We)===S&&++We,ge.slice(We,ht))},toNamespacedPath(P){if("string"!=typeof P||0===P.length)return P;const J=O.resolve(P);if(J.length<=2)return P;if(J.charCodeAt(0)===S){if(J.charCodeAt(1)===S){const le=J.charCodeAt(2);if(63!==le&&le!==K)return`\\\\?\\UNC\\${J.slice(2)}`}}else if(U(J.charCodeAt(0))&&J.charCodeAt(1)===M&&J.charCodeAt(2)===S)return`\\\\?\\${J}`;return P},dirname(P){me(P,"path");const J=P.length;if(0===J)return".";let le=-1,ge=0;const xe=P.charCodeAt(0);if(1===J)return w(xe)?P:".";if(w(xe)){if(le=ge=1,w(P.charCodeAt(1))){let We=2,ht=We;for(;We<J&&!w(P.charCodeAt(We));)We++;if(We<J&&We!==ht){for(ht=We;We<J&&w(P.charCodeAt(We));)We++;if(We<J&&We!==ht){for(ht=We;We<J&&!w(P.charCodeAt(We));)We++;if(We===J)return P;We!==ht&&(le=ge=We+1)}}}}else U(xe)&&P.charCodeAt(1)===M&&(le=J>2&&w(P.charCodeAt(2))?3:2,ge=le);let De=-1,ze=!0;for(let We=J-1;We>=ge;--We)if(w(P.charCodeAt(We))){if(!ze){De=We;break}}else ze=!1;if(-1===De){if(-1===le)return".";De=le}return P.slice(0,De)},basename(P,J){void 0!==J&&me(J,"suffix"),me(P,"path");let De,le=0,ge=-1,xe=!0;if(P.length>=2&&U(P.charCodeAt(0))&&P.charCodeAt(1)===M&&(le=2),void 0!==J&&J.length>0&&J.length<=P.length){if(J===P)return"";let ze=J.length-1,We=-1;for(De=P.length-1;De>=le;--De){const ht=P.charCodeAt(De);if(w(ht)){if(!xe){le=De+1;break}}else-1===We&&(xe=!1,We=De+1),ze>=0&&(ht===J.charCodeAt(ze)?-1==--ze&&(ge=De):(ze=-1,ge=We))}return le===ge?ge=We:-1===ge&&(ge=P.length),P.slice(le,ge)}for(De=P.length-1;De>=le;--De)if(w(P.charCodeAt(De))){if(!xe){le=De+1;break}}else-1===ge&&(xe=!1,ge=De+1);return-1===ge?"":P.slice(le,ge)},extname(P){me(P,"path");let J=0,le=-1,ge=0,xe=-1,De=!0,ze=0;P.length>=2&&P.charCodeAt(1)===M&&U(P.charCodeAt(0))&&(J=ge=2);for(let We=P.length-1;We>=J;--We){const ht=P.charCodeAt(We);if(w(ht)){if(!De){ge=We+1;break}}else-1===xe&&(De=!1,xe=We+1),ht===K?-1===le?le=We:1!==ze&&(ze=1):-1!==le&&(ze=-1)}return-1===le||-1===xe||0===ze||1===ze&&le===xe-1&&le===ge+1?"":P.slice(le,xe)},format:y.bind(null,"\\"),parse(P){me(P,"path");const J={root:"",dir:"",base:"",ext:"",name:""};if(0===P.length)return J;const le=P.length;let ge=0,xe=P.charCodeAt(0);if(1===le)return w(xe)?(J.root=J.dir=P,J):(J.base=J.name=P,J);if(w(xe)){if(ge=1,w(P.charCodeAt(1))){let nt=2,ot=nt;for(;nt<le&&!w(P.charCodeAt(nt));)nt++;if(nt<le&&nt!==ot){for(ot=nt;nt<le&&w(P.charCodeAt(nt));)nt++;if(nt<le&&nt!==ot){for(ot=nt;nt<le&&!w(P.charCodeAt(nt));)nt++;nt===le?ge=nt:nt!==ot&&(ge=nt+1)}}}}else if(U(xe)&&P.charCodeAt(1)===M){if(le<=2)return J.root=J.dir=P,J;if(ge=2,w(P.charCodeAt(2))){if(3===le)return J.root=J.dir=P,J;ge=3}}ge>0&&(J.root=P.slice(0,ge));let De=-1,ze=ge,We=-1,ht=!0,et=P.length-1,mt=0;for(;et>=ge;--et)if(xe=P.charCodeAt(et),w(xe)){if(!ht){ze=et+1;break}}else-1===We&&(ht=!1,We=et+1),xe===K?-1===De?De=et:1!==mt&&(mt=1):-1!==De&&(mt=-1);return-1!==We&&(-1===De||0===mt||1===mt&&De===We-1&&De===ze+1?J.base=J.name=P.slice(ze,We):(J.name=P.slice(ze,De),J.base=P.slice(ze,We),J.ext=P.slice(De,We))),J.dir=ze>0&&ze!==ge?P.slice(0,ze-1):J.root,J},sep:"\\",delimiter:";",win32:null,posix:null},G=(()=>{if(_){const P=/\\/g;return()=>{const J=D().replace(P,"/");return J.slice(J.indexOf("/"))}}return()=>D()})(),T={resolve(...P){let J="",le=!1;for(let ge=P.length-1;ge>=-1&&!le;ge--){const xe=ge>=0?P[ge]:G();me(xe,`paths[${ge}]`),0!==xe.length&&(J=`${xe}/${J}`,le=xe.charCodeAt(0)===A)}return J=H(J,!le,"/",k),le?`/${J}`:J.length>0?J:"."},normalize(P){if(me(P,"path"),0===P.length)return".";const J=P.charCodeAt(0)===A,le=P.charCodeAt(P.length-1)===A;return 0===(P=H(P,!J,"/",k)).length?J?"/":le?"./":".":(le&&(P+="/"),J?`/${P}`:P)},isAbsolute:P=>(me(P,"path"),P.length>0&&P.charCodeAt(0)===A),join(...P){if(0===P.length)return".";let J;for(let le=0;le<P.length;++le){const ge=P[le];me(ge,"path"),ge.length>0&&(void 0===J?J=ge:J+=`/${ge}`)}return void 0===J?".":T.normalize(J)},relative(P,J){if(me(P,"from"),me(J,"to"),P===J||(P=T.resolve(P))===(J=T.resolve(J)))return"";const ge=P.length,xe=ge-1,ze=J.length-1,We=xe<ze?xe:ze;let ht=-1,et=0;for(;et<We;et++){const nt=P.charCodeAt(1+et);if(nt!==J.charCodeAt(1+et))break;nt===A&&(ht=et)}if(et===We)if(ze>We){if(J.charCodeAt(1+et)===A)return J.slice(1+et+1);if(0===et)return J.slice(1+et)}else xe>We&&(P.charCodeAt(1+et)===A?ht=et:0===et&&(ht=0));let mt="";for(et=1+ht+1;et<=ge;++et)(et===ge||P.charCodeAt(et)===A)&&(mt+=0===mt.length?"..":"/..");return`${mt}${J.slice(1+ht)}`},toNamespacedPath:P=>P,dirname(P){if(me(P,"path"),0===P.length)return".";const J=P.charCodeAt(0)===A;let le=-1,ge=!0;for(let xe=P.length-1;xe>=1;--xe)if(P.charCodeAt(xe)===A){if(!ge){le=xe;break}}else ge=!1;return-1===le?J?"/":".":J&&1===le?"//":P.slice(0,le)},basename(P,J){void 0!==J&&me(J,"ext"),me(P,"path");let De,le=0,ge=-1,xe=!0;if(void 0!==J&&J.length>0&&J.length<=P.length){if(J===P)return"";let ze=J.length-1,We=-1;for(De=P.length-1;De>=0;--De){const ht=P.charCodeAt(De);if(ht===A){if(!xe){le=De+1;break}}else-1===We&&(xe=!1,We=De+1),ze>=0&&(ht===J.charCodeAt(ze)?-1==--ze&&(ge=De):(ze=-1,ge=We))}return le===ge?ge=We:-1===ge&&(ge=P.length),P.slice(le,ge)}for(De=P.length-1;De>=0;--De)if(P.charCodeAt(De)===A){if(!xe){le=De+1;break}}else-1===ge&&(xe=!1,ge=De+1);return-1===ge?"":P.slice(le,ge)},extname(P){me(P,"path");let J=-1,le=0,ge=-1,xe=!0,De=0;for(let ze=P.length-1;ze>=0;--ze){const We=P.charCodeAt(ze);if(We!==A)-1===ge&&(xe=!1,ge=ze+1),We===K?-1===J?J=ze:1!==De&&(De=1):-1!==J&&(De=-1);else if(!xe){le=ze+1;break}}return-1===J||-1===ge||0===De||1===De&&J===ge-1&&J===le+1?"":P.slice(J,ge)},format:y.bind(null,"/"),parse(P){me(P,"path");const J={root:"",dir:"",base:"",ext:"",name:""};if(0===P.length)return J;const le=P.charCodeAt(0)===A;let ge;le?(J.root="/",ge=1):ge=0;let xe=-1,De=0,ze=-1,We=!0,ht=P.length-1,et=0;for(;ht>=ge;--ht){const mt=P.charCodeAt(ht);if(mt!==A)-1===ze&&(We=!1,ze=ht+1),mt===K?-1===xe?xe=ht:1!==et&&(et=1):-1!==xe&&(et=-1);else if(!We){De=ht+1;break}}if(-1!==ze){const mt=0===De&&le?1:De;-1===xe||0===et||1===et&&xe===ze-1&&xe===De+1?J.base=J.name=P.slice(mt,ze):(J.name=P.slice(mt,xe),J.base=P.slice(mt,ze),J.ext=P.slice(xe,ze))}return De>0?J.dir=P.slice(0,De-1):le&&(J.dir="/"),J},sep:"/",delimiter:":",win32:null,posix:null};T.win32=O.win32=O,T.posix=O.posix=T;const z=_?O.normalize:T.normalize,ee=_?O.join:T.join,he=_?O.resolve:T.resolve,pe=_?O.relative:T.relative,ne=_?O.dirname:T.dirname,ie=_?O.basename:T.basename,Ae=_?O.extname:T.extname,ce=_?O.sep:T.sep},1828:(ft,Oe,I)=>{"use strict";I.d(Oe,{H8:()=>ge,HZ:()=>G,OS:()=>ce,UP:()=>ze,_p:()=>Ae,cm:()=>le,gm:()=>xe,ib:()=>O,j9:()=>y,lg:()=>z,nr:()=>De,uF:()=>H,zx:()=>j});var W=I(1913);const Z="en";let S,Ce,o=!1,D=!1,C=!1,$=!1,f=!1,B=!1,F=!1,ae=!1,K=!1,M=null,E=null,p=null;const me=globalThis;let _;typeof me.vscode<"u"&&typeof me.vscode.process<"u"?_=me.vscode.process:typeof process<"u"&&"string"==typeof process?.versions?.node&&(_=process);const w="string"==typeof _?.versions?.electron,k=w&&"renderer"===_?.type;if("object"==typeof _){o="win32"===_.platform,D="darwin"===_.platform,C="linux"===_.platform,$=C&&!!_.env.SNAP&&!!_.env.SNAP_REVISION,F=w,K=!!_.env.CI||!!_.env.BUILD_ARTIFACTSTAGINGDIRECTORY,S=Z,M=Z;const ht=_.env.VSCODE_NLS_CONFIG;if(ht)try{const et=JSON.parse(ht);S=et.userLocale,E=et.osLocale,M=et.resolvedLanguage||Z,p=et.languagePack?.translationsConfigFile}catch{}f=!0}else"object"!=typeof navigator||k?console.error("Unable to resolve platform."):(Ce=navigator.userAgent,o=Ce.indexOf("Windows")>=0,D=Ce.indexOf("Macintosh")>=0,ae=(Ce.indexOf("Macintosh")>=0||Ce.indexOf("iPad")>=0||Ce.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,C=Ce.indexOf("Linux")>=0,Ce?.indexOf("Mobi"),B=!0,M=W.i8()||Z,S=navigator.language.toLowerCase(),E=S);let U=0;D?U=1:o?U=3:C&&(U=2);const H=o,j=D,y=C,O=f,G=B,z=B&&"function"==typeof me.importScripts?me.origin:void 0,pe=Ce,ie="function"==typeof me.postMessage&&!me.importScripts,Ae=(()=>{if(ie){const ht=[];me.addEventListener("message",mt=>{if(mt.data&&mt.data.vscodeScheduleAsyncWork)for(let nt=0,ot=ht.length;nt<ot;nt++){const St=ht[nt];if(St.id===mt.data.vscodeScheduleAsyncWork)return ht.splice(nt,1),void St.callback()}});let et=0;return mt=>{const nt=++et;ht.push({id:nt,callback:mt}),me.postMessage({vscodeScheduleAsyncWork:nt},"*")}}return ht=>setTimeout(ht)})(),ce=D||ae?2:o?1:3;let P=!0,J=!1;function le(){if(!J){J=!0;const ht=new Uint8Array(2);ht[0]=1,ht[1]=2,P=513===new Uint16Array(ht.buffer)[0]}return P}const ge=!!(pe&&pe.indexOf("Chrome")>=0),xe=!!(pe&&pe.indexOf("Firefox")>=0),De=!!(!ge&&pe&&pe.indexOf("Safari")>=0),ze=!!(pe&&pe.indexOf("Edg/")>=0);pe&&pe.indexOf("Android")},6698:(ft,Oe,I)=>{"use strict";I.d(Oe,{B6:()=>T,P8:()=>p});var W=I(9007),Z=I(5109),o=I(1824),D=I(1828),C=I(6653),$=I(2417);function f(z){return(0,$.I)(z,!0)}class B{constructor(ee){this._ignorePathCasing=ee}compare(ee,he,pe=!1){return ee===he?0:(0,C.UD)(this.getComparisonKey(ee,pe),this.getComparisonKey(he,pe))}isEqual(ee,he,pe=!1){return ee===he||!(!ee||!he)&&this.getComparisonKey(ee,pe)===this.getComparisonKey(he,pe)}getComparisonKey(ee,he=!1){return ee.with({path:this._ignorePathCasing(ee)?ee.path.toLowerCase():void 0,fragment:he?null:void 0}).toString()}isEqualOrParent(ee,he,pe=!1){if(ee.scheme===he.scheme){if(ee.scheme===Z.ny.file)return W._1(f(ee),f(he),this._ignorePathCasing(ee))&&ee.query===he.query&&(pe||ee.fragment===he.fragment);if(j(ee.authority,he.authority))return W._1(ee.path,he.path,this._ignorePathCasing(ee),"/")&&ee.query===he.query&&(pe||ee.fragment===he.fragment)}return!1}joinPath(ee,...he){return $.r.joinPath(ee,...he)}basenameOrAuthority(ee){return p(ee)||ee.authority}basename(ee){return o.SA.basename(ee.path)}extname(ee){return o.SA.extname(ee.path)}dirname(ee){if(0===ee.path.length)return ee;let he;return ee.scheme===Z.ny.file?he=$.r.file(o.pD(f(ee))).path:(he=o.SA.dirname(ee.path),ee.authority&&he.length&&47!==he.charCodeAt(0)&&(console.error(`dirname("${ee.toString})) resulted in a relative path`),he="/")),ee.with({path:he})}normalizePath(ee){if(!ee.path.length)return ee;let he;return he=ee.scheme===Z.ny.file?$.r.file(o.S8(f(ee))).path:o.SA.normalize(ee.path),ee.with({path:he})}relativePath(ee,he){if(ee.scheme!==he.scheme||!j(ee.authority,he.authority))return;if(ee.scheme===Z.ny.file){const ie=o.V8(f(ee),f(he));return D.uF?W.TH(ie):ie}let pe=ee.path||"/";const ne=he.path||"/";if(this._ignorePathCasing(ee)){let ie=0;for(const Ae=Math.min(pe.length,ne.length);ie<Ae&&(pe.charCodeAt(ie)===ne.charCodeAt(ie)||pe.charAt(ie).toLowerCase()===ne.charAt(ie).toLowerCase());ie++);pe=ne.substr(0,ie)+pe.substr(ie)}return o.SA.relative(pe,ne)}resolvePath(ee,he){if(ee.scheme===Z.ny.file){const pe=$.r.file(o.hd(f(ee),he));return ee.with({authority:pe.authority,path:pe.path})}return he=W.kb(he),ee.with({path:o.SA.resolve(ee.path,he)})}isAbsolutePath(ee){return!!ee.path&&"/"===ee.path[0]}isEqualAuthority(ee,he){return ee===he||void 0!==ee&&void 0!==he&&(0,C.Q_)(ee,he)}hasTrailingPathSeparator(ee,he=o.Vn){if(ee.scheme===Z.ny.file){const pe=f(ee);return pe.length>W.Zn(pe).length&&pe[pe.length-1]===he}{const pe=ee.path;return pe.length>1&&47===pe.charCodeAt(pe.length-1)&&!/^[a-zA-Z]:(\/$|\\$)/.test(ee.fsPath)}}removeTrailingPathSeparator(ee,he=o.Vn){return y(ee,he)?ee.with({path:ee.path.substr(0,ee.path.length-1)}):ee}addTrailingPathSeparator(ee,he=o.Vn){let pe=!1;if(ee.scheme===Z.ny.file){const ne=f(ee);pe=void 0!==ne&&ne.length===W.Zn(ne).length&&ne[ne.length-1]===he}else{he="/";const ne=ee.path;pe=1===ne.length&&47===ne.charCodeAt(ne.length-1)}return pe||y(ee,he)?ee:ee.with({path:ee.path+"/"})}}const F=new B(()=>!1),p=(new B(z=>z.scheme!==Z.ny.file||!D.j9),new B(z=>!0),F.isEqual.bind(F),F.isEqualOrParent.bind(F),F.getComparisonKey.bind(F),F.basenameOrAuthority.bind(F),F.basename.bind(F)),j=(F.extname.bind(F),F.dirname.bind(F),F.joinPath.bind(F),F.normalizePath.bind(F),F.relativePath.bind(F),F.resolvePath.bind(F),F.isAbsolutePath.bind(F),F.isEqualAuthority.bind(F)),y=F.hasTrailingPathSeparator.bind(F);var T,z;F.removeTrailingPathSeparator.bind(F),F.addTrailingPathSeparator.bind(F),(z=T||(T={})).META_DATA_LABEL="label",z.META_DATA_DESCRIPTION="description",z.META_DATA_SIZE="size",z.META_DATA_MIME="mime",z.parseMetaData=function ee(he){const pe=new Map;he.path.substring(he.path.indexOf(";")+1,he.path.lastIndexOf(";")).split(";").forEach(Ae=>{const[ce,P]=Ae.split(":");ce&&P&&pe.set(ce,P)});const ie=he.path.substring(0,he.path.indexOf(";"));return ie&&pe.set(z.META_DATA_MIME,ie),pe}},2588:(ft,Oe,I)=>{"use strict";I.d(Oe,{W:()=>Z});const W=globalThis.performance&&"function"==typeof globalThis.performance.now;class Z{static create(D){return new Z(D)}constructor(D){this._now=W&&!1===D?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return-1!==this._stopTime?this._stopTime-this._startTime:this._now()-this._startTime}}},6653:(ft,Oe,I)=>{"use strict";I.d(Oe,{$X:()=>nt,AV:()=>o,E_:()=>We,HG:()=>me,LJ:()=>ne,LU:()=>rn,NB:()=>ae,OS:()=>M,Q_:()=>T,Ss:()=>St,UD:()=>k,Wv:()=>G,Z5:()=>Ae,_J:()=>mt,aC:()=>et,bm:()=>B,eY:()=>E,jy:()=>$,km:()=>J,lT:()=>w,ne:()=>ot,ns:()=>z,pc:()=>pe,r_:()=>Jt,tk:()=>hn,tl:()=>ue,uz:()=>p,y_:()=>je,z_:()=>ie});var W=I(9969),Z=I(7081);function o(Q){return!Q||"string"!=typeof Q||0===Q.trim().length}function $(Q){return Q.replace(/[<>"'&]/g,Be=>{switch(Be){case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"'":return"&apos;";case"&":return"&amp;"}return Be})}function B(Q){return Q.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function ae(Q,Be){if(!Q||!Be)return Q;const Ue=Be.length;if(0===Ue||0===Q.length)return Q;let st=0;for(;Q.indexOf(Be,st)===st;)st+=Ue;return Q.substring(st)}function M(Q,Be,Ue={}){if(!Q)throw new Error("Cannot create regex from empty string");Be||(Q=B(Q)),Ue.wholeWord&&(/\B/.test(Q.charAt(0))||(Q="\\b"+Q),/\B/.test(Q.charAt(Q.length-1))||(Q+="\\b"));let st="";return Ue.global&&(st+="g"),Ue.matchCase||(st+="i"),Ue.multiline&&(st+="m"),Ue.unicode&&(st+="u"),new RegExp(Q,st)}function E(Q){return"^"!==Q.source&&"^$"!==Q.source&&"$"!==Q.source&&"^\\s*$"!==Q.source&&!(!Q.exec("")||0!==Q.lastIndex)}function p(Q){return Q.split(/\r\n|\r|\n/)}function me(Q){for(let Be=0,Ue=Q.length;Be<Ue;Be++){const st=Q.charCodeAt(Be);if(32!==st&&9!==st)return Be}return-1}function w(Q,Be=Q.length-1){for(let Ue=Be;Ue>=0;Ue--){const st=Q.charCodeAt(Ue);if(32!==st&&9!==st)return Ue}return-1}function k(Q,Be){return Q<Be?-1:Q>Be?1:0}function U(Q,Be,Ue=0,st=Q.length,kt=0,n=Be.length){for(;Ue<st&&kt<n;Ue++,kt++){const tn=Q.charCodeAt(Ue),mn=Be.charCodeAt(kt);if(tn<mn)return-1;if(tn>mn)return 1}const Vt=st-Ue,Ht=n-kt;return Vt<Ht?-1:Vt>Ht?1:0}function j(Q,Be,Ue=0,st=Q.length,kt=0,n=Be.length){for(;Ue<st&&kt<n;Ue++,kt++){let tn=Q.charCodeAt(Ue),mn=Be.charCodeAt(kt);if(tn===mn)continue;if(tn>=128||mn>=128)return U(Q.toLowerCase(),Be.toLowerCase(),Ue,st,kt,n);O(tn)&&(tn-=32),O(mn)&&(mn-=32);const pn=tn-mn;if(0!==pn)return pn}const Vt=st-Ue,Ht=n-kt;return Vt<Ht?-1:Vt>Ht?1:0}function O(Q){return Q>=97&&Q<=122}function G(Q){return Q>=65&&Q<=90}function T(Q,Be){return Q.length===Be.length&&0===j(Q,Be)}function z(Q,Be){return!(Be.length>Q.length)&&0===j(Q,Be,0,Be.length)}function pe(Q){return 55296<=Q&&Q<=56319}function ne(Q){return 56320<=Q&&Q<=57343}function ie(Q,Be){return Be-56320+(Q-55296<<10)+65536}function Ae(Q,Be,Ue){const st=Q.charCodeAt(Ue);if(pe(st)&&Ue+1<Be){const kt=Q.charCodeAt(Ue+1);if(ne(kt))return ie(st,kt)}return st}class P{get offset(){return this._offset}constructor(Be,Ue=0){this._str=Be,this._len=Be.length,this._offset=Ue}setOffset(Be){this._offset=Be}prevCodePoint(){const Be=function ce(Q,Be){const Ue=Q.charCodeAt(Be-1);if(ne(Ue)&&Be>1){const st=Q.charCodeAt(Be-2);if(pe(st))return ie(st,Ue)}return Ue}(this._str,this._offset);return this._offset-=Be>=65536?2:1,Be}nextCodePoint(){const Be=Ae(this._str,this._len,this._offset);return this._offset+=Be>=65536?2:1,Be}eol(){return this._offset>=this._len}}class J{get offset(){return this._iterator.offset}constructor(Be,Ue=0){this._iterator=new P(Be,Ue)}nextGraphemeLength(){const Be=Bn.getInstance(),Ue=this._iterator,st=Ue.offset;let kt=Be.getGraphemeBreakType(Ue.nextCodePoint());for(;!Ue.eol();){const n=Ue.offset,Vt=Be.getGraphemeBreakType(Ue.nextCodePoint());if(Sn(kt,Vt)){Ue.setOffset(n);break}kt=Vt}return Ue.offset-st}prevGraphemeLength(){const Be=Bn.getInstance(),Ue=this._iterator,st=Ue.offset;let kt=Be.getGraphemeBreakType(Ue.prevCodePoint());for(;Ue.offset>0;){const n=Ue.offset,Vt=Be.getGraphemeBreakType(Ue.prevCodePoint());if(Sn(Vt,kt)){Ue.setOffset(n);break}kt=Vt}return st-Ue.offset}eol(){return this._iterator.eol()}}let De;function We(Q){return De||(De=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/),De.test(Q)}const ht=/^[\t\n\r\x20-\x7E]*$/;function et(Q){return ht.test(Q)}const mt=/[\u2028\u2029]/;function nt(Q){return mt.test(Q)}function ot(Q){return Q>=11904&&Q<=55215||Q>=63744&&Q<=64255||Q>=65281&&Q<=65374}function St(Q){return Q>=127462&&Q<=127487||8986===Q||8987===Q||9200===Q||9203===Q||Q>=9728&&Q<=10175||11088===Q||11093===Q||Q>=127744&&Q<=128591||Q>=128640&&Q<=128764||Q>=128992&&Q<=129008||Q>=129280&&Q<=129535||Q>=129648&&Q<=129782}const Jt="\ufeff";function rn(Q){return!!(Q&&Q.length>0&&65279===Q.charCodeAt(0))}function hn(Q){return Q%=52,String.fromCharCode(Q<26?97+Q:65+Q-26)}function Sn(Q,Be){return 0===Q?5!==Be&&7!==Be:!(2===Q&&3===Be||4!==Q&&2!==Q&&3!==Q&&4!==Be&&2!==Be&&3!==Be&&(8===Q&&(8===Be||9===Be||11===Be||12===Be)||(11===Q||9===Q)&&(9===Be||10===Be)||(12===Q||10===Q)&&10===Be||5===Be||13===Be||7===Be||1===Q||13===Q&&14===Be||6===Q&&6===Be))}let Bn=(()=>{class Q{static{this._INSTANCE=null}static getInstance(){return Q._INSTANCE||(Q._INSTANCE=new Q),Q._INSTANCE}constructor(){this._data=function Ln(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}()}getGraphemeBreakType(Ue){if(Ue<32)return 10===Ue?3:13===Ue?2:4;if(Ue<127)return 0;const st=this._data,kt=st.length/3;let n=1;for(;n<=kt;)if(Ue<st[3*n])n*=2;else{if(!(Ue>st[3*n+1]))return st[3*n+2];n=2*n+1}return 0}}return Q})();class ue{static{this.ambiguousCharacterData=new Z.d(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}'))}static{this.cache=new W.o5({getCacheKey:JSON.stringify},Be=>{function Ue(pn){const Xt=new Map;for(let Gt=0;Gt<pn.length;Gt+=2)Xt.set(pn[Gt],pn[Gt+1]);return Xt}function kt(pn,Xt){if(!pn)return Xt;const Gt=new Map;for(const[nn,_n]of pn)Xt.has(nn)&&Gt.set(nn,_n);return Gt}const n=this.ambiguousCharacterData.value;let Ht,Vt=Be.filter(pn=>!pn.startsWith("_")&&pn in n);0===Vt.length&&(Vt=["_default"]);for(const pn of Vt)Ht=kt(Ht,Ue(n[pn]));const mn=function st(pn,Xt){const Gt=new Map(pn);for(const[nn,_n]of Xt)Gt.set(nn,_n);return Gt}(Ue(n._common),Ht);return new ue(mn)})}static getInstance(Be){return ue.cache.get(Array.from(Be))}static{this._locales=new Z.d(()=>Object.keys(ue.ambiguousCharacterData.value).filter(Be=>!Be.startsWith("_")))}static getLocales(){return ue._locales.value}constructor(Be){this.confusableDictionary=Be}isAmbiguous(Be){return this.confusableDictionary.has(Be)}getPrimaryConfusable(Be){return this.confusableDictionary.get(Be)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}class je{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static{this._data=void 0}static getData(){return this._data||(this._data=new Set(je.getRawData())),this._data}static isInvisibleCharacter(Be){return je.getData().has(Be)}static get codePoints(){return je.getData()}}},6702:(ft,Oe,I)=>{"use strict";function W(E){return"string"==typeof E}function Z(E){return!("object"!=typeof E||null===E||Array.isArray(E)||E instanceof RegExp||E instanceof Date)}function f(E){return typeof E>"u"}function F(E){return f(E)||null===E}I.d(Oe,{Gv:()=>Z,Kg:()=>W,b0:()=>f,z:()=>F})},4371:(ft,Oe,I)=>{"use strict";function W(o){return o<0?0:o>255?255:0|o}function Z(o){return o<0?0:o>4294967295?4294967295:0|o}I.d(Oe,{W:()=>W,j:()=>Z})},2417:(ft,Oe,I)=>{"use strict";I.d(Oe,{I:()=>me,r:()=>A});var W=I(1824),Z=I(1828);const o=/^\w[\w\d+.-]*$/,D=/^\//,C=/^\/\//,F="",ae="/",K=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class A{static isUri(j){return j instanceof A||!!j&&"string"==typeof j.authority&&"string"==typeof j.fragment&&"string"==typeof j.path&&"string"==typeof j.query&&"string"==typeof j.scheme&&"string"==typeof j.fsPath&&"function"==typeof j.with&&"function"==typeof j.toString}constructor(j,y,O,G,T,z=!1){"object"==typeof j?(this.scheme=j.scheme||F,this.authority=j.authority||F,this.path=j.path||F,this.query=j.query||F,this.fragment=j.fragment||F):(this.scheme=function f(H,j){return H||j?H:"file"}(j,z),this.authority=y||F,this.path=function B(H,j){switch(H){case"https":case"http":case"file":j?j[0]!==ae&&(j=ae+j):j=ae}return j}(this.scheme,O||F),this.query=G||F,this.fragment=T||F,function $(H,j){if(!H.scheme&&j)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${H.authority}", path: "${H.path}", query: "${H.query}", fragment: "${H.fragment}"}`);if(H.scheme&&!o.test(H.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(H.path)if(H.authority){if(!D.test(H.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(C.test(H.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}(this,z))}get fsPath(){return me(this,!1)}with(j){if(!j)return this;let{scheme:y,authority:O,path:G,query:T,fragment:z}=j;return void 0===y?y=this.scheme:null===y&&(y=F),void 0===O?O=this.authority:null===O&&(O=F),void 0===G?G=this.path:null===G&&(G=F),void 0===T?T=this.query:null===T&&(T=F),void 0===z?z=this.fragment:null===z&&(z=F),y===this.scheme&&O===this.authority&&G===this.path&&T===this.query&&z===this.fragment?this:new M(y,O,G,T,z)}static parse(j,y=!1){const O=K.exec(j);return O?new M(O[2]||F,U(O[4]||F),U(O[5]||F),U(O[7]||F),U(O[9]||F),y):new M(F,F,F,F,F)}static file(j){let y=F;if(Z.uF&&(j=j.replace(/\\/g,ae)),j[0]===ae&&j[1]===ae){const O=j.indexOf(ae,2);-1===O?(y=j.substring(2),j=ae):(y=j.substring(2,O),j=j.substring(O)||ae)}return new M("file",y,j,F,F)}static from(j,y){return new M(j.scheme,j.authority,j.path,j.query,j.fragment,y)}static joinPath(j,...y){if(!j.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let O;return O=Z.uF&&"file"===j.scheme?A.file(W.IN.join(me(j,!0),...y)).path:W.SA.join(j.path,...y),j.with({path:O})}toString(j=!1){return _(this,j)}toJSON(){return this}static revive(j){if(j){if(j instanceof A)return j;{const y=new M(j);return y._formatted=j.external??null,y._fsPath=j._sep===S?j.fsPath??null:null,y}}return j}}const S=Z.uF?1:void 0;class M extends A{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=me(this,!1)),this._fsPath}toString(j=!1){return j?_(this,!0):(this._formatted||(this._formatted=_(this,!1)),this._formatted)}toJSON(){const j={$mid:1};return this._fsPath&&(j.fsPath=this._fsPath,j._sep=S),this._formatted&&(j.external=this._formatted),this.path&&(j.path=this.path),this.scheme&&(j.scheme=this.scheme),this.authority&&(j.authority=this.authority),this.query&&(j.query=this.query),this.fragment&&(j.fragment=this.fragment),j}}const E={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function p(H,j,y){let O,G=-1;for(let T=0;T<H.length;T++){const z=H.charCodeAt(T);if(z>=97&&z<=122||z>=65&&z<=90||z>=48&&z<=57||45===z||46===z||95===z||126===z||j&&47===z||y&&91===z||y&&93===z||y&&58===z)-1!==G&&(O+=encodeURIComponent(H.substring(G,T)),G=-1),void 0!==O&&(O+=H.charAt(T));else{void 0===O&&(O=H.substr(0,T));const ee=E[z];void 0!==ee?(-1!==G&&(O+=encodeURIComponent(H.substring(G,T)),G=-1),O+=ee):-1===G&&(G=T)}}return-1!==G&&(O+=encodeURIComponent(H.substring(G))),void 0!==O?O:H}function Ce(H){let j;for(let y=0;y<H.length;y++){const O=H.charCodeAt(y);35===O||63===O?(void 0===j&&(j=H.substr(0,y)),j+=E[O]):void 0!==j&&(j+=H[y])}return void 0!==j?j:H}function me(H,j){let y;return y=H.authority&&H.path.length>1&&"file"===H.scheme?`//${H.authority}${H.path}`:47===H.path.charCodeAt(0)&&(H.path.charCodeAt(1)>=65&&H.path.charCodeAt(1)<=90||H.path.charCodeAt(1)>=97&&H.path.charCodeAt(1)<=122)&&58===H.path.charCodeAt(2)?j?H.path.substr(1):H.path[1].toLowerCase()+H.path.substr(2):H.path,Z.uF&&(y=y.replace(/\//g,"\\")),y}function _(H,j){const y=j?Ce:p;let O="",{scheme:G,authority:T,path:z,query:ee,fragment:he}=H;if(G&&(O+=G,O+=":"),(T||"file"===G)&&(O+=ae,O+=ae),T){let pe=T.indexOf("@");if(-1!==pe){const ne=T.substr(0,pe);T=T.substr(pe+1),pe=ne.lastIndexOf(":"),-1===pe?O+=y(ne,!1,!1):(O+=y(ne.substr(0,pe),!1,!1),O+=":",O+=y(ne.substr(pe+1),!1,!0)),O+="@"}T=T.toLowerCase(),pe=T.lastIndexOf(":"),-1===pe?O+=y(T,!1,!0):(O+=y(T.substr(0,pe),!1,!0),O+=T.substr(pe))}if(z){if(z.length>=3&&47===z.charCodeAt(0)&&58===z.charCodeAt(2)){const pe=z.charCodeAt(1);pe>=65&&pe<=90&&(z=`/${String.fromCharCode(pe+32)}:${z.substr(3)}`)}else if(z.length>=2&&58===z.charCodeAt(1)){const pe=z.charCodeAt(0);pe>=65&&pe<=90&&(z=`${String.fromCharCode(pe+32)}:${z.substr(2)}`)}O+=y(z,!0,!1)}return ee&&(O+="?",O+=y(ee,!1,!1)),he&&(O+="#",O+=j?he:p(he,!1,!1)),O}function w(H){try{return decodeURIComponent(H)}catch{return H.length>3?H.substr(0,3)+w(H.substr(3)):H}}const k=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function U(H){return H.match(k)?H.replace(k,j=>w(j)):H}},5252:(ft,Oe,I)=>{"use strict";I.r(Oe),I.d(Oe,{SimpleWorkerClient:()=>_,SimpleWorkerServer:()=>U,create:()=>H,logOnceWebWorkerWarning:()=>A});var W=I(467),Z=I(5680),o=I(5643),D=I(4061),C=I(5109),$=I(1828),f=I(6653);const F="default",ae="$initialize";let K=!1;function A(j){$.HZ&&(K||(K=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(j.message))}class S{constructor(y,O,G,T,z){this.vsWorker=y,this.req=O,this.channel=G,this.method=T,this.args=z,this.type=0}}class M{constructor(y,O,G,T){this.vsWorker=y,this.seq=O,this.res=G,this.err=T,this.type=1}}class E{constructor(y,O,G,T,z){this.vsWorker=y,this.req=O,this.channel=G,this.eventName=T,this.arg=z,this.type=2}}class p{constructor(y,O,G){this.vsWorker=y,this.req=O,this.event=G,this.type=3}}class Ce{constructor(y,O){this.vsWorker=y,this.req=O,this.type=4}}class me{constructor(y){this._workerId=-1,this._handler=y,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(y){this._workerId=y}sendMessage(y,O,G){const T=String(++this._lastSentReq);return new Promise((z,ee)=>{this._pendingReplies[T]={resolve:z,reject:ee},this._send(new S(this._workerId,T,y,O,G))})}listen(y,O,G){let T=null;const z=new o.vl({onWillAddFirstListener:()=>{T=String(++this._lastSentReq),this._pendingEmitters.set(T,z),this._send(new E(this._workerId,T,y,O,G))},onDidRemoveLastListener:()=>{this._pendingEmitters.delete(T),this._send(new Ce(this._workerId,T)),T=null}});return z.event}handleMessage(y){!y||!y.vsWorker||-1!==this._workerId&&y.vsWorker!==this._workerId||this._handleMessage(y)}createProxyToRemoteChannel(y,O){var G=this;const T={get:(z,ee)=>("string"==typeof ee&&!z[ee]&&(k(ee)?z[ee]=he=>this.listen(y,ee,he):w(ee)?z[ee]=this.listen(y,ee,void 0):36===ee.charCodeAt(0)&&(z[ee]=(0,W.A)(function*(...he){return yield O?.(),G.sendMessage(y,ee,he)}))),z[ee])};return new Proxy(Object.create(null),T)}_handleMessage(y){switch(y.type){case 1:return this._handleReplyMessage(y);case 0:return this._handleRequestMessage(y);case 2:return this._handleSubscribeEventMessage(y);case 3:return this._handleEventMessage(y);case 4:return this._handleUnsubscribeEventMessage(y)}}_handleReplyMessage(y){if(!this._pendingReplies[y.seq])return void console.warn("Got reply to unknown seq");const O=this._pendingReplies[y.seq];if(delete this._pendingReplies[y.seq],y.err){let G=y.err;return y.err.$isError&&(G=new Error,G.name=y.err.name,G.message=y.err.message,G.stack=y.err.stack),void O.reject(G)}O.resolve(y.res)}_handleRequestMessage(y){const O=y.req;this._handler.handleMessage(y.channel,y.method,y.args).then(T=>{this._send(new M(this._workerId,O,T,void 0))},T=>{T.detail instanceof Error&&(T.detail=(0,Z.cU)(T.detail)),this._send(new M(this._workerId,O,void 0,(0,Z.cU)(T)))})}_handleSubscribeEventMessage(y){const O=y.req,G=this._handler.handleEvent(y.channel,y.eventName,y.arg)(T=>{this._send(new p(this._workerId,O,T))});this._pendingEvents.set(O,G)}_handleEventMessage(y){this._pendingEmitters.has(y.req)?this._pendingEmitters.get(y.req).fire(y.event):console.warn("Got event for unknown req")}_handleUnsubscribeEventMessage(y){this._pendingEvents.has(y.req)?(this._pendingEvents.get(y.req).dispose(),this._pendingEvents.delete(y.req)):console.warn("Got unsubscribe for unknown req")}_send(y){const O=[];if(0===y.type)for(let G=0;G<y.args.length;G++)y.args[G]instanceof ArrayBuffer&&O.push(y.args[G]);else 1===y.type&&y.res instanceof ArrayBuffer&&O.push(y.res);this._handler.sendMessage(y,O)}}class _ extends D.jG{constructor(y,O){var G;super(),G=this,this._localChannels=new Map,this._worker=this._register(y.create({amdModuleId:"vs/base/common/worker/simpleWorker",esmModuleLocation:O.esmModuleLocation,label:O.label},ee=>{this._protocol.handleMessage(ee)},ee=>{(0,Z.dz)(ee)})),this._protocol=new me({sendMessage:(ee,he)=>{this._worker.postMessage(ee,he)},handleMessage:(ee,he,pe)=>this._handleMessage(ee,he,pe),handleEvent:(ee,he,pe)=>this._handleEvent(ee,he,pe)}),this._protocol.setWorkerId(this._worker.getId());let T=null;const z=globalThis.require;typeof z<"u"&&"function"==typeof z.getConfig?T=z.getConfig():typeof globalThis.requirejs<"u"&&(T=globalThis.requirejs.s.contexts._.config),this._onModuleLoaded=this._protocol.sendMessage(F,ae,[this._worker.getId(),JSON.parse(JSON.stringify(T)),O.amdModuleId]),this.proxy=this._protocol.createProxyToRemoteChannel(F,(0,W.A)(function*(){yield G._onModuleLoaded})),this._onModuleLoaded.catch(ee=>{this._onError("Worker failed to load "+O.amdModuleId,ee)})}_handleMessage(y,O,G){const T=this._localChannels.get(y);if(!T)return Promise.reject(new Error(`Missing channel ${y} on main thread`));if("function"!=typeof T[O])return Promise.reject(new Error(`Missing method ${O} on main thread channel ${y}`));try{return Promise.resolve(T[O].apply(T,G))}catch(z){return Promise.reject(z)}}_handleEvent(y,O,G){const T=this._localChannels.get(y);if(!T)throw new Error(`Missing channel ${y} on main thread`);if(k(O)){const z=T[O].call(T,G);if("function"!=typeof z)throw new Error(`Missing dynamic event ${O} on main thread channel ${y}.`);return z}if(w(O)){const z=T[O];if("function"!=typeof z)throw new Error(`Missing event ${O} on main thread channel ${y}.`);return z}throw new Error(`Malformed event name ${O}`)}setChannel(y,O){this._localChannels.set(y,O)}_onError(y,O){console.error(y),console.info(O)}}function w(j){return"o"===j[0]&&"n"===j[1]&&f.Wv(j.charCodeAt(2))}function k(j){return/^onDynamic/.test(j)&&f.Wv(j.charCodeAt(9))}class U{constructor(y,O){this._localChannels=new Map,this._remoteChannels=new Map,this._requestHandlerFactory=O,this._requestHandler=null,this._protocol=new me({sendMessage:(G,T)=>{y(G,T)},handleMessage:(G,T,z)=>this._handleMessage(G,T,z),handleEvent:(G,T,z)=>this._handleEvent(G,T,z)})}onmessage(y){this._protocol.handleMessage(y)}_handleMessage(y,O,G){if(y===F&&O===ae)return this.initialize(G[0],G[1],G[2]);const T=y===F?this._requestHandler:this._localChannels.get(y);if(!T)return Promise.reject(new Error(`Missing channel ${y} on worker thread`));if("function"!=typeof T[O])return Promise.reject(new Error(`Missing method ${O} on worker thread channel ${y}`));try{return Promise.resolve(T[O].apply(T,G))}catch(z){return Promise.reject(z)}}_handleEvent(y,O,G){const T=y===F?this._requestHandler:this._localChannels.get(y);if(!T)throw new Error(`Missing channel ${y} on worker thread`);if(k(O)){const z=T[O].call(T,G);if("function"!=typeof z)throw new Error(`Missing dynamic event ${O} on request handler.`);return z}if(w(O)){const z=T[O];if("function"!=typeof z)throw new Error(`Missing event ${O} on request handler.`);return z}throw new Error(`Malformed event name ${O}`)}getChannel(y){if(!this._remoteChannels.has(y)){const O=this._protocol.createProxyToRemoteChannel(y);this._remoteChannels.set(y,O)}return this._remoteChannels.get(y)}initialize(y,O,G){var T=this;return(0,W.A)(function*(){if(T._protocol.setWorkerId(y),!T._requestHandlerFactory){O&&(typeof O.baseUrl<"u"&&delete O.baseUrl,typeof O.paths<"u"&&typeof O.paths.vs<"u"&&delete O.paths.vs,typeof O.trustedTypesPolicy<"u"&&delete O.trustedTypesPolicy,O.catchError=!0,globalThis.require.config(O));{const z=C.zl.asBrowserUri(`${G}.js`).toString(!0);return I(5890)(`${z}`).then(ee=>{if(T._requestHandler=ee.create(T),!T._requestHandler)throw new Error("No RequestHandler!")})}}T._requestHandler=T._requestHandlerFactory(T)})()}}function H(j){return new U(j,null)}},2493:(ft,Oe,I)=>{"use strict";I.d(Oe,{V:()=>Z});var W=I(4371);class Z{constructor(C){const $=(0,W.W)(C);this._defaultValue=$,this._asciiMap=Z._createAsciiMap($),this._map=new Map}static _createAsciiMap(C){const $=new Uint8Array(256);return $.fill(C),$}set(C,$){const f=(0,W.W)($);C>=0&&C<256?this._asciiMap[C]=f:this._map.set(C,f)}get(C){return C>=0&&C<256?this._asciiMap[C]:this._map.get(C)||this._defaultValue}clear(){this._asciiMap.fill(this._defaultValue),this._map.clear()}}},976:(ft,Oe,I)=>{"use strict";I.d(Oe,{AQ:()=>rn,aZ:()=>Jt,l5:()=>Bn,lQ:()=>hn,s7:()=>rt,sH:()=>Ln,sN:()=>qt,ss:()=>Sn,yI:()=>St,zp:()=>_t});var W=I(1913),Z=I(4072),o=I(5478),D=I(7464);const C=(0,o.x1A)("editor.lineHighlightBackground",null,W.kg("lineHighlight","Background color for the highlight of line at the cursor position.")),K=((0,o.x1A)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:o.b1q},W.kg("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),(0,o.x1A)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},W.kg("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),(0,o.x1A)("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:o.buw,hcLight:o.buw},W.kg("rangeHighlightBorder","Background color of the border around highlighted ranges.")),(0,o.x1A)("editor.symbolHighlightBackground",{dark:o.Ubg,light:o.Ubg,hcDark:null,hcLight:null},W.kg("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),(0,o.x1A)("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:o.buw,hcLight:o.buw},W.kg("symbolHighlightBorder","Background color of the border around highlighted symbols.")),(0,o.x1A)("editorCursor.foreground",{dark:"#AEAFAD",light:Z.Q1.black,hcDark:Z.Q1.white,hcLight:"#0F4A85"},W.kg("caret","Color of the editor cursor."))),A=(0,o.x1A)("editorCursor.background",null,W.kg("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),Ce=((0,o.x1A)("editorMultiCursor.primary.foreground",K,W.kg("editorMultiCursorPrimaryForeground","Color of the primary editor cursor when multiple cursors are present.")),(0,o.x1A)("editorMultiCursor.primary.background",A,W.kg("editorMultiCursorPrimaryBackground","The background color of the primary editor cursor when multiple cursors are present. Allows customizing the color of a character overlapped by a block cursor.")),(0,o.x1A)("editorMultiCursor.secondary.foreground",K,W.kg("editorMultiCursorSecondaryForeground","Color of secondary editor cursors when multiple cursors are present.")),(0,o.x1A)("editorMultiCursor.secondary.background",A,W.kg("editorMultiCursorSecondaryBackground","The background color of secondary editor cursors when multiple cursors are present. Allows customizing the color of a character overlapped by a block cursor.")),(0,o.x1A)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},W.kg("editorWhitespaces","Color of whitespace characters in the editor."))),_=((0,o.x1A)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:Z.Q1.white,hcLight:"#292929"},W.kg("editorLineNumbers","Color of editor line numbers.")),(0,o.x1A)("editorIndentGuide.background",Ce,W.kg("editorIndentGuides","Color of the editor indentation guides."),!1,W.kg("deprecatedEditorIndentGuides","'editorIndentGuide.background' is deprecated. Use 'editorIndentGuide.background1' instead."))),w=(0,o.x1A)("editorIndentGuide.activeBackground",Ce,W.kg("editorActiveIndentGuide","Color of the active editor indentation guides."),!1,W.kg("deprecatedEditorActiveIndentGuide","'editorIndentGuide.activeBackground' is deprecated. Use 'editorIndentGuide.activeBackground1' instead.")),ne=((0,o.x1A)("editorIndentGuide.background1",_,W.kg("editorIndentGuides1","Color of the editor indentation guides (1).")),(0,o.x1A)("editorIndentGuide.background2","#00000000",W.kg("editorIndentGuides2","Color of the editor indentation guides (2).")),(0,o.x1A)("editorIndentGuide.background3","#00000000",W.kg("editorIndentGuides3","Color of the editor indentation guides (3).")),(0,o.x1A)("editorIndentGuide.background4","#00000000",W.kg("editorIndentGuides4","Color of the editor indentation guides (4).")),(0,o.x1A)("editorIndentGuide.background5","#00000000",W.kg("editorIndentGuides5","Color of the editor indentation guides (5).")),(0,o.x1A)("editorIndentGuide.background6","#00000000",W.kg("editorIndentGuides6","Color of the editor indentation guides (6).")),(0,o.x1A)("editorIndentGuide.activeBackground1",w,W.kg("editorActiveIndentGuide1","Color of the active editor indentation guides (1).")),(0,o.x1A)("editorIndentGuide.activeBackground2","#00000000",W.kg("editorActiveIndentGuide2","Color of the active editor indentation guides (2).")),(0,o.x1A)("editorIndentGuide.activeBackground3","#00000000",W.kg("editorActiveIndentGuide3","Color of the active editor indentation guides (3).")),(0,o.x1A)("editorIndentGuide.activeBackground4","#00000000",W.kg("editorActiveIndentGuide4","Color of the active editor indentation guides (4).")),(0,o.x1A)("editorIndentGuide.activeBackground5","#00000000",W.kg("editorActiveIndentGuide5","Color of the active editor indentation guides (5).")),(0,o.x1A)("editorIndentGuide.activeBackground6","#00000000",W.kg("editorActiveIndentGuide6","Color of the active editor indentation guides (6).")),(0,o.x1A)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:o.buw,hcLight:o.buw},W.kg("editorActiveLineNumber","Color of editor active line number"),!1,W.kg("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead."))),nt=((0,o.x1A)("editorLineNumber.activeForeground",ne,W.kg("editorActiveLineNumber","Color of editor active line number")),(0,o.x1A)("editorLineNumber.dimmedForeground",null,W.kg("editorDimmedLineNumber","Color of the final editor line when editor.renderFinalNewline is set to dimmed.")),(0,o.x1A)("editorRuler.foreground",{dark:"#5A5A5A",light:Z.Q1.lightgrey,hcDark:Z.Q1.white,hcLight:"#292929"},W.kg("editorRuler","Color of the editor rulers.")),(0,o.x1A)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},W.kg("editorCodeLensForeground","Foreground color of editor CodeLens")),(0,o.x1A)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},W.kg("editorBracketMatchBackground","Background color behind matching brackets")),(0,o.x1A)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:o.b1q,hcLight:o.b1q},W.kg("editorBracketMatchBorder","Color for matching brackets boxes")),(0,o.x1A)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},W.kg("editorOverviewRulerBorder","Color of the overview ruler border.")),(0,o.x1A)("editorOverviewRuler.background",null,W.kg("editorOverviewRulerBackground","Background color of the editor overview ruler.")),(0,o.x1A)("editorGutter.background",o.YtV,W.kg("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),(0,o.x1A)("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:Z.Q1.fromHex("#fff").transparent(.8),hcLight:o.b1q},W.kg("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),(0,o.x1A)("editorUnnecessaryCode.opacity",{dark:Z.Q1.fromHex("#000a"),light:Z.Q1.fromHex("#0007"),hcDark:null,hcLight:null},W.kg("unnecessaryCodeOpacity","Opacity of unnecessary (unused) source code in the editor. For example, \"#000000c0\" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.")),(0,o.x1A)("editorGhostText.border",{dark:null,light:null,hcDark:Z.Q1.fromHex("#fff").transparent(.8),hcLight:Z.Q1.fromHex("#292929").transparent(.8)},W.kg("editorGhostTextBorder","Border color of ghost text in the editor.")),(0,o.x1A)("editorGhostText.foreground",{dark:Z.Q1.fromHex("#ffffff56"),light:Z.Q1.fromHex("#0007"),hcDark:null,hcLight:null},W.kg("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),(0,o.x1A)("editorGhostText.background",null,W.kg("editorGhostTextBackground","Background color of the ghost text in the editor.")),new Z.Q1(new Z.bU(0,122,204,.6))),St=((0,o.x1A)("editorOverviewRuler.rangeHighlightForeground",nt,W.kg("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),(0,o.x1A)("editorOverviewRuler.errorForeground",{dark:new Z.Q1(new Z.bU(255,18,18,.7)),light:new Z.Q1(new Z.bU(255,18,18,.7)),hcDark:new Z.Q1(new Z.bU(255,50,50,1)),hcLight:"#B5200D"},W.kg("overviewRuleError","Overview ruler marker color for errors."))),Jt=(0,o.x1A)("editorOverviewRuler.warningForeground",{dark:o.Hng,light:o.Hng,hcDark:o.Stt,hcLight:o.Stt},W.kg("overviewRuleWarning","Overview ruler marker color for warnings.")),rn=(0,o.x1A)("editorOverviewRuler.infoForeground",{dark:o.pOz,light:o.pOz,hcDark:o.IIb,hcLight:o.IIb},W.kg("overviewRuleInfo","Overview ruler marker color for infos.")),qt=(0,o.x1A)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},W.kg("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),hn=(0,o.x1A)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},W.kg("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),Sn=(0,o.x1A)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},W.kg("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),Bn=(0,o.x1A)("editorBracketHighlight.foreground4","#00000000",W.kg("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),Ln=(0,o.x1A)("editorBracketHighlight.foreground5","#00000000",W.kg("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),_t=(0,o.x1A)("editorBracketHighlight.foreground6","#00000000",W.kg("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),rt=(0,o.x1A)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new Z.Q1(new Z.bU(255,18,18,.8)),light:new Z.Q1(new Z.bU(255,18,18,.8)),hcDark:"new Color(new RGBA(255, 50, 50, 1))",hcLight:"#B5200D"},W.kg("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets."));(0,o.x1A)("editorBracketPairGuide.background1","#00000000",W.kg("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),(0,o.x1A)("editorBracketPairGuide.background2","#00000000",W.kg("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),(0,o.x1A)("editorBracketPairGuide.background3","#00000000",W.kg("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),(0,o.x1A)("editorBracketPairGuide.background4","#00000000",W.kg("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),(0,o.x1A)("editorBracketPairGuide.background5","#00000000",W.kg("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),(0,o.x1A)("editorBracketPairGuide.background6","#00000000",W.kg("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),(0,o.x1A)("editorBracketPairGuide.activeBackground1","#00000000",W.kg("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),(0,o.x1A)("editorBracketPairGuide.activeBackground2","#00000000",W.kg("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),(0,o.x1A)("editorBracketPairGuide.activeBackground3","#00000000",W.kg("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),(0,o.x1A)("editorBracketPairGuide.activeBackground4","#00000000",W.kg("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),(0,o.x1A)("editorBracketPairGuide.activeBackground5","#00000000",W.kg("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),(0,o.x1A)("editorBracketPairGuide.activeBackground6","#00000000",W.kg("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides.")),(0,o.x1A)("editorUnicodeHighlight.border",o.Hng,W.kg("editorUnicodeHighlight.border","Border color used to highlight unicode characters.")),(0,o.x1A)("editorUnicodeHighlight.background",o.whs,W.kg("editorUnicodeHighlight.background","Background color used to highlight unicode characters.")),(0,D.zy)((pn,Xt)=>{const Gt=pn.getColor(o.YtV),nn=pn.getColor(C),_n=nn&&!nn.isTransparent()?nn:Gt;_n&&Xt.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${_n}; }`)})},5583:(ft,Oe,I)=>{"use strict";function W(Z){let o=0,D=0,C=0,$=0;for(let f=0,B=Z.length;f<B;f++){const F=Z.charCodeAt(f);13===F?(0===o&&(D=f),o++,f+1<B&&10===Z.charCodeAt(f+1)?($|=2,f++):$|=3,C=f+1):10===F&&($|=1,0===o&&(D=f),o++,C=f+1)}return 0===o&&(D=Z.length),[o,D,Z.length-C,$]}I.d(Oe,{W:()=>W})},4132:(ft,Oe,I)=>{"use strict";I.d(Oe,{M:()=>C,S:()=>$});var W=I(5680),Z=I(1639),o=I(3678),D=I(2210);class C{static fromRangeInclusive(B){return new C(B.startLineNumber,B.endLineNumber+1)}static joinMany(B){if(0===B.length)return[];let F=new $(B[0].slice());for(let ae=1;ae<B.length;ae++)F=F.getUnion(new $(B[ae].slice()));return F.ranges}static join(B){if(0===B.length)throw new W.D7("lineRanges cannot be empty");let F=B[0].startLineNumber,ae=B[0].endLineNumberExclusive;for(let K=1;K<B.length;K++)F=Math.min(F,B[K].startLineNumber),ae=Math.max(ae,B[K].endLineNumberExclusive);return new C(F,ae)}static ofLength(B,F){return new C(B,B+F)}static deserialize(B){return new C(B[0],B[1])}constructor(B,F){if(B>F)throw new W.D7(`startLineNumber ${B} cannot be after endLineNumberExclusive ${F}`);this.startLineNumber=B,this.endLineNumberExclusive=F}contains(B){return this.startLineNumber<=B&&B<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(B){return new C(this.startLineNumber+B,this.endLineNumberExclusive+B)}deltaLength(B){return new C(this.startLineNumber,this.endLineNumberExclusive+B)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(B){return new C(Math.min(this.startLineNumber,B.startLineNumber),Math.max(this.endLineNumberExclusive,B.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(B){const F=Math.max(this.startLineNumber,B.startLineNumber),ae=Math.min(this.endLineNumberExclusive,B.endLineNumberExclusive);if(F<=ae)return new C(F,ae)}intersectsStrict(B){return this.startLineNumber<B.endLineNumberExclusive&&B.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(B){return this.startLineNumber<=B.endLineNumberExclusive&&B.startLineNumber<=this.endLineNumberExclusive}equals(B){return this.startLineNumber===B.startLineNumber&&this.endLineNumberExclusive===B.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new o.Q(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new o.Q(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(B){const F=[];for(let ae=this.startLineNumber;ae<this.endLineNumberExclusive;ae++)F.push(B(ae));return F}forEach(B){for(let F=this.startLineNumber;F<this.endLineNumberExclusive;F++)B(F)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(B){return this.startLineNumber<=B&&B<this.endLineNumberExclusive}toOffsetRange(){return new Z.L(this.startLineNumber-1,this.endLineNumberExclusive-1)}}class ${constructor(B=[]){this._normalizedRanges=B}get ranges(){return this._normalizedRanges}addRange(B){if(0===B.length)return;const F=(0,D.hw)(this._normalizedRanges,K=>K.endLineNumberExclusive>=B.startLineNumber),ae=(0,D.iM)(this._normalizedRanges,K=>K.startLineNumber<=B.endLineNumberExclusive)+1;if(F===ae)this._normalizedRanges.splice(F,0,B);else if(F===ae-1)this._normalizedRanges[F]=this._normalizedRanges[F].join(B);else{const K=this._normalizedRanges[F].join(this._normalizedRanges[ae-1]).join(B);this._normalizedRanges.splice(F,ae-F,K)}}contains(B){const F=(0,D.lx)(this._normalizedRanges,ae=>ae.startLineNumber<=B);return!!F&&F.endLineNumberExclusive>B}intersects(B){const F=(0,D.lx)(this._normalizedRanges,ae=>ae.startLineNumber<B.endLineNumberExclusive);return!!F&&F.endLineNumberExclusive>B.startLineNumber}getUnion(B){if(0===this._normalizedRanges.length)return B;if(0===B._normalizedRanges.length)return this;const F=[];let ae=0,K=0,A=null;for(;ae<this._normalizedRanges.length||K<B._normalizedRanges.length;){let S=null;if(ae<this._normalizedRanges.length&&K<B._normalizedRanges.length){const M=this._normalizedRanges[ae],E=B._normalizedRanges[K];M.startLineNumber<E.startLineNumber?(S=M,ae++):(S=E,K++)}else ae<this._normalizedRanges.length?(S=this._normalizedRanges[ae],ae++):(S=B._normalizedRanges[K],K++);null===A?A=S:A.endLineNumberExclusive>=S.startLineNumber?A=new C(A.startLineNumber,Math.max(A.endLineNumberExclusive,S.endLineNumberExclusive)):(F.push(A),A=S)}return null!==A&&F.push(A),new $(F)}subtractFrom(B){const F=(0,D.hw)(this._normalizedRanges,S=>S.endLineNumberExclusive>=B.startLineNumber),ae=(0,D.iM)(this._normalizedRanges,S=>S.startLineNumber<=B.endLineNumberExclusive)+1;if(F===ae)return new $([B]);const K=[];let A=B.startLineNumber;for(let S=F;S<ae;S++){const M=this._normalizedRanges[S];M.startLineNumber>A&&K.push(new C(A,M.startLineNumber)),A=M.endLineNumberExclusive}return A<B.endLineNumberExclusive&&K.push(new C(A,B.endLineNumberExclusive)),new $(K)}toString(){return this._normalizedRanges.map(B=>B.toString()).join(", ")}getIntersection(B){const F=[];let ae=0,K=0;for(;ae<this._normalizedRanges.length&&K<B._normalizedRanges.length;){const A=this._normalizedRanges[ae],S=B._normalizedRanges[K],M=A.intersect(S);M&&!M.isEmpty&&F.push(M),A.endLineNumberExclusive<S.endLineNumberExclusive?ae++:K++}return new $(F)}getWithDelta(B){return new $(this._normalizedRanges.map(F=>F.delta(B)))}}},1639:(ft,Oe,I)=>{"use strict";I.d(Oe,{L:()=>Z});var W=I(5680);class Z{static addRange(C,$){let f=0;for(;f<$.length&&$[f].endExclusive<C.start;)f++;let B=f;for(;B<$.length&&$[B].start<=C.endExclusive;)B++;if(f===B)$.splice(f,0,C);else{const F=Math.min(C.start,$[f].start),ae=Math.max(C.endExclusive,$[B-1].endExclusive);$.splice(f,B-f,new Z(F,ae))}}static tryCreate(C,$){if(!(C>$))return new Z(C,$)}static ofLength(C){return new Z(0,C)}static ofStartAndLength(C,$){return new Z(C,C+$)}constructor(C,$){if(this.start=C,this.endExclusive=$,C>$)throw new W.D7(`Invalid range: ${this.toString()}`)}get isEmpty(){return this.start===this.endExclusive}delta(C){return new Z(this.start+C,this.endExclusive+C)}deltaStart(C){return new Z(this.start+C,this.endExclusive)}deltaEnd(C){return new Z(this.start,this.endExclusive+C)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}contains(C){return this.start<=C&&C<this.endExclusive}join(C){return new Z(Math.min(this.start,C.start),Math.max(this.endExclusive,C.endExclusive))}intersect(C){const $=Math.max(this.start,C.start),f=Math.min(this.endExclusive,C.endExclusive);if($<=f)return new Z($,f)}intersects(C){return Math.max(this.start,C.start)<Math.min(this.endExclusive,C.endExclusive)}isBefore(C){return this.endExclusive<=C.start}isAfter(C){return this.start>=C.endExclusive}slice(C){return C.slice(this.start,this.endExclusive)}substring(C){return C.substring(this.start,this.endExclusive)}clip(C){if(this.isEmpty)throw new W.D7(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,C))}clipCyclic(C){if(this.isEmpty)throw new W.D7(`Invalid clipping range: ${this.toString()}`);return C<this.start?this.endExclusive-(this.start-C)%this.length:C>=this.endExclusive?this.start+(C-this.start)%this.length:C}forEach(C){for(let $=this.start;$<this.endExclusive;$++)C($)}}},3632:(ft,Oe,I)=>{"use strict";I.d(Oe,{y:()=>W});class W{constructor(o,D){this.lineNumber=o,this.column=D}with(o=this.lineNumber,D=this.column){return o===this.lineNumber&&D===this.column?this:new W(o,D)}delta(o=0,D=0){return this.with(this.lineNumber+o,this.column+D)}equals(o){return W.equals(this,o)}static equals(o,D){return!o&&!D||!!o&&!!D&&o.lineNumber===D.lineNumber&&o.column===D.column}isBefore(o){return W.isBefore(this,o)}static isBefore(o,D){return o.lineNumber<D.lineNumber||!(D.lineNumber<o.lineNumber)&&o.column<D.column}isBeforeOrEqual(o){return W.isBeforeOrEqual(this,o)}static isBeforeOrEqual(o,D){return o.lineNumber<D.lineNumber||!(D.lineNumber<o.lineNumber)&&o.column<=D.column}static compare(o,D){const C=0|o.lineNumber,$=0|D.lineNumber;return C===$?(0|o.column)-(0|D.column):C-$}clone(){return new W(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(o){return new W(o.lineNumber,o.column)}static isIPosition(o){return o&&"number"==typeof o.lineNumber&&"number"==typeof o.column}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}}},3678:(ft,Oe,I)=>{"use strict";I.d(Oe,{Q:()=>Z});var W=I(3632);class Z{constructor(D,C,$,f){D>$||D===$&&C>f?(this.startLineNumber=$,this.startColumn=f,this.endLineNumber=D,this.endColumn=C):(this.startLineNumber=D,this.startColumn=C,this.endLineNumber=$,this.endColumn=f)}isEmpty(){return Z.isEmpty(this)}static isEmpty(D){return D.startLineNumber===D.endLineNumber&&D.startColumn===D.endColumn}containsPosition(D){return Z.containsPosition(this,D)}static containsPosition(D,C){return!(C.lineNumber<D.startLineNumber||C.lineNumber>D.endLineNumber||C.lineNumber===D.startLineNumber&&C.column<D.startColumn||C.lineNumber===D.endLineNumber&&C.column>D.endColumn)}static strictContainsPosition(D,C){return!(C.lineNumber<D.startLineNumber||C.lineNumber>D.endLineNumber||C.lineNumber===D.startLineNumber&&C.column<=D.startColumn||C.lineNumber===D.endLineNumber&&C.column>=D.endColumn)}containsRange(D){return Z.containsRange(this,D)}static containsRange(D,C){return!(C.startLineNumber<D.startLineNumber||C.endLineNumber<D.startLineNumber||C.startLineNumber>D.endLineNumber||C.endLineNumber>D.endLineNumber||C.startLineNumber===D.startLineNumber&&C.startColumn<D.startColumn||C.endLineNumber===D.endLineNumber&&C.endColumn>D.endColumn)}strictContainsRange(D){return Z.strictContainsRange(this,D)}static strictContainsRange(D,C){return!(C.startLineNumber<D.startLineNumber||C.endLineNumber<D.startLineNumber||C.startLineNumber>D.endLineNumber||C.endLineNumber>D.endLineNumber||C.startLineNumber===D.startLineNumber&&C.startColumn<=D.startColumn||C.endLineNumber===D.endLineNumber&&C.endColumn>=D.endColumn)}plusRange(D){return Z.plusRange(this,D)}static plusRange(D,C){let $,f,B,F;return C.startLineNumber<D.startLineNumber?($=C.startLineNumber,f=C.startColumn):C.startLineNumber===D.startLineNumber?($=C.startLineNumber,f=Math.min(C.startColumn,D.startColumn)):($=D.startLineNumber,f=D.startColumn),C.endLineNumber>D.endLineNumber?(B=C.endLineNumber,F=C.endColumn):C.endLineNumber===D.endLineNumber?(B=C.endLineNumber,F=Math.max(C.endColumn,D.endColumn)):(B=D.endLineNumber,F=D.endColumn),new Z($,f,B,F)}intersectRanges(D){return Z.intersectRanges(this,D)}static intersectRanges(D,C){let $=D.startLineNumber,f=D.startColumn,B=D.endLineNumber,F=D.endColumn;const ae=C.startLineNumber,K=C.startColumn,A=C.endLineNumber,S=C.endColumn;return $<ae?($=ae,f=K):$===ae&&(f=Math.max(f,K)),B>A?(B=A,F=S):B===A&&(F=Math.min(F,S)),$>B||$===B&&f>F?null:new Z($,f,B,F)}equalsRange(D){return Z.equalsRange(this,D)}static equalsRange(D,C){return!D&&!C||!!D&&!!C&&D.startLineNumber===C.startLineNumber&&D.startColumn===C.startColumn&&D.endLineNumber===C.endLineNumber&&D.endColumn===C.endColumn}getEndPosition(){return Z.getEndPosition(this)}static getEndPosition(D){return new W.y(D.endLineNumber,D.endColumn)}getStartPosition(){return Z.getStartPosition(this)}static getStartPosition(D){return new W.y(D.startLineNumber,D.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(D,C){return new Z(this.startLineNumber,this.startColumn,D,C)}setStartPosition(D,C){return new Z(D,C,this.endLineNumber,this.endColumn)}collapseToStart(){return Z.collapseToStart(this)}static collapseToStart(D){return new Z(D.startLineNumber,D.startColumn,D.startLineNumber,D.startColumn)}collapseToEnd(){return Z.collapseToEnd(this)}static collapseToEnd(D){return new Z(D.endLineNumber,D.endColumn,D.endLineNumber,D.endColumn)}delta(D){return new Z(this.startLineNumber+D,this.startColumn,this.endLineNumber+D,this.endColumn)}static fromPositions(D,C=D){return new Z(D.lineNumber,D.column,C.lineNumber,C.column)}static lift(D){return D?new Z(D.startLineNumber,D.startColumn,D.endLineNumber,D.endColumn):null}static isIRange(D){return D&&"number"==typeof D.startLineNumber&&"number"==typeof D.startColumn&&"number"==typeof D.endLineNumber&&"number"==typeof D.endColumn}static areIntersectingOrTouching(D,C){return!(D.endLineNumber<C.startLineNumber||D.endLineNumber===C.startLineNumber&&D.endColumn<C.startColumn||C.endLineNumber<D.startLineNumber||C.endLineNumber===D.startLineNumber&&C.endColumn<D.startColumn)}static areIntersecting(D,C){return!(D.endLineNumber<C.startLineNumber||D.endLineNumber===C.startLineNumber&&D.endColumn<=C.startColumn||C.endLineNumber<D.startLineNumber||C.endLineNumber===D.startLineNumber&&C.endColumn<=D.startColumn)}static compareRangesUsingStarts(D,C){if(D&&C){const B=0|D.startLineNumber,F=0|C.startLineNumber;if(B===F){const ae=0|D.startColumn,K=0|C.startColumn;if(ae===K){const A=0|D.endLineNumber,S=0|C.endLineNumber;return A===S?(0|D.endColumn)-(0|C.endColumn):A-S}return ae-K}return B-F}return(D?1:0)-(C?1:0)}static compareRangesUsingEnds(D,C){return D.endLineNumber===C.endLineNumber?D.endColumn===C.endColumn?D.startLineNumber===C.startLineNumber?D.startColumn-C.startColumn:D.startLineNumber-C.startLineNumber:D.endColumn-C.endColumn:D.endLineNumber-C.endLineNumber}static spansMultipleLines(D){return D.endLineNumber>D.startLineNumber}toJSON(){return this}}},4105:(ft,Oe,I)=>{"use strict";I.d(Oe,{L:()=>o});var W=I(3632),Z=I(3678);class o extends Z.Q{constructor(C,$,f,B){super(C,$,f,B),this.selectionStartLineNumber=C,this.selectionStartColumn=$,this.positionLineNumber=f,this.positionColumn=B}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(C){return o.selectionsEqual(this,C)}static selectionsEqual(C,$){return C.selectionStartLineNumber===$.selectionStartLineNumber&&C.selectionStartColumn===$.selectionStartColumn&&C.positionLineNumber===$.positionLineNumber&&C.positionColumn===$.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(C,$){return 0===this.getDirection()?new o(this.startLineNumber,this.startColumn,C,$):new o(C,$,this.startLineNumber,this.startColumn)}getPosition(){return new W.y(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new W.y(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(C,$){return 0===this.getDirection()?new o(C,$,this.endLineNumber,this.endColumn):new o(this.endLineNumber,this.endColumn,C,$)}static fromPositions(C,$=C){return new o(C.lineNumber,C.column,$.lineNumber,$.column)}static fromRange(C,$){return 0===$?new o(C.startLineNumber,C.startColumn,C.endLineNumber,C.endColumn):new o(C.endLineNumber,C.endColumn,C.startLineNumber,C.startColumn)}static liftSelection(C){return new o(C.selectionStartLineNumber,C.selectionStartColumn,C.positionLineNumber,C.positionColumn)}static selectionsArrEqual(C,$){if(C&&!$||!C&&$)return!1;if(!C&&!$)return!0;if(C.length!==$.length)return!1;for(let f=0,B=C.length;f<B;f++)if(!this.selectionsEqual(C[f],$[f]))return!1;return!0}static isISelection(C){return C&&"number"==typeof C.selectionStartLineNumber&&"number"==typeof C.selectionStartColumn&&"number"==typeof C.positionLineNumber&&"number"==typeof C.positionColumn}static createWithDirection(C,$,f,B,F){return 0===F?new o(C,$,f,B):new o(f,B,C,$)}}},7676:(ft,Oe,I)=>{"use strict";I.d(Oe,{W:()=>o});var W=I(3632),Z=I(3678);class o{static{this.zero=new o(0,0)}static betweenPositions(C,$){return C.lineNumber===$.lineNumber?new o(0,$.column-C.column):new o($.lineNumber-C.lineNumber,$.column-1)}static ofRange(C){return o.betweenPositions(C.getStartPosition(),C.getEndPosition())}static ofText(C){let $=0,f=0;for(const B of C)"\n"===B?($++,f=0):f++;return new o($,f)}constructor(C,$){this.lineCount=C,this.columnCount=$}isGreaterThanOrEqualTo(C){return this.lineCount!==C.lineCount?this.lineCount>C.lineCount:this.columnCount>=C.columnCount}createRange(C){return 0===this.lineCount?new Z.Q(C.lineNumber,C.column,C.lineNumber,C.column+this.columnCount):new Z.Q(C.lineNumber,C.column,C.lineNumber+this.lineCount,this.columnCount+1)}addToPosition(C){return 0===this.lineCount?new W.y(C.lineNumber,C.column+this.columnCount):new W.y(C.lineNumber+this.lineCount,this.columnCount+1)}toString(){return`${this.lineCount},${this.columnCount}`}}},199:(ft,Oe,I)=>{"use strict";I.d(Oe,{Io:()=>$,Ld:()=>C,Th:()=>B});var W=I(8481),Z=I(8002);const C=function D(ae=""){let K="(-?\\d*\\.\\d\\w*)|([^";for(const A of"`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?")ae.indexOf(A)>=0||(K+="\\"+A);return K+="\\s]+)",new RegExp(K,"g")}();function $(ae){let K=C;if(ae&&ae instanceof RegExp)if(ae.global)K=ae;else{let A="g";ae.ignoreCase&&(A+="i"),ae.multiline&&(A+="m"),ae.unicode&&(A+="u"),K=new RegExp(ae.source,A)}return K.lastIndex=0,K}const f=new Z.w;function B(ae,K,A,S,M){if(K=$(K),M||(M=W.f.first(f)),A.length>M.maxLen){let _=ae-M.maxLen/2;return _<0?_=0:S+=_,B(ae,K,A=A.substring(_,ae+M.maxLen/2),S,M)}const E=Date.now(),p=ae-1-S;let Ce=-1,me=null;for(let _=1;!(Date.now()-E>=M.timeBudget);_++){const w=p-M.windowSize*_;K.lastIndex=Math.max(0,w);const k=F(K,A,p,Ce);if(!k&&me||(me=k,w<=0))break;Ce=w}if(me){const _={word:me[0],startColumn:S+1+me.index,endColumn:S+1+me.index+me[0].length};return K.lastIndex=0,_}return null}function F(ae,K,A,S){let M;for(;M=ae.exec(K);){const E=M.index||0;if(E<=A&&ae.lastIndex>=A)return M;if(S>0&&E>S)return null}return null}f.unshift({maxLen:1e3,windowSize:15,timeBudget:150})},1861:(ft,Oe,I)=>{"use strict";I.d(Oe,{x:()=>W});class W{static getLanguageId(o){return(255&o)>>>0}static getTokenType(o){return(768&o)>>>8}static containsBalancedBrackets(o){return!!(1024&o)}static getFontStyle(o){return(30720&o)>>>11}static getForeground(o){return(16744448&o)>>>15}static getBackground(o){return(4278190080&o)>>>24}static getClassNameFromMetadata(o){let C="mtk"+this.getForeground(o);const $=this.getFontStyle(o);return 1&$&&(C+=" mtki"),2&$&&(C+=" mtkb"),4&$&&(C+=" mtku"),8&$&&(C+=" mtks"),C}static getInlineStyleFromMetadata(o,D){const C=this.getForeground(o),$=this.getFontStyle(o);let f=`color: ${D[C]};`;1&$&&(f+="font-style: italic;"),2&$&&(f+="font-weight: bold;");let B="";return 4&$&&(B+=" underline"),8&$&&(B+=" line-through"),B&&(f+=`text-decoration:${B};`),f}static getPresentationFromMetadata(o){const D=this.getForeground(o),C=this.getFontStyle(o);return{foreground:D,italic:!!(1&C),bold:!!(2&C),underline:!!(4&C),strikethrough:!!(8&C)}}}},1489:(ft,Oe,I)=>{"use strict";I.d(Oe,{rY:()=>K,ou:()=>F,dG:()=>ee,OB:()=>he});var W=I(3616),o=(I(2417),I(467)),D=I(5643),C=I(4061);class ${constructor(){this._tokenizationSupports=new Map,this._factories=new Map,this._onDidChange=new D.vl,this.onDidChange=this._onDidChange.event,this._colorMap=null}handleChange(ie){this._onDidChange.fire({changedLanguages:ie,changedColorMap:!1})}register(ie,Ae){return this._tokenizationSupports.set(ie,Ae),this.handleChange([ie]),(0,C.s)(()=>{this._tokenizationSupports.get(ie)===Ae&&(this._tokenizationSupports.delete(ie),this.handleChange([ie]))})}get(ie){return this._tokenizationSupports.get(ie)||null}registerFactory(ie,Ae){this._factories.get(ie)?.dispose();const ce=new f(this,ie,Ae);return this._factories.set(ie,ce),(0,C.s)(()=>{const P=this._factories.get(ie);!P||P!==ce||(this._factories.delete(ie),P.dispose())})}getOrCreate(ie){var Ae=this;return(0,o.A)(function*(){const ce=Ae.get(ie);if(ce)return ce;const P=Ae._factories.get(ie);return!P||P.isResolved?null:(yield P.resolve(),Ae.get(ie))})()}isResolved(ie){if(this.get(ie))return!0;const ce=this._factories.get(ie);return!(ce&&!ce.isResolved)}setColorMap(ie){this._colorMap=ie,this._onDidChange.fire({changedLanguages:Array.from(this._tokenizationSupports.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}class f extends C.jG{get isResolved(){return this._isResolved}constructor(ie,Ae,ce){super(),this._registry=ie,this._languageId=Ae,this._factory=ce,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}dispose(){this._isDisposed=!0,super.dispose()}resolve(){var ie=this;return(0,o.A)(function*(){return ie._resolvePromise||(ie._resolvePromise=ie._create()),ie._resolvePromise})()}_create(){var ie=this;return(0,o.A)(function*(){const Ae=yield ie._factory.tokenizationSupport;ie._isResolved=!0,Ae&&!ie._isDisposed&&ie._register(ie._registry.register(ie._languageId,Ae))})()}}var S,U,G,B=I(1913);class F{constructor(ie,Ae,ce){this.offset=ie,this.type=Ae,this.language=ce,this._tokenBrand=void 0}toString(){return"("+this.offset+", "+this.type+")"}}class K{constructor(ie,Ae){this.tokens=ie,this.endState=Ae,this._encodedTokenizationResultBrand=void 0}}!function(ne){const ie=new Map;ie.set(0,W.W.symbolMethod),ie.set(1,W.W.symbolFunction),ie.set(2,W.W.symbolConstructor),ie.set(3,W.W.symbolField),ie.set(4,W.W.symbolVariable),ie.set(5,W.W.symbolClass),ie.set(6,W.W.symbolStruct),ie.set(7,W.W.symbolInterface),ie.set(8,W.W.symbolModule),ie.set(9,W.W.symbolProperty),ie.set(10,W.W.symbolEvent),ie.set(11,W.W.symbolOperator),ie.set(12,W.W.symbolUnit),ie.set(13,W.W.symbolValue),ie.set(15,W.W.symbolEnum),ie.set(14,W.W.symbolConstant),ie.set(15,W.W.symbolEnum),ie.set(16,W.W.symbolEnumMember),ie.set(17,W.W.symbolKeyword),ie.set(27,W.W.symbolSnippet),ie.set(18,W.W.symbolText),ie.set(19,W.W.symbolColor),ie.set(20,W.W.symbolFile),ie.set(21,W.W.symbolReference),ie.set(22,W.W.symbolCustomColor),ie.set(23,W.W.symbolFolder),ie.set(24,W.W.symbolTypeParameter),ie.set(25,W.W.account),ie.set(26,W.W.issues),ne.toIcon=function Ae(J){let le=ie.get(J);return le||(console.info("No codicon found for CompletionItemKind "+J),le=W.W.symbolProperty),le};const ce=new Map;ce.set("method",0),ce.set("function",1),ce.set("constructor",2),ce.set("field",3),ce.set("variable",4),ce.set("class",5),ce.set("struct",6),ce.set("interface",7),ce.set("module",8),ce.set("property",9),ce.set("event",10),ce.set("operator",11),ce.set("unit",12),ce.set("value",13),ce.set("constant",14),ce.set("enum",15),ce.set("enum-member",16),ce.set("enumMember",16),ce.set("keyword",17),ce.set("snippet",27),ce.set("text",18),ce.set("color",19),ce.set("file",20),ce.set("reference",21),ce.set("customcolor",22),ce.set("folder",23),ce.set("type-parameter",24),ce.set("typeParameter",24),ce.set("account",25),ce.set("issue",26),ne.fromString=function P(J,le){let ge=ce.get(J);return typeof ge>"u"&&!le&&(ge=9),ge}}(S||(S={})),(0,B.kg)("Array","array"),(0,B.kg)("Boolean","boolean"),(0,B.kg)("Class","class"),(0,B.kg)("Constant","constant"),(0,B.kg)("Constructor","constructor"),(0,B.kg)("Enum","enumeration"),(0,B.kg)("EnumMember","enumeration member"),(0,B.kg)("Event","event"),(0,B.kg)("Field","field"),(0,B.kg)("File","file"),(0,B.kg)("Function","function"),(0,B.kg)("Interface","interface"),(0,B.kg)("Key","key"),(0,B.kg)("Method","method"),(0,B.kg)("Module","module"),(0,B.kg)("Namespace","namespace"),(0,B.kg)("Null","null"),(0,B.kg)("Number","number"),(0,B.kg)("Object","object"),(0,B.kg)("Operator","operator"),(0,B.kg)("Package","package"),(0,B.kg)("Property","property"),(0,B.kg)("String","string"),(0,B.kg)("Struct","struct"),(0,B.kg)("TypeParameter","type parameter"),(0,B.kg)("Variable","variable"),function(ne){const ie=new Map;ie.set(0,W.W.symbolFile),ie.set(1,W.W.symbolModule),ie.set(2,W.W.symbolNamespace),ie.set(3,W.W.symbolPackage),ie.set(4,W.W.symbolClass),ie.set(5,W.W.symbolMethod),ie.set(6,W.W.symbolProperty),ie.set(7,W.W.symbolField),ie.set(8,W.W.symbolConstructor),ie.set(9,W.W.symbolEnum),ie.set(10,W.W.symbolInterface),ie.set(11,W.W.symbolFunction),ie.set(12,W.W.symbolVariable),ie.set(13,W.W.symbolConstant),ie.set(14,W.W.symbolString),ie.set(15,W.W.symbolNumber),ie.set(16,W.W.symbolBoolean),ie.set(17,W.W.symbolArray),ie.set(18,W.W.symbolObject),ie.set(19,W.W.symbolKey),ie.set(20,W.W.symbolNull),ie.set(21,W.W.symbolEnumMember),ie.set(22,W.W.symbolStruct),ie.set(23,W.W.symbolEvent),ie.set(24,W.W.symbolOperator),ie.set(25,W.W.symbolTypeParameter),ne.toIcon=function Ae(ce){let P=ie.get(ce);return P||(console.info("No codicon found for SymbolKind "+ce),P=W.W.symbolProperty),P}}(U||(U={}));class j{static{this.Comment=new j("comment")}static{this.Imports=new j("imports")}static{this.Region=new j("region")}static fromValue(ie){switch(ie){case"comment":return j.Comment;case"imports":return j.Imports;case"region":return j.Region}return new j(ie)}constructor(ie){this.value=ie}}(G||(G={})).is=function ie(Ae){return!(!Ae||"object"!=typeof Ae)&&"string"==typeof Ae.id&&"string"==typeof Ae.title};const ee=new $,he=new $},385:(ft,Oe,I)=>{"use strict";I.d(Oe,{L:()=>Z});const Z=(0,I(598).u1)("languageService")},7864:(ft,Oe,I)=>{"use strict";I.d(Oe,{W6:()=>B,vH:()=>F});var W=I(1913),Z=I(5643),o=I(7018),D=I(2323),C=I(987);const B=new class f{constructor(){this._onDidChangeLanguages=new Z.vl,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(A){return this._languages.push(A),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let S=0,M=this._languages.length;S<M;S++)if(this._languages[S]===A)return void this._languages.splice(S,1)}}}getLanguages(){return this._languages}};o.O.add("editor.modesRegistry",B);const F="plaintext";B.registerLanguage({id:F,extensions:[".txt"],aliases:[W.kg("plainText.alias","Plain Text"),"text"],mimetypes:[D.K.text]}),o.O.as(C.Fd.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])},3782:(ft,Oe,I)=>{"use strict";I.d(Oe,{A5:()=>Z,Dg:()=>$,F4:()=>ae,L5:()=>F,Wo:()=>B,X2:()=>C,ZS:()=>o,nk:()=>f,vd:()=>K});var W=I(4311),Z=function(A){return A[A.Left=1]="Left",A[A.Center=2]="Center",A[A.Right=4]="Right",A[A.Full=7]="Full",A}(Z||{}),o=function(A){return A[A.Left=1]="Left",A[A.Center=2]="Center",A[A.Right=3]="Right",A}(o||{});class C{get originalIndentSize(){return this._indentSizeIsTabSize?"tabSize":this.indentSize}constructor(S){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,0|S.tabSize),"tabSize"===S.indentSize?(this.indentSize=this.tabSize,this._indentSizeIsTabSize=!0):(this.indentSize=Math.max(1,0|S.indentSize),this._indentSizeIsTabSize=!1),this.insertSpaces=!!S.insertSpaces,this.defaultEOL=0|S.defaultEOL,this.trimAutoWhitespace=!!S.trimAutoWhitespace,this.bracketPairColorizationOptions=S.bracketPairColorizationOptions}equals(S){return this.tabSize===S.tabSize&&this._indentSizeIsTabSize===S._indentSizeIsTabSize&&this.indentSize===S.indentSize&&this.insertSpaces===S.insertSpaces&&this.defaultEOL===S.defaultEOL&&this.trimAutoWhitespace===S.trimAutoWhitespace&&(0,W.aI)(this.bracketPairColorizationOptions,S.bracketPairColorizationOptions)}createChangeEvent(S){return{tabSize:this.tabSize!==S.tabSize,indentSize:this.indentSize!==S.indentSize,insertSpaces:this.insertSpaces!==S.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==S.trimAutoWhitespace}}}class ${constructor(S,M){this._findMatchBrand=void 0,this.range=S,this.matches=M}}function f(A){return A&&"function"==typeof A.read}class B{constructor(S,M,E,p,Ce,me){this.identifier=S,this.range=M,this.text=E,this.forceMoveMarkers=p,this.isAutoWhitespaceEdit=Ce,this._isTracked=me}}class F{constructor(S,M,E){this.regex=S,this.wordSeparators=M,this.simpleSearch=E}}class ae{constructor(S,M,E){this.reverseEdits=S,this.changes=M,this.trimAutoWhitespaceLineNumbers=E}}function K(A){return!A.isTooLargeForSyncing()&&!A.isForSimpleWidget}},9966:(ft,Oe,I)=>{"use strict";I.d(Oe,{lt:()=>K,W5:()=>_,hB:()=>E,dr:()=>S,wC:()=>me});var W=I(6653),Z=I(53),o=I(2493);class D extends o.V{constructor(k,U){super(0),this._segmenter=null,this._cachedLine=null,this._cachedSegments=[],this.intlSegmenterLocales=U,this._segmenter=this.intlSegmenterLocales.length>0?new Intl.Segmenter(this.intlSegmenterLocales,{granularity:"word"}):null;for(let H=0,j=k.length;H<j;H++)this.set(k.charCodeAt(H),2);this.set(32,1),this.set(9,1)}findPrevIntlWordBeforeOrAtOffset(k,U){let H=null;for(const j of this._getIntlSegmenterWordsOnLine(k)){if(j.index>U)break;H=j}return H}findNextIntlWordAtOrAfterOffset(k,U){for(const H of this._getIntlSegmenterWordsOnLine(k))if(!(H.index<U))return H;return null}_getIntlSegmenterWordsOnLine(k){return this._segmenter?(this._cachedLine===k||(this._cachedLine=k,this._cachedSegments=this._filterWordSegments(this._segmenter.segment(k))),this._cachedSegments):[]}_filterWordSegments(k){const U=[];for(const H of k)this._isWordLike(H)&&U.push(H);return U}_isWordLike(k){return!!k.isWordLike}}const C=new Z.qK(10);var f=I(3632),B=I(3678),F=I(3782);class K{constructor(k,U,H,j){this.searchString=k,this.isRegex=U,this.matchCase=H,this.wordSeparators=j}parseSearchRequest(){if(""===this.searchString)return null;let k;k=this.isRegex?function A(w){if(!w||0===w.length)return!1;for(let k=0,U=w.length;k<U;k++){const H=w.charCodeAt(k);if(10===H)return!0;if(92===H){if(k++,k>=U)break;const j=w.charCodeAt(k);if(110===j||114===j||87===j)return!0}}return!1}(this.searchString):this.searchString.indexOf("\n")>=0;let U=null;try{U=W.OS(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:k,global:!0,unicode:!0})}catch{return null}if(!U)return null;let H=!this.isRegex&&!k;return H&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(H=this.matchCase),new F.L5(U,this.wordSeparators?function $(w,k){const U=`${w}/${k.join(",")}`;let H=C.get(U);return H||(H=new D(w,k),C.set(U,H)),H}(this.wordSeparators,[]):null,H?this.searchString:null)}}function S(w,k,U){if(!U)return new F.Dg(w,null);const H=[];for(let j=0,y=k.length;j<y;j++)H[j]=k[j];return new F.Dg(w,H)}class M{constructor(k){const U=[];let H=0;for(let j=0,y=k.length;j<y;j++)10===k.charCodeAt(j)&&(U[H++]=j);this._lineFeedsOffsets=U}findLineFeedCountBeforeOffset(k){const U=this._lineFeedsOffsets;let H=0,j=U.length-1;if(-1===j||k<=U[0])return 0;for(;H<j;){const y=H+((j-H)/2|0);U[y]>=k?j=y-1:U[y+1]>=k?(H=y,j=y):H=y+1}return H+1}}class E{static findMatches(k,U,H,j,y){const O=U.parseSearchRequest();return O?O.regex.multiline?this._doFindMatchesMultiline(k,H,new _(O.wordSeparators,O.regex),j,y):this._doFindMatchesLineByLine(k,H,O,j,y):[]}static _getMultilineMatchRange(k,U,H,j,y,O){let G,z,T=0;if(j?(T=j.findLineFeedCountBeforeOffset(y),G=U+y+T):G=U+y,j){const ne=j.findLineFeedCountBeforeOffset(y+O.length)-T;z=G+O.length+ne}else z=G+O.length;const ee=k.getPositionAt(G),he=k.getPositionAt(z);return new B.Q(ee.lineNumber,ee.column,he.lineNumber,he.column)}static _doFindMatchesMultiline(k,U,H,j,y){const O=k.getOffsetAt(U.getStartPosition()),G=k.getValueInRange(U,1),T="\r\n"===k.getEOL()?new M(G):null,z=[];let he,ee=0;for(H.reset(0);he=H.next(G);)if(z[ee++]=S(this._getMultilineMatchRange(k,O,G,T,he.index,he[0]),he,j),ee>=y)return z;return z}static _doFindMatchesLineByLine(k,U,H,j,y){const O=[];let G=0;if(U.startLineNumber===U.endLineNumber){const z=k.getLineContent(U.startLineNumber).substring(U.startColumn-1,U.endColumn-1);return G=this._findMatchesInLine(H,z,U.startLineNumber,U.startColumn-1,G,O,j,y),O}const T=k.getLineContent(U.startLineNumber).substring(U.startColumn-1);G=this._findMatchesInLine(H,T,U.startLineNumber,U.startColumn-1,G,O,j,y);for(let z=U.startLineNumber+1;z<U.endLineNumber&&G<y;z++)G=this._findMatchesInLine(H,k.getLineContent(z),z,0,G,O,j,y);if(G<y){const z=k.getLineContent(U.endLineNumber).substring(0,U.endColumn-1);G=this._findMatchesInLine(H,z,U.endLineNumber,0,G,O,j,y)}return O}static _findMatchesInLine(k,U,H,j,y,O,G,T){const z=k.wordSeparators;if(!G&&k.simpleSearch){const pe=k.simpleSearch,ne=pe.length,ie=U.length;let Ae=-ne;for(;-1!==(Ae=U.indexOf(pe,Ae+ne));)if((!z||me(z,U,ie,Ae,ne))&&(O[y++]=new F.Dg(new B.Q(H,Ae+1+j,H,Ae+1+ne+j),null),y>=T))return y;return y}const ee=new _(k.wordSeparators,k.regex);let he;ee.reset(0);do{if(he=ee.next(U),he&&(O[y++]=S(new B.Q(H,he.index+1+j,H,he.index+1+he[0].length+j),he,G),y>=T))return y}while(he);return y}static findNextMatch(k,U,H,j){const y=U.parseSearchRequest();if(!y)return null;const O=new _(y.wordSeparators,y.regex);return y.regex.multiline?this._doFindNextMatchMultiline(k,H,O,j):this._doFindNextMatchLineByLine(k,H,O,j)}static _doFindNextMatchMultiline(k,U,H,j){const y=new f.y(U.lineNumber,1),O=k.getOffsetAt(y),G=k.getLineCount(),T=k.getValueInRange(new B.Q(y.lineNumber,y.column,G,k.getLineMaxColumn(G)),1),z="\r\n"===k.getEOL()?new M(T):null;H.reset(U.column-1);const ee=H.next(T);return ee?S(this._getMultilineMatchRange(k,O,T,z,ee.index,ee[0]),ee,j):1!==U.lineNumber||1!==U.column?this._doFindNextMatchMultiline(k,new f.y(1,1),H,j):null}static _doFindNextMatchLineByLine(k,U,H,j){const y=k.getLineCount(),O=U.lineNumber,G=k.getLineContent(O),T=this._findFirstMatchInLine(H,G,O,U.column,j);if(T)return T;for(let z=1;z<=y;z++){const ee=(O+z-1)%y,he=k.getLineContent(ee+1),pe=this._findFirstMatchInLine(H,he,ee+1,1,j);if(pe)return pe}return null}static _findFirstMatchInLine(k,U,H,j,y){k.reset(j-1);const O=k.next(U);return O?S(new B.Q(H,O.index+1,H,O.index+1+O[0].length),O,y):null}static findPreviousMatch(k,U,H,j){const y=U.parseSearchRequest();if(!y)return null;const O=new _(y.wordSeparators,y.regex);return y.regex.multiline?this._doFindPreviousMatchMultiline(k,H,O,j):this._doFindPreviousMatchLineByLine(k,H,O,j)}static _doFindPreviousMatchMultiline(k,U,H,j){const y=this._doFindMatchesMultiline(k,new B.Q(1,1,U.lineNumber,U.column),H,j,9990);if(y.length>0)return y[y.length-1];const O=k.getLineCount();return U.lineNumber!==O||U.column!==k.getLineMaxColumn(O)?this._doFindPreviousMatchMultiline(k,new f.y(O,k.getLineMaxColumn(O)),H,j):null}static _doFindPreviousMatchLineByLine(k,U,H,j){const y=k.getLineCount(),O=U.lineNumber,G=k.getLineContent(O).substring(0,U.column-1),T=this._findLastMatchInLine(H,G,O,j);if(T)return T;for(let z=1;z<=y;z++){const ee=(y+O-z-1)%y,he=k.getLineContent(ee+1),pe=this._findLastMatchInLine(H,he,ee+1,j);if(pe)return pe}return null}static _findLastMatchInLine(k,U,H,j){let O,y=null;for(k.reset(0);O=k.next(U);)y=S(new B.Q(H,O.index+1,H,O.index+1+O[0].length),O,j);return y}}function me(w,k,U,H,j){return function p(w,k,U,H,j){if(0===H)return!0;const y=k.charCodeAt(H-1);if(0!==w.get(y)||13===y||10===y)return!0;if(j>0){const O=k.charCodeAt(H);if(0!==w.get(O))return!0}return!1}(w,k,0,H,j)&&function Ce(w,k,U,H,j){if(H+j===U)return!0;const y=k.charCodeAt(H+j);if(0!==w.get(y)||13===y||10===y)return!0;if(j>0){const O=k.charCodeAt(H+j-1);if(0!==w.get(O))return!0}return!1}(w,k,U,H,j)}class _{constructor(k,U){this._wordSeparators=k,this._searchRegex=U,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(k){this._searchRegex.lastIndex=k,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(k){const U=k.length;let H;do{if(this._prevMatchStartIndex+this._prevMatchLength===U||(H=this._searchRegex.exec(k),!H))return null;const j=H.index,y=H[0].length;if(j===this._prevMatchStartIndex&&y===this._prevMatchLength){if(0===y){W.Z5(k,U,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=j,this._prevMatchLength=y,!this._wordSeparators||me(this._wordSeparators,k,U,j,y))return H}while(H);return null}}},5521:(ft,Oe,I)=>{"use strict";I.r(Oe),I.d(Oe,{KeyMod:()=>st,createMonacoBaseAPI:()=>kt});var W=I(1468),Z=I(5643);class o{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(Vt,Ht){this._keyCodeToStr[Vt]=Ht,this._strToKeyCode[Ht.toLowerCase()]=Vt}keyCodeToStr(Vt){return this._keyCodeToStr[Vt]}strToKeyCode(Vt){return this._strToKeyCode[Vt.toLowerCase()]||0}}const D=new o,C=new o,$=new o,f=new Array(230),B={},F=[],ae=Object.create(null),K=Object.create(null),A=[],S=[];for(let n=0;n<=193;n++)A[n]=-1;for(let n=0;n<=132;n++)S[n]=-1;var M,n;!function(){const n="",Vt=[[1,0,"None",0,"unknown",0,"VK_UNKNOWN",n,n],[1,1,"Hyper",0,n,0,n,n,n],[1,2,"Super",0,n,0,n,n,n],[1,3,"Fn",0,n,0,n,n,n],[1,4,"FnLock",0,n,0,n,n,n],[1,5,"Suspend",0,n,0,n,n,n],[1,6,"Resume",0,n,0,n,n,n],[1,7,"Turbo",0,n,0,n,n,n],[1,8,"Sleep",0,n,0,"VK_SLEEP",n,n],[1,9,"WakeUp",0,n,0,n,n,n],[0,10,"KeyA",31,"A",65,"VK_A",n,n],[0,11,"KeyB",32,"B",66,"VK_B",n,n],[0,12,"KeyC",33,"C",67,"VK_C",n,n],[0,13,"KeyD",34,"D",68,"VK_D",n,n],[0,14,"KeyE",35,"E",69,"VK_E",n,n],[0,15,"KeyF",36,"F",70,"VK_F",n,n],[0,16,"KeyG",37,"G",71,"VK_G",n,n],[0,17,"KeyH",38,"H",72,"VK_H",n,n],[0,18,"KeyI",39,"I",73,"VK_I",n,n],[0,19,"KeyJ",40,"J",74,"VK_J",n,n],[0,20,"KeyK",41,"K",75,"VK_K",n,n],[0,21,"KeyL",42,"L",76,"VK_L",n,n],[0,22,"KeyM",43,"M",77,"VK_M",n,n],[0,23,"KeyN",44,"N",78,"VK_N",n,n],[0,24,"KeyO",45,"O",79,"VK_O",n,n],[0,25,"KeyP",46,"P",80,"VK_P",n,n],[0,26,"KeyQ",47,"Q",81,"VK_Q",n,n],[0,27,"KeyR",48,"R",82,"VK_R",n,n],[0,28,"KeyS",49,"S",83,"VK_S",n,n],[0,29,"KeyT",50,"T",84,"VK_T",n,n],[0,30,"KeyU",51,"U",85,"VK_U",n,n],[0,31,"KeyV",52,"V",86,"VK_V",n,n],[0,32,"KeyW",53,"W",87,"VK_W",n,n],[0,33,"KeyX",54,"X",88,"VK_X",n,n],[0,34,"KeyY",55,"Y",89,"VK_Y",n,n],[0,35,"KeyZ",56,"Z",90,"VK_Z",n,n],[0,36,"Digit1",22,"1",49,"VK_1",n,n],[0,37,"Digit2",23,"2",50,"VK_2",n,n],[0,38,"Digit3",24,"3",51,"VK_3",n,n],[0,39,"Digit4",25,"4",52,"VK_4",n,n],[0,40,"Digit5",26,"5",53,"VK_5",n,n],[0,41,"Digit6",27,"6",54,"VK_6",n,n],[0,42,"Digit7",28,"7",55,"VK_7",n,n],[0,43,"Digit8",29,"8",56,"VK_8",n,n],[0,44,"Digit9",30,"9",57,"VK_9",n,n],[0,45,"Digit0",21,"0",48,"VK_0",n,n],[1,46,"Enter",3,"Enter",13,"VK_RETURN",n,n],[1,47,"Escape",9,"Escape",27,"VK_ESCAPE",n,n],[1,48,"Backspace",1,"Backspace",8,"VK_BACK",n,n],[1,49,"Tab",2,"Tab",9,"VK_TAB",n,n],[1,50,"Space",10,"Space",32,"VK_SPACE",n,n],[0,51,"Minus",88,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[0,52,"Equal",86,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[0,53,"BracketLeft",92,"[",219,"VK_OEM_4","[","OEM_4"],[0,54,"BracketRight",94,"]",221,"VK_OEM_6","]","OEM_6"],[0,55,"Backslash",93,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,56,"IntlHash",0,n,0,n,n,n],[0,57,"Semicolon",85,";",186,"VK_OEM_1",";","OEM_1"],[0,58,"Quote",95,"'",222,"VK_OEM_7","'","OEM_7"],[0,59,"Backquote",91,"`",192,"VK_OEM_3","`","OEM_3"],[0,60,"Comma",87,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[0,61,"Period",89,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[0,62,"Slash",90,"/",191,"VK_OEM_2","/","OEM_2"],[1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",n,n],[1,64,"F1",59,"F1",112,"VK_F1",n,n],[1,65,"F2",60,"F2",113,"VK_F2",n,n],[1,66,"F3",61,"F3",114,"VK_F3",n,n],[1,67,"F4",62,"F4",115,"VK_F4",n,n],[1,68,"F5",63,"F5",116,"VK_F5",n,n],[1,69,"F6",64,"F6",117,"VK_F6",n,n],[1,70,"F7",65,"F7",118,"VK_F7",n,n],[1,71,"F8",66,"F8",119,"VK_F8",n,n],[1,72,"F9",67,"F9",120,"VK_F9",n,n],[1,73,"F10",68,"F10",121,"VK_F10",n,n],[1,74,"F11",69,"F11",122,"VK_F11",n,n],[1,75,"F12",70,"F12",123,"VK_F12",n,n],[1,76,"PrintScreen",0,n,0,n,n,n],[1,77,"ScrollLock",84,"ScrollLock",145,"VK_SCROLL",n,n],[1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",n,n],[1,79,"Insert",19,"Insert",45,"VK_INSERT",n,n],[1,80,"Home",14,"Home",36,"VK_HOME",n,n],[1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",n,n],[1,82,"Delete",20,"Delete",46,"VK_DELETE",n,n],[1,83,"End",13,"End",35,"VK_END",n,n],[1,84,"PageDown",12,"PageDown",34,"VK_NEXT",n,n],[1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",n],[1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",n],[1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",n],[1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",n],[1,89,"NumLock",83,"NumLock",144,"VK_NUMLOCK",n,n],[1,90,"NumpadDivide",113,"NumPad_Divide",111,"VK_DIVIDE",n,n],[1,91,"NumpadMultiply",108,"NumPad_Multiply",106,"VK_MULTIPLY",n,n],[1,92,"NumpadSubtract",111,"NumPad_Subtract",109,"VK_SUBTRACT",n,n],[1,93,"NumpadAdd",109,"NumPad_Add",107,"VK_ADD",n,n],[1,94,"NumpadEnter",3,n,0,n,n,n],[1,95,"Numpad1",99,"NumPad1",97,"VK_NUMPAD1",n,n],[1,96,"Numpad2",100,"NumPad2",98,"VK_NUMPAD2",n,n],[1,97,"Numpad3",101,"NumPad3",99,"VK_NUMPAD3",n,n],[1,98,"Numpad4",102,"NumPad4",100,"VK_NUMPAD4",n,n],[1,99,"Numpad5",103,"NumPad5",101,"VK_NUMPAD5",n,n],[1,100,"Numpad6",104,"NumPad6",102,"VK_NUMPAD6",n,n],[1,101,"Numpad7",105,"NumPad7",103,"VK_NUMPAD7",n,n],[1,102,"Numpad8",106,"NumPad8",104,"VK_NUMPAD8",n,n],[1,103,"Numpad9",107,"NumPad9",105,"VK_NUMPAD9",n,n],[1,104,"Numpad0",98,"NumPad0",96,"VK_NUMPAD0",n,n],[1,105,"NumpadDecimal",112,"NumPad_Decimal",110,"VK_DECIMAL",n,n],[0,106,"IntlBackslash",97,"OEM_102",226,"VK_OEM_102",n,n],[1,107,"ContextMenu",58,"ContextMenu",93,n,n,n],[1,108,"Power",0,n,0,n,n,n],[1,109,"NumpadEqual",0,n,0,n,n,n],[1,110,"F13",71,"F13",124,"VK_F13",n,n],[1,111,"F14",72,"F14",125,"VK_F14",n,n],[1,112,"F15",73,"F15",126,"VK_F15",n,n],[1,113,"F16",74,"F16",127,"VK_F16",n,n],[1,114,"F17",75,"F17",128,"VK_F17",n,n],[1,115,"F18",76,"F18",129,"VK_F18",n,n],[1,116,"F19",77,"F19",130,"VK_F19",n,n],[1,117,"F20",78,"F20",131,"VK_F20",n,n],[1,118,"F21",79,"F21",132,"VK_F21",n,n],[1,119,"F22",80,"F22",133,"VK_F22",n,n],[1,120,"F23",81,"F23",134,"VK_F23",n,n],[1,121,"F24",82,"F24",135,"VK_F24",n,n],[1,122,"Open",0,n,0,n,n,n],[1,123,"Help",0,n,0,n,n,n],[1,124,"Select",0,n,0,n,n,n],[1,125,"Again",0,n,0,n,n,n],[1,126,"Undo",0,n,0,n,n,n],[1,127,"Cut",0,n,0,n,n,n],[1,128,"Copy",0,n,0,n,n,n],[1,129,"Paste",0,n,0,n,n,n],[1,130,"Find",0,n,0,n,n,n],[1,131,"AudioVolumeMute",117,"AudioVolumeMute",173,"VK_VOLUME_MUTE",n,n],[1,132,"AudioVolumeUp",118,"AudioVolumeUp",175,"VK_VOLUME_UP",n,n],[1,133,"AudioVolumeDown",119,"AudioVolumeDown",174,"VK_VOLUME_DOWN",n,n],[1,134,"NumpadComma",110,"NumPad_Separator",108,"VK_SEPARATOR",n,n],[0,135,"IntlRo",115,"ABNT_C1",193,"VK_ABNT_C1",n,n],[1,136,"KanaMode",0,n,0,n,n,n],[0,137,"IntlYen",0,n,0,n,n,n],[1,138,"Convert",0,n,0,n,n,n],[1,139,"NonConvert",0,n,0,n,n,n],[1,140,"Lang1",0,n,0,n,n,n],[1,141,"Lang2",0,n,0,n,n,n],[1,142,"Lang3",0,n,0,n,n,n],[1,143,"Lang4",0,n,0,n,n,n],[1,144,"Lang5",0,n,0,n,n,n],[1,145,"Abort",0,n,0,n,n,n],[1,146,"Props",0,n,0,n,n,n],[1,147,"NumpadParenLeft",0,n,0,n,n,n],[1,148,"NumpadParenRight",0,n,0,n,n,n],[1,149,"NumpadBackspace",0,n,0,n,n,n],[1,150,"NumpadMemoryStore",0,n,0,n,n,n],[1,151,"NumpadMemoryRecall",0,n,0,n,n,n],[1,152,"NumpadMemoryClear",0,n,0,n,n,n],[1,153,"NumpadMemoryAdd",0,n,0,n,n,n],[1,154,"NumpadMemorySubtract",0,n,0,n,n,n],[1,155,"NumpadClear",131,"Clear",12,"VK_CLEAR",n,n],[1,156,"NumpadClearEntry",0,n,0,n,n,n],[1,0,n,5,"Ctrl",17,"VK_CONTROL",n,n],[1,0,n,4,"Shift",16,"VK_SHIFT",n,n],[1,0,n,6,"Alt",18,"VK_MENU",n,n],[1,0,n,57,"Meta",91,"VK_COMMAND",n,n],[1,157,"ControlLeft",5,n,0,"VK_LCONTROL",n,n],[1,158,"ShiftLeft",4,n,0,"VK_LSHIFT",n,n],[1,159,"AltLeft",6,n,0,"VK_LMENU",n,n],[1,160,"MetaLeft",57,n,0,"VK_LWIN",n,n],[1,161,"ControlRight",5,n,0,"VK_RCONTROL",n,n],[1,162,"ShiftRight",4,n,0,"VK_RSHIFT",n,n],[1,163,"AltRight",6,n,0,"VK_RMENU",n,n],[1,164,"MetaRight",57,n,0,"VK_RWIN",n,n],[1,165,"BrightnessUp",0,n,0,n,n,n],[1,166,"BrightnessDown",0,n,0,n,n,n],[1,167,"MediaPlay",0,n,0,n,n,n],[1,168,"MediaRecord",0,n,0,n,n,n],[1,169,"MediaFastForward",0,n,0,n,n,n],[1,170,"MediaRewind",0,n,0,n,n,n],[1,171,"MediaTrackNext",124,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",n,n],[1,172,"MediaTrackPrevious",125,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",n,n],[1,173,"MediaStop",126,"MediaStop",178,"VK_MEDIA_STOP",n,n],[1,174,"Eject",0,n,0,n,n,n],[1,175,"MediaPlayPause",127,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",n,n],[1,176,"MediaSelect",128,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",n,n],[1,177,"LaunchMail",129,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",n,n],[1,178,"LaunchApp2",130,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",n,n],[1,179,"LaunchApp1",0,n,0,"VK_MEDIA_LAUNCH_APP1",n,n],[1,180,"SelectTask",0,n,0,n,n,n],[1,181,"LaunchScreenSaver",0,n,0,n,n,n],[1,182,"BrowserSearch",120,"BrowserSearch",170,"VK_BROWSER_SEARCH",n,n],[1,183,"BrowserHome",121,"BrowserHome",172,"VK_BROWSER_HOME",n,n],[1,184,"BrowserBack",122,"BrowserBack",166,"VK_BROWSER_BACK",n,n],[1,185,"BrowserForward",123,"BrowserForward",167,"VK_BROWSER_FORWARD",n,n],[1,186,"BrowserStop",0,n,0,"VK_BROWSER_STOP",n,n],[1,187,"BrowserRefresh",0,n,0,"VK_BROWSER_REFRESH",n,n],[1,188,"BrowserFavorites",0,n,0,"VK_BROWSER_FAVORITES",n,n],[1,189,"ZoomToggle",0,n,0,n,n,n],[1,190,"MailReply",0,n,0,n,n,n],[1,191,"MailForward",0,n,0,n,n,n],[1,192,"MailSend",0,n,0,n,n,n],[1,0,n,114,"KeyInComposition",229,n,n,n],[1,0,n,116,"ABNT_C2",194,"VK_ABNT_C2",n,n],[1,0,n,96,"OEM_8",223,"VK_OEM_8",n,n],[1,0,n,0,n,0,"VK_KANA",n,n],[1,0,n,0,n,0,"VK_HANGUL",n,n],[1,0,n,0,n,0,"VK_JUNJA",n,n],[1,0,n,0,n,0,"VK_FINAL",n,n],[1,0,n,0,n,0,"VK_HANJA",n,n],[1,0,n,0,n,0,"VK_KANJI",n,n],[1,0,n,0,n,0,"VK_CONVERT",n,n],[1,0,n,0,n,0,"VK_NONCONVERT",n,n],[1,0,n,0,n,0,"VK_ACCEPT",n,n],[1,0,n,0,n,0,"VK_MODECHANGE",n,n],[1,0,n,0,n,0,"VK_SELECT",n,n],[1,0,n,0,n,0,"VK_PRINT",n,n],[1,0,n,0,n,0,"VK_EXECUTE",n,n],[1,0,n,0,n,0,"VK_SNAPSHOT",n,n],[1,0,n,0,n,0,"VK_HELP",n,n],[1,0,n,0,n,0,"VK_APPS",n,n],[1,0,n,0,n,0,"VK_PROCESSKEY",n,n],[1,0,n,0,n,0,"VK_PACKET",n,n],[1,0,n,0,n,0,"VK_DBE_SBCSCHAR",n,n],[1,0,n,0,n,0,"VK_DBE_DBCSCHAR",n,n],[1,0,n,0,n,0,"VK_ATTN",n,n],[1,0,n,0,n,0,"VK_CRSEL",n,n],[1,0,n,0,n,0,"VK_EXSEL",n,n],[1,0,n,0,n,0,"VK_EREOF",n,n],[1,0,n,0,n,0,"VK_PLAY",n,n],[1,0,n,0,n,0,"VK_ZOOM",n,n],[1,0,n,0,n,0,"VK_NONAME",n,n],[1,0,n,0,n,0,"VK_PA1",n,n],[1,0,n,0,n,0,"VK_OEM_CLEAR",n,n]],Ht=[],tn=[];for(const mn of Vt){const[pn,Xt,Gt,nn,_n,xn,Kn,Rn,jn]=mn;if(tn[Xt]||(tn[Xt]=!0,F[Xt]=Gt,ae[Gt]=Xt,K[Gt.toLowerCase()]=Xt,pn&&(A[Xt]=nn,0!==nn&&3!==nn&&5!==nn&&4!==nn&&6!==nn&&57!==nn&&(S[nn]=Xt))),!Ht[nn]){if(Ht[nn]=!0,!_n)throw new Error(`String representation missing for key code ${nn} around scan code ${Gt}`);D.define(nn,_n),C.define(nn,Rn||_n),$.define(nn,jn||Rn||_n)}xn&&(f[xn]=nn),Kn&&(B[Kn]=nn)}S[3]=46}(),(n=M||(M={})).toString=function Vt(Gt){return D.keyCodeToStr(Gt)},n.fromString=function Ht(Gt){return D.strToKeyCode(Gt)},n.toUserSettingsUS=function tn(Gt){return C.keyCodeToStr(Gt)},n.toUserSettingsGeneral=function mn(Gt){return $.keyCodeToStr(Gt)},n.fromUserSettings=function pn(Gt){return C.strToKeyCode(Gt)||$.strToKeyCode(Gt)},n.toElectronAccelerator=function Xt(Gt){if(Gt>=98&&Gt<=113)return null;switch(Gt){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return D.keyCodeToStr(Gt)};var p=I(2417),Ce=I(3632),me=I(3678),_=I(4105),w=I(1489),De=function(n){return n[n.DependsOnKbLayout=-1]="DependsOnKbLayout",n[n.Unknown=0]="Unknown",n[n.Backspace=1]="Backspace",n[n.Tab=2]="Tab",n[n.Enter=3]="Enter",n[n.Shift=4]="Shift",n[n.Ctrl=5]="Ctrl",n[n.Alt=6]="Alt",n[n.PauseBreak=7]="PauseBreak",n[n.CapsLock=8]="CapsLock",n[n.Escape=9]="Escape",n[n.Space=10]="Space",n[n.PageUp=11]="PageUp",n[n.PageDown=12]="PageDown",n[n.End=13]="End",n[n.Home=14]="Home",n[n.LeftArrow=15]="LeftArrow",n[n.UpArrow=16]="UpArrow",n[n.RightArrow=17]="RightArrow",n[n.DownArrow=18]="DownArrow",n[n.Insert=19]="Insert",n[n.Delete=20]="Delete",n[n.Digit0=21]="Digit0",n[n.Digit1=22]="Digit1",n[n.Digit2=23]="Digit2",n[n.Digit3=24]="Digit3",n[n.Digit4=25]="Digit4",n[n.Digit5=26]="Digit5",n[n.Digit6=27]="Digit6",n[n.Digit7=28]="Digit7",n[n.Digit8=29]="Digit8",n[n.Digit9=30]="Digit9",n[n.KeyA=31]="KeyA",n[n.KeyB=32]="KeyB",n[n.KeyC=33]="KeyC",n[n.KeyD=34]="KeyD",n[n.KeyE=35]="KeyE",n[n.KeyF=36]="KeyF",n[n.KeyG=37]="KeyG",n[n.KeyH=38]="KeyH",n[n.KeyI=39]="KeyI",n[n.KeyJ=40]="KeyJ",n[n.KeyK=41]="KeyK",n[n.KeyL=42]="KeyL",n[n.KeyM=43]="KeyM",n[n.KeyN=44]="KeyN",n[n.KeyO=45]="KeyO",n[n.KeyP=46]="KeyP",n[n.KeyQ=47]="KeyQ",n[n.KeyR=48]="KeyR",n[n.KeyS=49]="KeyS",n[n.KeyT=50]="KeyT",n[n.KeyU=51]="KeyU",n[n.KeyV=52]="KeyV",n[n.KeyW=53]="KeyW",n[n.KeyX=54]="KeyX",n[n.KeyY=55]="KeyY",n[n.KeyZ=56]="KeyZ",n[n.Meta=57]="Meta",n[n.ContextMenu=58]="ContextMenu",n[n.F1=59]="F1",n[n.F2=60]="F2",n[n.F3=61]="F3",n[n.F4=62]="F4",n[n.F5=63]="F5",n[n.F6=64]="F6",n[n.F7=65]="F7",n[n.F8=66]="F8",n[n.F9=67]="F9",n[n.F10=68]="F10",n[n.F11=69]="F11",n[n.F12=70]="F12",n[n.F13=71]="F13",n[n.F14=72]="F14",n[n.F15=73]="F15",n[n.F16=74]="F16",n[n.F17=75]="F17",n[n.F18=76]="F18",n[n.F19=77]="F19",n[n.F20=78]="F20",n[n.F21=79]="F21",n[n.F22=80]="F22",n[n.F23=81]="F23",n[n.F24=82]="F24",n[n.NumLock=83]="NumLock",n[n.ScrollLock=84]="ScrollLock",n[n.Semicolon=85]="Semicolon",n[n.Equal=86]="Equal",n[n.Comma=87]="Comma",n[n.Minus=88]="Minus",n[n.Period=89]="Period",n[n.Slash=90]="Slash",n[n.Backquote=91]="Backquote",n[n.BracketLeft=92]="BracketLeft",n[n.Backslash=93]="Backslash",n[n.BracketRight=94]="BracketRight",n[n.Quote=95]="Quote",n[n.OEM_8=96]="OEM_8",n[n.IntlBackslash=97]="IntlBackslash",n[n.Numpad0=98]="Numpad0",n[n.Numpad1=99]="Numpad1",n[n.Numpad2=100]="Numpad2",n[n.Numpad3=101]="Numpad3",n[n.Numpad4=102]="Numpad4",n[n.Numpad5=103]="Numpad5",n[n.Numpad6=104]="Numpad6",n[n.Numpad7=105]="Numpad7",n[n.Numpad8=106]="Numpad8",n[n.Numpad9=107]="Numpad9",n[n.NumpadMultiply=108]="NumpadMultiply",n[n.NumpadAdd=109]="NumpadAdd",n[n.NUMPAD_SEPARATOR=110]="NUMPAD_SEPARATOR",n[n.NumpadSubtract=111]="NumpadSubtract",n[n.NumpadDecimal=112]="NumpadDecimal",n[n.NumpadDivide=113]="NumpadDivide",n[n.KEY_IN_COMPOSITION=114]="KEY_IN_COMPOSITION",n[n.ABNT_C1=115]="ABNT_C1",n[n.ABNT_C2=116]="ABNT_C2",n[n.AudioVolumeMute=117]="AudioVolumeMute",n[n.AudioVolumeUp=118]="AudioVolumeUp",n[n.AudioVolumeDown=119]="AudioVolumeDown",n[n.BrowserSearch=120]="BrowserSearch",n[n.BrowserHome=121]="BrowserHome",n[n.BrowserBack=122]="BrowserBack",n[n.BrowserForward=123]="BrowserForward",n[n.MediaTrackNext=124]="MediaTrackNext",n[n.MediaTrackPrevious=125]="MediaTrackPrevious",n[n.MediaStop=126]="MediaStop",n[n.MediaPlayPause=127]="MediaPlayPause",n[n.LaunchMediaPlayer=128]="LaunchMediaPlayer",n[n.LaunchMail=129]="LaunchMail",n[n.LaunchApp2=130]="LaunchApp2",n[n.Clear=131]="Clear",n[n.MAX_VALUE=132]="MAX_VALUE",n}(De||{}),ze=function(n){return n[n.Hint=1]="Hint",n[n.Info=2]="Info",n[n.Warning=4]="Warning",n[n.Error=8]="Error",n}(ze||{}),We=function(n){return n[n.Unnecessary=1]="Unnecessary",n[n.Deprecated=2]="Deprecated",n}(We||{}),_t=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(_t||{});let st=(()=>{class n{static{this.CtrlCmd=2048}static{this.Shift=1024}static{this.Alt=512}static{this.WinCtrl=256}static chord(Ht,tn){return function E(n,Vt){return(n|(65535&Vt)<<16>>>0)>>>0}(Ht,tn)}}return n})();function kt(){return{editor:void 0,languages:void 0,CancellationTokenSource:W.Qi,Emitter:Z.vl,KeyCode:De,KeyMod:st,Position:Ce.y,Range:me.Q,Selection:_.L,SelectionDirection:_t,MarkerSeverity:ze,MarkerTag:We,Uri:p.r,Token:w.ou}}},2195:(ft,Oe,I)=>{"use strict";I.r(Oe),I.d(Oe,{BaseEditorSimpleWorker:()=>bi,EditorSimpleWorker:()=>vi,create:()=>or});var W=I(467);class Z{constructor(m,v,V,Y){this.originalStart=m,this.originalLength=v,this.modifiedStart=V,this.modifiedLength=Y}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}var o=I(5763);class D{constructor(m){this.source=m}getElements(){const m=this.source,v=new Int32Array(m.length);for(let V=0,Y=m.length;V<Y;V++)v[V]=m.charCodeAt(V);return v}}function C(Se,m,v){return new F(new D(Se),new D(m)).ComputeDiff(v).changes}class ${static Assert(m,v){if(!m)throw new Error(v)}}class f{static Copy(m,v,V,Y,R){for(let ve=0;ve<R;ve++)V[Y+ve]=m[v+ve]}static Copy2(m,v,V,Y,R){for(let ve=0;ve<R;ve++)V[Y+ve]=m[v+ve]}}class B{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new Z(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(m,v){this.m_originalStart=Math.min(this.m_originalStart,m),this.m_modifiedStart=Math.min(this.m_modifiedStart,v),this.m_originalCount++}AddModifiedElement(m,v){this.m_originalStart=Math.min(this.m_originalStart,m),this.m_modifiedStart=Math.min(this.m_modifiedStart,v),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class F{constructor(m,v,V=null){this.ContinueProcessingPredicate=V,this._originalSequence=m,this._modifiedSequence=v;const[Y,R,ve]=F._getElements(m),[we,ke,Te]=F._getElements(v);this._hasStrings=ve&&Te,this._originalStringElements=Y,this._originalElementsOrHash=R,this._modifiedStringElements=we,this._modifiedElementsOrHash=ke,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(m){return m.length>0&&"string"==typeof m[0]}static _getElements(m){const v=m.getElements();if(F._isStringArray(v)){const V=new Int32Array(v.length);for(let Y=0,R=v.length;Y<R;Y++)V[Y]=(0,o.e2)(v[Y],0);return[v,V,!0]}return v instanceof Int32Array?[[],v,!1]:[[],new Int32Array(v),!1]}ElementsAreEqual(m,v){return this._originalElementsOrHash[m]===this._modifiedElementsOrHash[v]&&(!this._hasStrings||this._originalStringElements[m]===this._modifiedStringElements[v])}ElementsAreStrictEqual(m,v){return!!this.ElementsAreEqual(m,v)&&F._getStrictElement(this._originalSequence,m)===F._getStrictElement(this._modifiedSequence,v)}static _getStrictElement(m,v){return"function"==typeof m.getStrictElement?m.getStrictElement(v):null}OriginalElementsAreEqual(m,v){return this._originalElementsOrHash[m]===this._originalElementsOrHash[v]&&(!this._hasStrings||this._originalStringElements[m]===this._originalStringElements[v])}ModifiedElementsAreEqual(m,v){return this._modifiedElementsOrHash[m]===this._modifiedElementsOrHash[v]&&(!this._hasStrings||this._modifiedStringElements[m]===this._modifiedStringElements[v])}ComputeDiff(m){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,m)}_ComputeDiff(m,v,V,Y,R){const ve=[!1];let we=this.ComputeDiffRecursive(m,v,V,Y,ve);return R&&(we=this.PrettifyChanges(we)),{quitEarly:ve[0],changes:we}}ComputeDiffRecursive(m,v,V,Y,R){for(R[0]=!1;m<=v&&V<=Y&&this.ElementsAreEqual(m,V);)m++,V++;for(;v>=m&&Y>=V&&this.ElementsAreEqual(v,Y);)v--,Y--;if(m>v||V>Y){let qe;return V<=Y?($.Assert(m===v+1,"originalStart should only be one more than originalEnd"),qe=[new Z(m,0,V,Y-V+1)]):m<=v?($.Assert(V===Y+1,"modifiedStart should only be one more than modifiedEnd"),qe=[new Z(m,v-m+1,V,0)]):($.Assert(m===v+1,"originalStart should only be one more than originalEnd"),$.Assert(V===Y+1,"modifiedStart should only be one more than modifiedEnd"),qe=[]),qe}const ve=[0],we=[0],ke=this.ComputeRecursionPoint(m,v,V,Y,ve,we,R),Te=ve[0],Ge=we[0];if(null!==ke)return ke;if(!R[0]){const qe=this.ComputeDiffRecursive(m,Te,V,Ge,R);let Ve=[];return Ve=R[0]?[new Z(Te+1,v-(Te+1)+1,Ge+1,Y-(Ge+1)+1)]:this.ComputeDiffRecursive(Te+1,v,Ge+1,Y,R),this.ConcatenateChanges(qe,Ve)}return[new Z(m,v-m+1,V,Y-V+1)]}WALKTRACE(m,v,V,Y,R,ve,we,ke,Te,Ge,qe,Ve,tt,ct,gt,Pe,Tt,Nt){let yt=null,Dt=null,At=new B,Wt=v,zt=V,Bt=tt[0]-Pe[0]-Y,Cn=-1073741824,wn=this.m_forwardHistory.length-1;do{const dn=Bt+m;dn===Wt||dn<zt&&Te[dn-1]<Te[dn+1]?(ct=(qe=Te[dn+1])-Bt-Y,qe<Cn&&At.MarkNextChange(),Cn=qe,At.AddModifiedElement(qe+1,ct),Bt=dn+1-m):(ct=(qe=Te[dn-1]+1)-Bt-Y,qe<Cn&&At.MarkNextChange(),Cn=qe-1,At.AddOriginalElement(qe,ct+1),Bt=dn-1-m),wn>=0&&(m=(Te=this.m_forwardHistory[wn])[0],Wt=1,zt=Te.length-1)}while(--wn>=-1);if(yt=At.getReverseChanges(),Nt[0]){let dn=tt[0]+1,Pt=Pe[0]+1;if(null!==yt&&yt.length>0){const si=yt[yt.length-1];dn=Math.max(dn,si.getOriginalEnd()),Pt=Math.max(Pt,si.getModifiedEnd())}Dt=[new Z(dn,Ve-dn+1,Pt,gt-Pt+1)]}else{At=new B,Wt=ve,zt=we,Bt=tt[0]-Pe[0]-ke,Cn=1073741824,wn=Tt?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const dn=Bt+R;dn===Wt||dn<zt&&Ge[dn-1]>=Ge[dn+1]?(ct=(qe=Ge[dn+1]-1)-Bt-ke,qe>Cn&&At.MarkNextChange(),Cn=qe+1,At.AddOriginalElement(qe+1,ct+1),Bt=dn+1-R):(ct=(qe=Ge[dn-1])-Bt-ke,qe>Cn&&At.MarkNextChange(),Cn=qe,At.AddModifiedElement(qe+1,ct+1),Bt=dn-1-R),wn>=0&&(R=(Ge=this.m_reverseHistory[wn])[0],Wt=1,zt=Ge.length-1)}while(--wn>=-1);Dt=At.getChanges()}return this.ConcatenateChanges(yt,Dt)}ComputeRecursionPoint(m,v,V,Y,R,ve,we){let ke=0,Te=0,Ge=0,qe=0,Ve=0,tt=0;m--,V--,R[0]=0,ve[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const ct=v-m+(Y-V),gt=ct+1,Pe=new Int32Array(gt),Tt=new Int32Array(gt),Nt=Y-V,yt=v-m,Dt=m-V,At=v-Y,zt=(yt-Nt)%2==0;Pe[Nt]=m,Tt[yt]=v,we[0]=!1;for(let Bt=1;Bt<=ct/2+1;Bt++){let Cn=0,wn=0;Ge=this.ClipDiagonalBound(Nt-Bt,Bt,Nt,gt),qe=this.ClipDiagonalBound(Nt+Bt,Bt,Nt,gt);for(let Pt=Ge;Pt<=qe;Pt+=2){ke=Pt===Ge||Pt<qe&&Pe[Pt-1]<Pe[Pt+1]?Pe[Pt+1]:Pe[Pt-1]+1,Te=ke-(Pt-Nt)-Dt;const si=ke;for(;ke<v&&Te<Y&&this.ElementsAreEqual(ke+1,Te+1);)ke++,Te++;if(Pe[Pt]=ke,ke+Te>Cn+wn&&(Cn=ke,wn=Te),!zt&&Math.abs(Pt-yt)<=Bt-1&&ke>=Tt[Pt])return R[0]=ke,ve[0]=Te,si<=Tt[Pt]&&Bt<=1448?this.WALKTRACE(Nt,Ge,qe,Dt,yt,Ve,tt,At,Pe,Tt,ke,v,R,Te,Y,ve,zt,we):null}const dn=(Cn-m+(wn-V)-Bt)/2;if(null!==this.ContinueProcessingPredicate&&!this.ContinueProcessingPredicate(Cn,dn))return we[0]=!0,R[0]=Cn,ve[0]=wn,dn>0&&Bt<=1448?this.WALKTRACE(Nt,Ge,qe,Dt,yt,Ve,tt,At,Pe,Tt,ke,v,R,Te,Y,ve,zt,we):(m++,V++,[new Z(m,v-m+1,V,Y-V+1)]);Ve=this.ClipDiagonalBound(yt-Bt,Bt,yt,gt),tt=this.ClipDiagonalBound(yt+Bt,Bt,yt,gt);for(let Pt=Ve;Pt<=tt;Pt+=2){ke=Pt===Ve||Pt<tt&&Tt[Pt-1]>=Tt[Pt+1]?Tt[Pt+1]-1:Tt[Pt-1],Te=ke-(Pt-yt)-At;const si=ke;for(;ke>m&&Te>V&&this.ElementsAreEqual(ke,Te);)ke--,Te--;if(Tt[Pt]=ke,zt&&Math.abs(Pt-Nt)<=Bt&&ke<=Pe[Pt])return R[0]=ke,ve[0]=Te,si>=Pe[Pt]&&Bt<=1448?this.WALKTRACE(Nt,Ge,qe,Dt,yt,Ve,tt,At,Pe,Tt,ke,v,R,Te,Y,ve,zt,we):null}if(Bt<=1447){let Pt=new Int32Array(qe-Ge+2);Pt[0]=Nt-Ge+1,f.Copy2(Pe,Ge,Pt,1,qe-Ge+1),this.m_forwardHistory.push(Pt),Pt=new Int32Array(tt-Ve+2),Pt[0]=yt-Ve+1,f.Copy2(Tt,Ve,Pt,1,tt-Ve+1),this.m_reverseHistory.push(Pt)}}return this.WALKTRACE(Nt,Ge,qe,Dt,yt,Ve,tt,At,Pe,Tt,ke,v,R,Te,Y,ve,zt,we)}PrettifyChanges(m){for(let v=0;v<m.length;v++){const V=m[v],Y=v<m.length-1?m[v+1].originalStart:this._originalElementsOrHash.length,R=v<m.length-1?m[v+1].modifiedStart:this._modifiedElementsOrHash.length,ve=V.originalLength>0,we=V.modifiedLength>0;for(;V.originalStart+V.originalLength<Y&&V.modifiedStart+V.modifiedLength<R&&(!ve||this.OriginalElementsAreEqual(V.originalStart,V.originalStart+V.originalLength))&&(!we||this.ModifiedElementsAreEqual(V.modifiedStart,V.modifiedStart+V.modifiedLength));){const Te=this.ElementsAreStrictEqual(V.originalStart,V.modifiedStart);if(this.ElementsAreStrictEqual(V.originalStart+V.originalLength,V.modifiedStart+V.modifiedLength)&&!Te)break;V.originalStart++,V.modifiedStart++}const ke=[null];v<m.length-1&&this.ChangesOverlap(m[v],m[v+1],ke)&&(m[v]=ke[0],m.splice(v+1,1),v--)}for(let v=m.length-1;v>=0;v--){const V=m[v];let Y=0,R=0;if(v>0){const qe=m[v-1];Y=qe.originalStart+qe.originalLength,R=qe.modifiedStart+qe.modifiedLength}const ve=V.originalLength>0,we=V.modifiedLength>0;let ke=0,Te=this._boundaryScore(V.originalStart,V.originalLength,V.modifiedStart,V.modifiedLength);for(let qe=1;;qe++){const Ve=V.originalStart-qe,tt=V.modifiedStart-qe;if(Ve<Y||tt<R||ve&&!this.OriginalElementsAreEqual(Ve,Ve+V.originalLength)||we&&!this.ModifiedElementsAreEqual(tt,tt+V.modifiedLength))break;const gt=(Ve===Y&&tt===R?5:0)+this._boundaryScore(Ve,V.originalLength,tt,V.modifiedLength);gt>Te&&(Te=gt,ke=qe)}V.originalStart-=ke,V.modifiedStart-=ke;const Ge=[null];v>0&&this.ChangesOverlap(m[v-1],m[v],Ge)&&(m[v-1]=Ge[0],m.splice(v,1),v++)}if(this._hasStrings)for(let v=1,V=m.length;v<V;v++){const Y=m[v-1],R=m[v],ve=R.originalStart-Y.originalStart-Y.originalLength,we=Y.originalStart,ke=R.originalStart+R.originalLength,Te=ke-we,Ge=Y.modifiedStart,qe=R.modifiedStart+R.modifiedLength,Ve=qe-Ge;if(ve<5&&Te<20&&Ve<20){const tt=this._findBetterContiguousSequence(we,Te,Ge,Ve,ve);if(tt){const[ct,gt]=tt;(ct!==Y.originalStart+Y.originalLength||gt!==Y.modifiedStart+Y.modifiedLength)&&(Y.originalLength=ct-Y.originalStart,Y.modifiedLength=gt-Y.modifiedStart,R.originalStart=ct+ve,R.modifiedStart=gt+ve,R.originalLength=ke-R.originalStart,R.modifiedLength=qe-R.modifiedStart)}}}return m}_findBetterContiguousSequence(m,v,V,Y,R){if(v<R||Y<R)return null;const ve=m+v-R+1,we=V+Y-R+1;let ke=0,Te=0,Ge=0;for(let qe=m;qe<ve;qe++)for(let Ve=V;Ve<we;Ve++){const tt=this._contiguousSequenceScore(qe,Ve,R);tt>0&&tt>ke&&(ke=tt,Te=qe,Ge=Ve)}return ke>0?[Te,Ge]:null}_contiguousSequenceScore(m,v,V){let Y=0;for(let R=0;R<V;R++){if(!this.ElementsAreEqual(m+R,v+R))return 0;Y+=this._originalStringElements[m+R].length}return Y}_OriginalIsBoundary(m){return m<=0||m>=this._originalElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._originalStringElements[m])}_OriginalRegionIsBoundary(m,v){if(this._OriginalIsBoundary(m)||this._OriginalIsBoundary(m-1))return!0;if(v>0){const V=m+v;if(this._OriginalIsBoundary(V-1)||this._OriginalIsBoundary(V))return!0}return!1}_ModifiedIsBoundary(m){return m<=0||m>=this._modifiedElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[m])}_ModifiedRegionIsBoundary(m,v){if(this._ModifiedIsBoundary(m)||this._ModifiedIsBoundary(m-1))return!0;if(v>0){const V=m+v;if(this._ModifiedIsBoundary(V-1)||this._ModifiedIsBoundary(V))return!0}return!1}_boundaryScore(m,v,V,Y){return(this._OriginalRegionIsBoundary(m,v)?1:0)+(this._ModifiedRegionIsBoundary(V,Y)?1:0)}ConcatenateChanges(m,v){const V=[];if(0===m.length||0===v.length)return v.length>0?v:m;if(this.ChangesOverlap(m[m.length-1],v[0],V)){const Y=new Array(m.length+v.length-1);return f.Copy(m,0,Y,0,m.length-1),Y[m.length-1]=V[0],f.Copy(v,1,Y,m.length,v.length-1),Y}{const Y=new Array(m.length+v.length);return f.Copy(m,0,Y,0,m.length),f.Copy(v,0,Y,m.length,v.length),Y}}ChangesOverlap(m,v,V){if($.Assert(m.originalStart<=v.originalStart,"Left change is not less than or equal to right change"),$.Assert(m.modifiedStart<=v.modifiedStart,"Left change is not less than or equal to right change"),m.originalStart+m.originalLength>=v.originalStart||m.modifiedStart+m.modifiedLength>=v.modifiedStart){let R=m.originalLength,we=m.modifiedLength;return m.originalStart+m.originalLength>=v.originalStart&&(R=v.originalStart+v.originalLength-m.originalStart),m.modifiedStart+m.modifiedLength>=v.modifiedStart&&(we=v.modifiedStart+v.modifiedLength-m.modifiedStart),V[0]=new Z(m.originalStart,R,m.modifiedStart,we),!0}return V[0]=null,!1}ClipDiagonalBound(m,v,V,Y){if(m>=0&&m<Y)return m;const we=v%2==0;return m<0?we===(V%2==0)?0:1:we===((Y-V-1)%2==0)?Y-1:Y-2}}var ae=I(3678),K=I(2493);class A{constructor(m,v,V){const Y=new Uint8Array(m*v);for(let R=0,ve=m*v;R<ve;R++)Y[R]=V;this._data=Y,this.rows=m,this.cols=v}get(m,v){return this._data[m*this.cols+v]}set(m,v,V){this._data[m*this.cols+v]=V}}class S{constructor(m){let v=0,V=0;for(let R=0,ve=m.length;R<ve;R++){const[we,ke,Te]=m[R];ke>v&&(v=ke),we>V&&(V=we),Te>V&&(V=Te)}v++,V++;const Y=new A(V,v,0);for(let R=0,ve=m.length;R<ve;R++){const[we,ke,Te]=m[R];Y.set(we,ke,Te)}this._states=Y,this._maxCharCode=v}nextState(m,v){return v<0||v>=this._maxCharCode?0:this._states.get(m,v)}}let M=null,p=null;class me{static _createLink(m,v,V,Y,R){let ve=R-1;do{const we=v.charCodeAt(ve);if(2!==m.get(we))break;ve--}while(ve>Y);if(Y>0){const we=v.charCodeAt(Y-1),ke=v.charCodeAt(ve);(40===we&&41===ke||91===we&&93===ke||123===we&&125===ke)&&ve--}return{range:{startLineNumber:V,startColumn:Y+1,endLineNumber:V,endColumn:ve+2},url:v.substring(Y,ve+1)}}static computeLinks(m,v=function E(){return null===M&&(M=new S([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),M}()){const V=function Ce(){if(null===p){p=new K.V(0);const Se=" \t<>'\"\u3001\u3002\uff61\uff64\uff0c\uff0e\uff1a\uff1b\u2018\u3008\u300c\u300e\u3014\uff08\uff3b\uff5b\uff62\uff63\uff5d\uff3d\uff09\u3015\u300f\u300d\u3009\u2019\uff40\uff5e\u2026";for(let v=0;v<Se.length;v++)p.set(Se.charCodeAt(v),1);const m=".,;:";for(let v=0;v<m.length;v++)p.set(m.charCodeAt(v),2)}return p}(),Y=[];for(let R=1,ve=m.getLineCount();R<=ve;R++){const we=m.getLineContent(R),ke=we.length;let Te=0,Ge=0,qe=0,Ve=1,tt=!1,ct=!1,gt=!1,Pe=!1;for(;Te<ke;){let Tt=!1;const Nt=we.charCodeAt(Te);if(13===Ve){let yt;switch(Nt){case 40:tt=!0,yt=0;break;case 41:yt=tt?0:1;break;case 91:gt=!0,ct=!0,yt=0;break;case 93:gt=!1,yt=ct?0:1;break;case 123:Pe=!0,yt=0;break;case 125:yt=Pe?0:1;break;case 39:case 34:case 96:yt=qe===Nt?1:39===qe||34===qe||96===qe?0:1;break;case 42:yt=42===qe?1:0;break;case 124:yt=124===qe?1:0;break;case 32:yt=gt?0:1;break;default:yt=V.get(Nt)}1===yt&&(Y.push(me._createLink(V,we,R,Ge,Te)),Tt=!0)}else if(12===Ve){let yt;91===Nt?(ct=!0,yt=0):yt=V.get(Nt),1===yt?Tt=!0:Ve=13}else Ve=v.nextState(Ve,Nt),0===Ve&&(Tt=!0);Tt&&(Ve=1,tt=!1,ct=!1,Pe=!1,Ge=Te+1,qe=Nt),Te++}13===Ve&&Y.push(me._createLink(V,we,R,Ge,ke))}return Y}}class w{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}static{this.INSTANCE=new w}navigateValueSet(m,v,V,Y,R){if(m&&v){const ve=this.doNavigateValueSet(v,R);if(ve)return{range:m,value:ve}}if(V&&Y){const ve=this.doNavigateValueSet(Y,R);if(ve)return{range:V,value:ve}}return null}doNavigateValueSet(m,v){const V=this.numberReplace(m,v);return null!==V?V:this.textReplace(m,v)}numberReplace(m,v){const V=Math.pow(10,m.length-(m.lastIndexOf(".")+1));let Y=Number(m);const R=parseFloat(m);return isNaN(Y)||isNaN(R)||Y!==R?null:0!==Y||v?(Y=Math.floor(Y*V),Y+=v?V:-V,String(Y/V)):null}textReplace(m,v){return this.valueSetsReplace(this._defaultValueSet,m,v)}valueSetsReplace(m,v,V){let Y=null;for(let R=0,ve=m.length;null===Y&&R<ve;R++)Y=this.valueSetReplace(m[R],v,V);return Y}valueSetReplace(m,v,V){let Y=m.indexOf(v);return Y>=0?(Y+=V?1:-1,Y<0?Y=m.length-1:Y%=m.length,m[Y]):null}}var k=I(5521),U=I(2607),H=I(2588),j=I(8752);class y{constructor(m,v,V){this.changes=m,this.moves=v,this.hitTimeout=V}}class O{constructor(m,v){this.lineRangeMapping=m,this.changes=v}}var G=I(5680),T=I(4132),z=I(3632),ee=I(3929),he=I(1639);I(7676);class Ae{constructor(m,v){this.range=m,this.text=v}toSingleEditOperation(){return{range:this.range,text:this.text}}}class le{static inverse(m,v,V){const Y=[];let R=1,ve=1;for(const ke of m){const Te=new le(new T.M(R,ke.original.startLineNumber),new T.M(ve,ke.modified.startLineNumber));Te.modified.isEmpty||Y.push(Te),R=ke.original.endLineNumberExclusive,ve=ke.modified.endLineNumberExclusive}const we=new le(new T.M(R,v+1),new T.M(ve,V+1));return we.modified.isEmpty||Y.push(we),Y}static clip(m,v,V){const Y=[];for(const R of m){const ve=R.original.intersect(v),we=R.modified.intersect(V);ve&&!ve.isEmpty&&we&&!we.isEmpty&&Y.push(new le(ve,we))}return Y}constructor(m,v){this.original=m,this.modified=v}toString(){return`{${this.original.toString()}->${this.modified.toString()}}`}flip(){return new le(this.modified,this.original)}join(m){return new le(this.original.join(m.original),this.modified.join(m.modified))}toRangeMapping(){const m=this.original.toInclusiveRange(),v=this.modified.toInclusiveRange();if(m&&v)return new ze(m,v);if(1===this.original.startLineNumber||1===this.modified.startLineNumber){if(1!==this.modified.startLineNumber||1!==this.original.startLineNumber)throw new G.D7("not a valid diff");return new ze(new ae.Q(this.original.startLineNumber,1,this.original.endLineNumberExclusive,1),new ae.Q(this.modified.startLineNumber,1,this.modified.endLineNumberExclusive,1))}return new ze(new ae.Q(this.original.startLineNumber-1,Number.MAX_SAFE_INTEGER,this.original.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),new ae.Q(this.modified.startLineNumber-1,Number.MAX_SAFE_INTEGER,this.modified.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER))}toRangeMapping2(m,v){if(xe(this.original.endLineNumberExclusive,m)&&xe(this.modified.endLineNumberExclusive,v))return new ze(new ae.Q(this.original.startLineNumber,1,this.original.endLineNumberExclusive,1),new ae.Q(this.modified.startLineNumber,1,this.modified.endLineNumberExclusive,1));if(!this.original.isEmpty&&!this.modified.isEmpty)return new ze(ae.Q.fromPositions(new z.y(this.original.startLineNumber,1),ge(new z.y(this.original.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),m)),ae.Q.fromPositions(new z.y(this.modified.startLineNumber,1),ge(new z.y(this.modified.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),v)));if(this.original.startLineNumber>1&&this.modified.startLineNumber>1)return new ze(ae.Q.fromPositions(ge(new z.y(this.original.startLineNumber-1,Number.MAX_SAFE_INTEGER),m),ge(new z.y(this.original.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),m)),ae.Q.fromPositions(ge(new z.y(this.modified.startLineNumber-1,Number.MAX_SAFE_INTEGER),v),ge(new z.y(this.modified.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),v)));throw new G.D7}}function ge(Se,m){if(Se.lineNumber<1)return new z.y(1,1);if(Se.lineNumber>m.length)return new z.y(m.length,m[m.length-1].length+1);const v=m[Se.lineNumber-1];return Se.column>v.length+1?new z.y(Se.lineNumber,v.length+1):Se}function xe(Se,m){return Se>=1&&Se<=m.length}class De extends le{static fromRangeMappings(m){const v=T.M.join(m.map(Y=>T.M.fromRangeInclusive(Y.originalRange))),V=T.M.join(m.map(Y=>T.M.fromRangeInclusive(Y.modifiedRange)));return new De(v,V,m)}constructor(m,v,V){super(m,v),this.innerChanges=V}flip(){return new De(this.modified,this.original,this.innerChanges?.map(m=>m.flip()))}withInnerChangesFromLineRanges(){return new De(this.original,this.modified,[this.toRangeMapping()])}}class ze{static assertSorted(m){for(let v=1;v<m.length;v++){const V=m[v-1],Y=m[v];if(!V.originalRange.getEndPosition().isBeforeOrEqual(Y.originalRange.getStartPosition())||!V.modifiedRange.getEndPosition().isBeforeOrEqual(Y.modifiedRange.getStartPosition()))throw new G.D7("Range mappings must be sorted")}}constructor(m,v){this.originalRange=m,this.modifiedRange=v}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}flip(){return new ze(this.modifiedRange,this.originalRange)}toTextEdit(m){const v=m.getValueOfRange(this.modifiedRange);return new Ae(this.originalRange,v)}}var We=I(6653);class et{computeDiff(m,v,V){const R=new qt(m,v,{maxComputationTime:V.maxComputationTimeMs,shouldIgnoreTrimWhitespace:V.ignoreTrimWhitespace,shouldComputeCharChanges:!0,shouldMakePrettyDiff:!0,shouldPostProcessCharChanges:!0}).computeDiff(),ve=[];let we=null;for(const ke of R.changes){let Te,Ge;Te=0===ke.originalEndLineNumber?new T.M(ke.originalStartLineNumber+1,ke.originalStartLineNumber+1):new T.M(ke.originalStartLineNumber,ke.originalEndLineNumber+1),Ge=0===ke.modifiedEndLineNumber?new T.M(ke.modifiedStartLineNumber+1,ke.modifiedStartLineNumber+1):new T.M(ke.modifiedStartLineNumber,ke.modifiedEndLineNumber+1);let qe=new De(Te,Ge,ke.charChanges?.map(Ve=>new ze(new ae.Q(Ve.originalStartLineNumber,Ve.originalStartColumn,Ve.originalEndLineNumber,Ve.originalEndColumn),new ae.Q(Ve.modifiedStartLineNumber,Ve.modifiedStartColumn,Ve.modifiedEndLineNumber,Ve.modifiedEndColumn))));we&&(we.modified.endLineNumberExclusive===qe.modified.startLineNumber||we.original.endLineNumberExclusive===qe.original.startLineNumber)&&(qe=new De(we.original.join(qe.original),we.modified.join(qe.modified),we.innerChanges&&qe.innerChanges?we.innerChanges.concat(qe.innerChanges):void 0),ve.pop()),ve.push(qe),we=qe}return(0,ee.Ft)(()=>(0,ee.Xo)(ve,(ke,Te)=>Te.original.startLineNumber-ke.original.endLineNumberExclusive==Te.modified.startLineNumber-ke.modified.endLineNumberExclusive&&ke.original.endLineNumberExclusive<Te.original.startLineNumber&&ke.modified.endLineNumberExclusive<Te.modified.startLineNumber)),new y(ve,[],R.quitEarly)}}function mt(Se,m,v,V){return new F(Se,m,v).ComputeDiff(V)}class nt{constructor(m){const v=[],V=[];for(let Y=0,R=m.length;Y<R;Y++)v[Y]=hn(m[Y],1),V[Y]=Sn(m[Y],1);this.lines=m,this._startColumns=v,this._endColumns=V}getElements(){const m=[];for(let v=0,V=this.lines.length;v<V;v++)m[v]=this.lines[v].substring(this._startColumns[v]-1,this._endColumns[v]-1);return m}getStrictElement(m){return this.lines[m]}getStartLineNumber(m){return m+1}getEndLineNumber(m){return m+1}createCharSequence(m,v,V){const Y=[],R=[],ve=[];let we=0;for(let ke=v;ke<=V;ke++){const Te=this.lines[ke],qe=m?this._endColumns[ke]:Te.length+1;for(let Ve=m?this._startColumns[ke]:1;Ve<qe;Ve++)Y[we]=Te.charCodeAt(Ve-1),R[we]=ke+1,ve[we]=Ve,we++;!m&&ke<V&&(Y[we]=10,R[we]=ke+1,ve[we]=Te.length+1,we++)}return new ot(Y,R,ve)}}class ot{constructor(m,v,V){this._charCodes=m,this._lineNumbers=v,this._columns=V}toString(){return"["+this._charCodes.map((m,v)=>(10===m?"\\n":String.fromCharCode(m))+`-(${this._lineNumbers[v]},${this._columns[v]})`).join(", ")+"]"}_assertIndex(m,v){if(m<0||m>=v.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(m){return m>0&&m===this._lineNumbers.length?this.getEndLineNumber(m-1):(this._assertIndex(m,this._lineNumbers),this._lineNumbers[m])}getEndLineNumber(m){return-1===m?this.getStartLineNumber(m+1):(this._assertIndex(m,this._lineNumbers),10===this._charCodes[m]?this._lineNumbers[m]+1:this._lineNumbers[m])}getStartColumn(m){return m>0&&m===this._columns.length?this.getEndColumn(m-1):(this._assertIndex(m,this._columns),this._columns[m])}getEndColumn(m){return-1===m?this.getStartColumn(m+1):(this._assertIndex(m,this._columns),10===this._charCodes[m]?1:this._columns[m]+1)}}class St{constructor(m,v,V,Y,R,ve,we,ke){this.originalStartLineNumber=m,this.originalStartColumn=v,this.originalEndLineNumber=V,this.originalEndColumn=Y,this.modifiedStartLineNumber=R,this.modifiedStartColumn=ve,this.modifiedEndLineNumber=we,this.modifiedEndColumn=ke}static createFromDiffChange(m,v,V){const Y=v.getStartLineNumber(m.originalStart),R=v.getStartColumn(m.originalStart),ve=v.getEndLineNumber(m.originalStart+m.originalLength-1),we=v.getEndColumn(m.originalStart+m.originalLength-1),ke=V.getStartLineNumber(m.modifiedStart),Te=V.getStartColumn(m.modifiedStart),Ge=V.getEndLineNumber(m.modifiedStart+m.modifiedLength-1),qe=V.getEndColumn(m.modifiedStart+m.modifiedLength-1);return new St(Y,R,ve,we,ke,Te,Ge,qe)}}class rn{constructor(m,v,V,Y,R){this.originalStartLineNumber=m,this.originalEndLineNumber=v,this.modifiedStartLineNumber=V,this.modifiedEndLineNumber=Y,this.charChanges=R}static createFromDiffResult(m,v,V,Y,R,ve,we){let ke,Te,Ge,qe,Ve;if(0===v.originalLength?(ke=V.getStartLineNumber(v.originalStart)-1,Te=0):(ke=V.getStartLineNumber(v.originalStart),Te=V.getEndLineNumber(v.originalStart+v.originalLength-1)),0===v.modifiedLength?(Ge=Y.getStartLineNumber(v.modifiedStart)-1,qe=0):(Ge=Y.getStartLineNumber(v.modifiedStart),qe=Y.getEndLineNumber(v.modifiedStart+v.modifiedLength-1)),ve&&v.originalLength>0&&v.originalLength<20&&v.modifiedLength>0&&v.modifiedLength<20&&R()){const tt=V.createCharSequence(m,v.originalStart,v.originalStart+v.originalLength-1),ct=Y.createCharSequence(m,v.modifiedStart,v.modifiedStart+v.modifiedLength-1);if(tt.getElements().length>0&&ct.getElements().length>0){let gt=mt(tt,ct,R,!0).changes;we&&(gt=function Jt(Se){if(Se.length<=1)return Se;const m=[Se[0]];let v=m[0];for(let V=1,Y=Se.length;V<Y;V++){const R=Se[V];Math.min(R.originalStart-(v.originalStart+v.originalLength),R.modifiedStart-(v.modifiedStart+v.modifiedLength))<3?(v.originalLength=R.originalStart+R.originalLength-v.originalStart,v.modifiedLength=R.modifiedStart+R.modifiedLength-v.modifiedStart):(m.push(R),v=R)}return m}(gt)),Ve=[];for(let Pe=0,Tt=gt.length;Pe<Tt;Pe++)Ve.push(St.createFromDiffChange(gt[Pe],tt,ct))}}return new rn(ke,Te,Ge,qe,Ve)}}class qt{constructor(m,v,V){this.shouldComputeCharChanges=V.shouldComputeCharChanges,this.shouldPostProcessCharChanges=V.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=V.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=V.shouldMakePrettyDiff,this.originalLines=m,this.modifiedLines=v,this.original=new nt(m),this.modified=new nt(v),this.continueLineDiff=Bn(V.maxComputationTime),this.continueCharDiff=Bn(0===V.maxComputationTime?0:Math.min(V.maxComputationTime,5e3))}computeDiff(){if(1===this.original.lines.length&&0===this.original.lines[0].length)return 1===this.modified.lines.length&&0===this.modified.lines[0].length?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:void 0}]};if(1===this.modified.lines.length&&0===this.modified.lines[0].length)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:void 0}]};const m=mt(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),v=m.changes,V=m.quitEarly;if(this.shouldIgnoreTrimWhitespace){const we=[];for(let ke=0,Te=v.length;ke<Te;ke++)we.push(rn.createFromDiffResult(this.shouldIgnoreTrimWhitespace,v[ke],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:V,changes:we}}const Y=[];let R=0,ve=0;for(let we=-1,ke=v.length;we<ke;we++){const Te=we+1<ke?v[we+1]:null,Ge=Te?Te.originalStart:this.originalLines.length,qe=Te?Te.modifiedStart:this.modifiedLines.length;for(;R<Ge&&ve<qe;){const Ve=this.originalLines[R],tt=this.modifiedLines[ve];if(Ve!==tt){{let ct=hn(Ve,1),gt=hn(tt,1);for(;ct>1&&gt>1&&Ve.charCodeAt(ct-2)===tt.charCodeAt(gt-2);)ct--,gt--;(ct>1||gt>1)&&this._pushTrimWhitespaceCharChange(Y,R+1,1,ct,ve+1,1,gt)}{let ct=Sn(Ve,1),gt=Sn(tt,1);const Pe=Ve.length+1,Tt=tt.length+1;for(;ct<Pe&&gt<Tt&&Ve.charCodeAt(ct-1)===Ve.charCodeAt(gt-1);)ct++,gt++;(ct<Pe||gt<Tt)&&this._pushTrimWhitespaceCharChange(Y,R+1,ct,Pe,ve+1,gt,Tt)}}R++,ve++}Te&&(Y.push(rn.createFromDiffResult(this.shouldIgnoreTrimWhitespace,Te,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),R+=Te.originalLength,ve+=Te.modifiedLength)}return{quitEarly:V,changes:Y}}_pushTrimWhitespaceCharChange(m,v,V,Y,R,ve,we){if(this._mergeTrimWhitespaceCharChange(m,v,V,Y,R,ve,we))return;let ke;this.shouldComputeCharChanges&&(ke=[new St(v,V,v,Y,R,ve,R,we)]),m.push(new rn(v,v,R,R,ke))}_mergeTrimWhitespaceCharChange(m,v,V,Y,R,ve,we){const ke=m.length;if(0===ke)return!1;const Te=m[ke-1];return 0!==Te.originalEndLineNumber&&0!==Te.modifiedEndLineNumber&&(Te.originalEndLineNumber===v&&Te.modifiedEndLineNumber===R?(this.shouldComputeCharChanges&&Te.charChanges&&Te.charChanges.push(new St(v,V,v,Y,R,ve,R,we)),!0):Te.originalEndLineNumber+1===v&&Te.modifiedEndLineNumber+1===R&&(Te.originalEndLineNumber=v,Te.modifiedEndLineNumber=R,this.shouldComputeCharChanges&&Te.charChanges&&Te.charChanges.push(new St(v,V,v,Y,R,ve,R,we)),!0))}}function hn(Se,m){const v=We.HG(Se);return-1===v?m:v+1}function Sn(Se,m){const v=We.lT(Se);return-1===v?m:v+2}function Bn(Se){if(0===Se)return()=>!0;const m=Date.now();return()=>Date.now()-m<Se}var Ln=I(833);class _t{static trivial(m,v){return new _t([new rt(he.L.ofLength(m.length),he.L.ofLength(v.length))],!1)}static trivialTimedOut(m,v){return new _t([new rt(he.L.ofLength(m.length),he.L.ofLength(v.length))],!0)}constructor(m,v){this.diffs=m,this.hitTimeout=v}}class rt{static invert(m,v){const V=[];return(0,Ln.pN)(m,(Y,R)=>{V.push(rt.fromOffsetPairs(Y?Y.getEndExclusives():Je.zero,R?R.getStarts():new Je(v,(Y?Y.seq2Range.endExclusive-Y.seq1Range.endExclusive:0)+v)))}),V}static fromOffsetPairs(m,v){return new rt(new he.L(m.offset1,v.offset1),new he.L(m.offset2,v.offset2))}static assertSorted(m){let v;for(const V of m){if(v&&!(v.seq1Range.endExclusive<=V.seq1Range.start&&v.seq2Range.endExclusive<=V.seq2Range.start))throw new G.D7("Sequence diffs must be sorted");v=V}}constructor(m,v){this.seq1Range=m,this.seq2Range=v}swap(){return new rt(this.seq2Range,this.seq1Range)}toString(){return`${this.seq1Range} <-> ${this.seq2Range}`}join(m){return new rt(this.seq1Range.join(m.seq1Range),this.seq2Range.join(m.seq2Range))}delta(m){return 0===m?this:new rt(this.seq1Range.delta(m),this.seq2Range.delta(m))}deltaStart(m){return 0===m?this:new rt(this.seq1Range.deltaStart(m),this.seq2Range.deltaStart(m))}deltaEnd(m){return 0===m?this:new rt(this.seq1Range.deltaEnd(m),this.seq2Range.deltaEnd(m))}intersect(m){const v=this.seq1Range.intersect(m.seq1Range),V=this.seq2Range.intersect(m.seq2Range);if(v&&V)return new rt(v,V)}getStarts(){return new Je(this.seq1Range.start,this.seq2Range.start)}getEndExclusives(){return new Je(this.seq1Range.endExclusive,this.seq2Range.endExclusive)}}class Je{static{this.zero=new Je(0,0)}static{this.max=new Je(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER)}constructor(m,v){this.offset1=m,this.offset2=v}toString(){return`${this.offset1} <-> ${this.offset2}`}delta(m){return 0===m?this:new Je(this.offset1+m,this.offset2+m)}equals(m){return this.offset1===m.offset1&&this.offset2===m.offset2}}class x{static{this.instance=new x}isValid(){return!0}}class ue{constructor(m){if(this.timeout=m,this.startTime=Date.now(),this.valid=!0,m<=0)throw new G.D7("timeout must be positive")}isValid(){return Date.now()-this.startTime<this.timeout||!this.valid||(this.valid=!1),this.valid}}class je{constructor(m,v){this.width=m,this.height=v,this.array=[],this.array=new Array(m*v)}get(m,v){return this.array[m+v*this.width]}set(m,v,V){this.array[m+v*this.width]=V}}function Q(Se){return 32===Se||9===Se}class Be{static{this.chrKeys=new Map}static getKey(m){let v=this.chrKeys.get(m);return void 0===v&&(v=this.chrKeys.size,this.chrKeys.set(m,v)),v}constructor(m,v,V){this.range=m,this.lines=v,this.source=V,this.histogram=[];let Y=0;for(let R=m.startLineNumber-1;R<m.endLineNumberExclusive-1;R++){const ve=v[R];for(let ke=0;ke<ve.length;ke++){Y++;const Ge=Be.getKey(ve[ke]);this.histogram[Ge]=(this.histogram[Ge]||0)+1}Y++;const we=Be.getKey("\n");this.histogram[we]=(this.histogram[we]||0)+1}this.totalCount=Y}computeSimilarity(m){let v=0;const V=Math.max(this.histogram.length,m.histogram.length);for(let Y=0;Y<V;Y++)v+=Math.abs((this.histogram[Y]??0)-(m.histogram[Y]??0));return 1-v/(this.totalCount+m.totalCount)}}class Ue{compute(m,v,V=x.instance,Y){if(0===m.length||0===v.length)return _t.trivial(m,v);const R=new je(m.length,v.length),ve=new je(m.length,v.length),we=new je(m.length,v.length);for(let ct=0;ct<m.length;ct++)for(let gt=0;gt<v.length;gt++){if(!V.isValid())return _t.trivialTimedOut(m,v);const Pe=0===ct?0:R.get(ct-1,gt),Tt=0===gt?0:R.get(ct,gt-1);let Nt;m.getElement(ct)===v.getElement(gt)?(Nt=0===ct||0===gt?0:R.get(ct-1,gt-1),ct>0&&gt>0&&3===ve.get(ct-1,gt-1)&&(Nt+=we.get(ct-1,gt-1)),Nt+=Y?Y(ct,gt):1):Nt=-1;const yt=Math.max(Pe,Tt,Nt);if(yt===Nt){const Dt=ct>0&&gt>0?we.get(ct-1,gt-1):0;we.set(ct,gt,Dt+1),ve.set(ct,gt,3)}else yt===Pe?(we.set(ct,gt,0),ve.set(ct,gt,1)):yt===Tt&&(we.set(ct,gt,0),ve.set(ct,gt,2));R.set(ct,gt,yt)}const ke=[];let Te=m.length,Ge=v.length;function qe(ct,gt){(ct+1!==Te||gt+1!==Ge)&&ke.push(new rt(new he.L(ct+1,Te),new he.L(gt+1,Ge))),Te=ct,Ge=gt}let Ve=m.length-1,tt=v.length-1;for(;Ve>=0&&tt>=0;)3===ve.get(Ve,tt)?(qe(Ve,tt),Ve--,tt--):1===ve.get(Ve,tt)?Ve--:tt--;return qe(-1,-1),ke.reverse(),new _t(ke,!1)}}class st{compute(m,v,V=x.instance){if(0===m.length||0===v.length)return _t.trivial(m,v);const Y=m,R=v;function ve(gt,Pe){for(;gt<Y.length&&Pe<R.length&&Y.getElement(gt)===R.getElement(Pe);)gt++,Pe++;return gt}let we=0;const ke=new n;ke.set(0,ve(0,0));const Te=new Vt;Te.set(0,0===ke.get(0)?null:new kt(null,0,0,ke.get(0)));let Ge=0;e:for(;;){if(we++,!V.isValid())return _t.trivialTimedOut(Y,R);const gt=-Math.min(we,R.length+we%2),Pe=Math.min(we,Y.length+we%2);for(Ge=gt;Ge<=Pe;Ge+=2){let Tt=0;const Nt=Ge===Pe?-1:ke.get(Ge+1),yt=Ge===gt?-1:ke.get(Ge-1)+1;Tt++;const Dt=Math.min(Math.max(Nt,yt),Y.length),At=Dt-Ge;if(Tt++,Dt>Y.length||At>R.length)continue;const Wt=ve(Dt,At);ke.set(Ge,Wt);const zt=Te.get(Dt===Nt?Ge+1:Ge-1);if(Te.set(Ge,Wt!==Dt?new kt(zt,Dt,At,Wt-Dt):zt),ke.get(Ge)===Y.length&&ke.get(Ge)-Ge===R.length)break e}}let qe=Te.get(Ge);const Ve=[];let tt=Y.length,ct=R.length;for(;;){const gt=qe?qe.x+qe.length:0,Pe=qe?qe.y+qe.length:0;if((gt!==tt||Pe!==ct)&&Ve.push(new rt(new he.L(gt,tt),new he.L(Pe,ct))),!qe)break;tt=qe.x,ct=qe.y,qe=qe.prev}return Ve.reverse(),new _t(Ve,!1)}}class kt{constructor(m,v,V,Y){this.prev=m,this.x=v,this.y=V,this.length=Y}}class n{constructor(){this.positiveArr=new Int32Array(10),this.negativeArr=new Int32Array(10)}get(m){return m<0?this.negativeArr[m=-m-1]:this.positiveArr[m]}set(m,v){if(m<0){if((m=-m-1)>=this.negativeArr.length){const V=this.negativeArr;this.negativeArr=new Int32Array(2*V.length),this.negativeArr.set(V)}this.negativeArr[m]=v}else{if(m>=this.positiveArr.length){const V=this.positiveArr;this.positiveArr=new Int32Array(2*V.length),this.positiveArr.set(V)}this.positiveArr[m]=v}}}class Vt{constructor(){this.positiveArr=[],this.negativeArr=[]}get(m){return m<0?this.negativeArr[m=-m-1]:this.positiveArr[m]}set(m,v){m<0?this.negativeArr[m=-m-1]=v:this.positiveArr[m]=v}}var Ht=I(2210),tn=I(53);class mn{constructor(m,v,V){this.lines=m,this.range=v,this.considerWhitespaceChanges=V,this.elements=[],this.firstElementOffsetByLineIdx=[],this.lineStartOffsets=[],this.trimmedWsLengthsByLineIdx=[],this.firstElementOffsetByLineIdx.push(0);for(let Y=this.range.startLineNumber;Y<=this.range.endLineNumber;Y++){let R=m[Y-1],ve=0;Y===this.range.startLineNumber&&this.range.startColumn>1&&(ve=this.range.startColumn-1,R=R.substring(ve)),this.lineStartOffsets.push(ve);let we=0;if(!V){const Te=R.trimStart();we=R.length-Te.length,R=Te.trimEnd()}this.trimmedWsLengthsByLineIdx.push(we);const ke=Y===this.range.endLineNumber?Math.min(this.range.endColumn-1-ve-we,R.length):R.length;for(let Te=0;Te<ke;Te++)this.elements.push(R.charCodeAt(Te));Y<this.range.endLineNumber&&(this.elements.push(10),this.firstElementOffsetByLineIdx.push(this.elements.length))}}toString(){return`Slice: "${this.text}"`}get text(){return this.getText(new he.L(0,this.length))}getText(m){return this.elements.slice(m.start,m.endExclusive).map(v=>String.fromCharCode(v)).join("")}getElement(m){return this.elements[m]}get length(){return this.elements.length}getBoundaryScore(m){const v=nn(m>0?this.elements[m-1]:-1),V=nn(m<this.elements.length?this.elements[m]:-1);if(7===v&&8===V)return 0;if(8===v)return 150;let Y=0;return v!==V&&(Y+=10,0===v&&1===V&&(Y+=1)),Y+=Gt(v),Y+=Gt(V),Y}translateOffset(m,v="right"){const V=(0,Ht.iM)(this.firstElementOffsetByLineIdx,R=>R<=m),Y=m-this.firstElementOffsetByLineIdx[V];return new z.y(this.range.startLineNumber+V,1+this.lineStartOffsets[V]+Y+(0===Y&&"left"===v?0:this.trimmedWsLengthsByLineIdx[V]))}translateRange(m){const v=this.translateOffset(m.start,"right"),V=this.translateOffset(m.endExclusive,"left");return V.isBefore(v)?ae.Q.fromPositions(V,V):ae.Q.fromPositions(v,V)}findWordContaining(m){if(m<0||m>=this.elements.length||!pn(this.elements[m]))return;let v=m;for(;v>0&&pn(this.elements[v-1]);)v--;let V=m;for(;V<this.elements.length&&pn(this.elements[V]);)V++;return new he.L(v,V)}countLinesIn(m){return this.translateOffset(m.endExclusive).lineNumber-this.translateOffset(m.start).lineNumber}isStronglyEqual(m,v){return this.elements[m]===this.elements[v]}extendToFullLines(m){const v=(0,Ht.lx)(this.firstElementOffsetByLineIdx,Y=>Y<=m.start)??0,V=(0,Ht.XP)(this.firstElementOffsetByLineIdx,Y=>m.endExclusive<=Y)??this.elements.length;return new he.L(v,V)}}function pn(Se){return Se>=97&&Se<=122||Se>=65&&Se<=90||Se>=48&&Se<=57}const Xt={0:0,1:0,2:0,3:10,4:2,5:30,6:3,7:10,8:10};function Gt(Se){return Xt[Se]}function nn(Se){return 10===Se?8:13===Se?7:Q(Se)?6:Se>=97&&Se<=122?0:Se>=65&&Se<=90?1:Se>=48&&Se<=57?2:-1===Se?3:44===Se||59===Se?5:4}function jn(Se,m,v){if(Se.trim()===m.trim())return!0;if(Se.length>300&&m.length>300)return!1;const Y=(new st).compute(new mn([Se],new ae.Q(1,1,1,Se.length),!1),new mn([m],new ae.Q(1,1,1,m.length),!1),v);let R=0;const ve=rt.invert(Y.diffs,Se.length);for(const Ge of ve)Ge.seq1Range.forEach(qe=>{Q(Se.charCodeAt(qe))||R++});const ke=function we(Ge){let qe=0;for(let Ve=0;Ve<Se.length;Ve++)Q(Ge.charCodeAt(Ve))||qe++;return qe}(Se.length>m.length?Se:m);return R/ke>.6&&ke>10}function Ii(Se,m,v){let V=v;return V=Hn(Se,m,V),V=Hn(Se,m,V),V=function Tn(Se,m,v){if(!Se.getBoundaryScore||!m.getBoundaryScore)return v;for(let V=0;V<v.length;V++){const Y=V>0?v[V-1]:void 0,R=v[V],ve=V+1<v.length?v[V+1]:void 0,we=new he.L(Y?Y.seq1Range.endExclusive+1:0,ve?ve.seq1Range.start-1:Se.length),ke=new he.L(Y?Y.seq2Range.endExclusive+1:0,ve?ve.seq2Range.start-1:m.length);R.seq1Range.isEmpty?v[V]=gi(R,Se,m,we,ke):R.seq2Range.isEmpty&&(v[V]=gi(R.swap(),m,Se,ke,we).swap())}return v}(Se,m,V),V}function Hn(Se,m,v){if(0===v.length)return v;const V=[];V.push(v[0]);for(let R=1;R<v.length;R++){const ve=V[V.length-1];let we=v[R];if(we.seq1Range.isEmpty||we.seq2Range.isEmpty){const ke=we.seq1Range.start-ve.seq1Range.endExclusive;let Te;for(Te=1;Te<=ke&&Se.getElement(we.seq1Range.start-Te)===Se.getElement(we.seq1Range.endExclusive-Te)&&m.getElement(we.seq2Range.start-Te)===m.getElement(we.seq2Range.endExclusive-Te);Te++);if(Te--,Te===ke){V[V.length-1]=new rt(new he.L(ve.seq1Range.start,we.seq1Range.endExclusive-ke),new he.L(ve.seq2Range.start,we.seq2Range.endExclusive-ke));continue}we=we.delta(-Te)}V.push(we)}const Y=[];for(let R=0;R<V.length-1;R++){const ve=V[R+1];let we=V[R];if(we.seq1Range.isEmpty||we.seq2Range.isEmpty){const ke=ve.seq1Range.start-we.seq1Range.endExclusive;let Te;for(Te=0;Te<ke&&Se.isStronglyEqual(we.seq1Range.start+Te,we.seq1Range.endExclusive+Te)&&m.isStronglyEqual(we.seq2Range.start+Te,we.seq2Range.endExclusive+Te);Te++);if(Te===ke){V[R+1]=new rt(new he.L(we.seq1Range.start+ke,ve.seq1Range.endExclusive),new he.L(we.seq2Range.start+ke,ve.seq2Range.endExclusive));continue}Te>0&&(we=we.delta(Te))}Y.push(we)}return V.length>0&&Y.push(V[V.length-1]),Y}function gi(Se,m,v,V,Y){let ve=1;for(;Se.seq1Range.start-ve>=V.start&&Se.seq2Range.start-ve>=Y.start&&v.isStronglyEqual(Se.seq2Range.start-ve,Se.seq2Range.endExclusive-ve)&&ve<100;)ve++;ve--;let we=0;for(;Se.seq1Range.start+we<V.endExclusive&&Se.seq2Range.endExclusive+we<Y.endExclusive&&v.isStronglyEqual(Se.seq2Range.start+we,Se.seq2Range.endExclusive+we)&&we<100;)we++;if(0===ve&&0===we)return Se;let ke=0,Te=-1;for(let Ge=-ve;Ge<=we;Ge++){const qe=Se.seq2Range.start+Ge,Ve=Se.seq2Range.endExclusive+Ge,ct=m.getBoundaryScore(Se.seq1Range.start+Ge)+v.getBoundaryScore(qe)+v.getBoundaryScore(Ve);ct>Te&&(Te=ct,ke=Ge)}return Se.delta(ke)}class gn{constructor(m,v){this.trimmedHash=m,this.lines=v}getElement(m){return this.trimmedHash[m]}get length(){return this.trimmedHash.length}getBoundaryScore(m){return 1e3-((0===m?0:Ti(this.lines[m-1]))+(m===this.lines.length?0:Ti(this.lines[m])))}getText(m){return this.lines.slice(m.start,m.endExclusive).join("\n")}isStronglyEqual(m,v){return this.lines[m]===this.lines[v]}}function Ti(Se){let m=0;for(;m<Se.length&&(32===Se.charCodeAt(m)||9===Se.charCodeAt(m));)m++;return m}class Ni{constructor(){this.dynamicProgrammingDiffing=new Ue,this.myersDiffingAlgorithm=new st}computeDiff(m,v,V){if(m.length<=1&&(0,Ln.aI)(m,v,(At,Wt)=>At===Wt))return new y([],[],!1);if(1===m.length&&0===m[0].length||1===v.length&&0===v[0].length)return new y([new De(new T.M(1,m.length+1),new T.M(1,v.length+1),[new ze(new ae.Q(1,1,m.length,m[m.length-1].length+1),new ae.Q(1,1,v.length,v[v.length-1].length+1))])],[],!1);const Y=0===V.maxComputationTimeMs?x.instance:new ue(V.maxComputationTimeMs),R=!V.ignoreTrimWhitespace,ve=new Map;function we(At){let Wt=ve.get(At);return void 0===Wt&&(Wt=ve.size,ve.set(At,Wt)),Wt}const ke=m.map(At=>we(At.trim())),Te=v.map(At=>we(At.trim())),Ge=new gn(ke,m),qe=new gn(Te,v),Ve=Ge.length+qe.length<1700?this.dynamicProgrammingDiffing.compute(Ge,qe,Y,(At,Wt)=>m[At]===v[Wt]?0===v[Wt].length?.1:1+Math.log(1+v[Wt].length):.99):this.myersDiffingAlgorithm.compute(Ge,qe,Y);let tt=Ve.diffs,ct=Ve.hitTimeout;tt=Ii(Ge,qe,tt),tt=function Qn(Se,m,v){let V=v;if(0===V.length)return V;let R,Y=0;do{R=!1;const ve=[V[0]];for(let we=1;we<V.length;we++){let Ge=function(Ve,tt){const ct=new he.L(Te.seq1Range.endExclusive,ke.seq1Range.start);return Se.getText(ct).replace(/\s/g,"").length<=4&&(Ve.seq1Range.length+Ve.seq2Range.length>5||tt.seq1Range.length+tt.seq2Range.length>5)};const ke=V[we],Te=ve[ve.length-1];Ge(Te,ke)?(R=!0,ve[ve.length-1]=ve[ve.length-1].join(ke)):ve.push(ke)}V=ve}while(Y++<10&&R);return V}(Ge,0,tt);const gt=[],Pe=At=>{if(R)for(let Wt=0;Wt<At;Wt++){const zt=Tt+Wt,Bt=Nt+Wt;if(m[zt]!==v[Bt]){const Cn=this.refineDiff(m,v,new rt(new he.L(zt,zt+1),new he.L(Bt,Bt+1)),Y,R);for(const wn of Cn.mappings)gt.push(wn);Cn.hitTimeout&&(ct=!0)}}};let Tt=0,Nt=0;for(const At of tt){(0,ee.Ft)(()=>At.seq1Range.start-Tt==At.seq2Range.start-Nt),Pe(At.seq1Range.start-Tt),Tt=At.seq1Range.endExclusive,Nt=At.seq2Range.endExclusive;const zt=this.refineDiff(m,v,At,Y,R);zt.hitTimeout&&(ct=!0);for(const Bt of zt.mappings)gt.push(Bt)}Pe(m.length-Tt);const yt=ri(gt,m,v);let Dt=[];return V.computeMoves&&(Dt=this.computeMoves(yt,m,v,ke,Te,Y,R)),(0,ee.Ft)(()=>{function At(zt,Bt){return!(zt.lineNumber<1||zt.lineNumber>Bt.length)&&!(zt.column<1||zt.column>Bt[zt.lineNumber-1].length+1)}function Wt(zt,Bt){return!(zt.startLineNumber<1||zt.startLineNumber>Bt.length+1||zt.endLineNumberExclusive<1||zt.endLineNumberExclusive>Bt.length+1)}for(const zt of yt){if(!zt.innerChanges)return!1;for(const Bt of zt.innerChanges)if(!(At(Bt.modifiedRange.getStartPosition(),v)&&At(Bt.modifiedRange.getEndPosition(),v)&&At(Bt.originalRange.getStartPosition(),m)&&At(Bt.originalRange.getEndPosition(),m)))return!1;if(!Wt(zt.modified,v)||!Wt(zt.original,m))return!1}return!0}),new y(yt,Dt,ct)}computeMoves(m,v,V,Y,R,ve,we){return function _n(Se,m,v,V,Y,R){let{moves:ve,excludedChanges:we}=function Kn(Se,m,v,V){const Y=[],R=Se.filter(ke=>ke.modified.isEmpty&&ke.original.length>=3).map(ke=>new Be(ke.original,m,ke)),ve=new Set(Se.filter(ke=>ke.original.isEmpty&&ke.modified.length>=3).map(ke=>new Be(ke.modified,v,ke))),we=new Set;for(const ke of R){let Ge,Te=-1;for(const qe of ve){const Ve=ke.computeSimilarity(qe);Ve>Te&&(Te=Ve,Ge=qe)}if(Te>.9&&Ge&&(ve.delete(Ge),Y.push(new le(ke.range,Ge.range)),we.add(ke.source),we.add(Ge.source)),!V.isValid())return{moves:Y,excludedChanges:we}}return{moves:Y,excludedChanges:we}}(Se,m,v,R);if(!R.isValid())return[];const Te=function Rn(Se,m,v,V,Y,R){const ve=[],we=new tn.db;for(const Ve of Se)for(let tt=Ve.original.startLineNumber;tt<Ve.original.endLineNumberExclusive-2;tt++)we.add(`${m[tt-1]}:${m[tt+1-1]}:${m[tt+2-1]}`,{range:new T.M(tt,tt+3)});const ke=[];Se.sort((0,Ln.VE)(Ve=>Ve.modified.startLineNumber,Ln.U9));for(const Ve of Se){let tt=[];for(let ct=Ve.modified.startLineNumber;ct<Ve.modified.endLineNumberExclusive-2;ct++){const gt=`${v[ct-1]}:${v[ct+1-1]}:${v[ct+2-1]}`,Pe=new T.M(ct,ct+3),Tt=[];we.forEach(gt,({range:Nt})=>{for(const Dt of tt)if(Dt.originalLineRange.endLineNumberExclusive+1===Nt.endLineNumberExclusive&&Dt.modifiedLineRange.endLineNumberExclusive+1===Pe.endLineNumberExclusive)return Dt.originalLineRange=new T.M(Dt.originalLineRange.startLineNumber,Nt.endLineNumberExclusive),Dt.modifiedLineRange=new T.M(Dt.modifiedLineRange.startLineNumber,Pe.endLineNumberExclusive),void Tt.push(Dt);const yt={modifiedLineRange:Pe,originalLineRange:Nt};ke.push(yt),Tt.push(yt)}),tt=Tt}if(!R.isValid())return[]}ke.sort((0,Ln.Hw)((0,Ln.VE)(Ve=>Ve.modifiedLineRange.length,Ln.U9)));const Te=new T.S,Ge=new T.S;for(const Ve of ke){const tt=Ve.modifiedLineRange.startLineNumber-Ve.originalLineRange.startLineNumber,ct=Te.subtractFrom(Ve.modifiedLineRange),gt=Ge.subtractFrom(Ve.originalLineRange).getWithDelta(tt),Pe=ct.getIntersection(gt);for(const Tt of Pe.ranges){if(Tt.length<3)continue;const Nt=Tt,yt=Tt.delta(-tt);ve.push(new le(yt,Nt)),Te.addRange(Nt),Ge.addRange(yt)}}ve.sort((0,Ln.VE)(Ve=>Ve.original.startLineNumber,Ln.U9));const qe=new Ht.vJ(Se);for(let Ve=0;Ve<ve.length;Ve++){const tt=ve[Ve],ct=qe.findLastMonotonous(Wt=>Wt.original.startLineNumber<=tt.original.startLineNumber),gt=(0,Ht.lx)(Se,Wt=>Wt.modified.startLineNumber<=tt.modified.startLineNumber),Pe=Math.max(tt.original.startLineNumber-ct.original.startLineNumber,tt.modified.startLineNumber-gt.modified.startLineNumber),Tt=qe.findLastMonotonous(Wt=>Wt.original.startLineNumber<tt.original.endLineNumberExclusive),Nt=(0,Ht.lx)(Se,Wt=>Wt.modified.startLineNumber<tt.modified.endLineNumberExclusive),yt=Math.max(Tt.original.endLineNumberExclusive-tt.original.endLineNumberExclusive,Nt.modified.endLineNumberExclusive-tt.modified.endLineNumberExclusive);let Dt,At;for(Dt=0;Dt<Pe;Dt++){const Wt=tt.original.startLineNumber-Dt-1,zt=tt.modified.startLineNumber-Dt-1;if(Wt>V.length||zt>Y.length||Te.contains(zt)||Ge.contains(Wt)||!jn(V[Wt-1],Y[zt-1],R))break}for(Dt>0&&(Ge.addRange(new T.M(tt.original.startLineNumber-Dt,tt.original.startLineNumber)),Te.addRange(new T.M(tt.modified.startLineNumber-Dt,tt.modified.startLineNumber))),At=0;At<yt;At++){const Wt=tt.original.endLineNumberExclusive+At,zt=tt.modified.endLineNumberExclusive+At;if(Wt>V.length||zt>Y.length||Te.contains(zt)||Ge.contains(Wt)||!jn(V[Wt-1],Y[zt-1],R))break}At>0&&(Ge.addRange(new T.M(tt.original.endLineNumberExclusive,tt.original.endLineNumberExclusive+At)),Te.addRange(new T.M(tt.modified.endLineNumberExclusive,tt.modified.endLineNumberExclusive+At))),(Dt>0||At>0)&&(ve[Ve]=new le(new T.M(tt.original.startLineNumber-Dt,tt.original.endLineNumberExclusive+At),new T.M(tt.modified.startLineNumber-Dt,tt.modified.endLineNumberExclusive+At)))}return ve}(Se.filter(Ge=>!we.has(Ge)),V,Y,m,v,R);return(0,Ln.E4)(ve,Te),ve=function Ei(Se){if(0===Se.length)return Se;Se.sort((0,Ln.VE)(v=>v.original.startLineNumber,Ln.U9));const m=[Se[0]];for(let v=1;v<Se.length;v++){const V=m[m.length-1],Y=Se[v],R=Y.original.startLineNumber-V.original.endLineNumberExclusive,ve=Y.modified.startLineNumber-V.modified.endLineNumberExclusive;R>=0&&ve>=0&&R+ve<=2?m[m.length-1]=V.join(Y):m.push(Y)}return m}(ve),ve=ve.filter(Ge=>{const qe=Ge.original.toOffsetRange().slice(m).map(tt=>tt.trim());return qe.join("\n").length>=15&&function xn(Se,m){let v=0;for(const V of Se)m(V)&&v++;return v}(qe,tt=>tt.length>=2)>=2}),ve=function Ai(Se,m){const v=new Ht.vJ(Se);return m=m.filter(V=>{const Y=v.findLastMonotonous(we=>we.original.startLineNumber<V.original.endLineNumberExclusive)||new le(new T.M(1,1),new T.M(1,1)),R=(0,Ht.lx)(Se,we=>we.modified.startLineNumber<V.modified.endLineNumberExclusive);return Y!==R}),m}(Se,ve),ve}(m,v,V,Y,R,ve).map(Ge=>{const Ve=ri(this.refineDiff(v,V,new rt(Ge.original.toOffsetRange(),Ge.modified.toOffsetRange()),ve,we).mappings,v,V,!0);return new O(Ge,Ve)})}refineDiff(m,v,V,Y,R){const we=function Ie(Se){return new le(new T.M(Se.seq1Range.start+1,Se.seq1Range.endExclusive+1),new T.M(Se.seq2Range.start+1,Se.seq2Range.endExclusive+1))}(V).toRangeMapping2(m,v),ke=new mn(m,we.originalRange,R),Te=new mn(v,we.modifiedRange,R),Ge=ke.length+Te.length<500?this.dynamicProgrammingDiffing.compute(ke,Te,Y):this.myersDiffingAlgorithm.compute(ke,Te,Y);let Ve=Ge.diffs;Ve=Ii(ke,Te,Ve),Ve=function bn(Se,m,v){const V=rt.invert(v,Se.length),Y=[];let R=new Je(0,0);function ve(ke,Te){if(ke.offset1<R.offset1||ke.offset2<R.offset2)return;const Ge=Se.findWordContaining(ke.offset1),qe=m.findWordContaining(ke.offset2);if(!Ge||!qe)return;let Ve=new rt(Ge,qe);const tt=Ve.intersect(Te);let ct=tt.seq1Range.length,gt=tt.seq2Range.length;for(;V.length>0;){const Pe=V[0];if(!Pe.seq1Range.intersects(Ve.seq1Range)&&!Pe.seq2Range.intersects(Ve.seq2Range))break;const Nt=Se.findWordContaining(Pe.seq1Range.start),yt=m.findWordContaining(Pe.seq2Range.start),Dt=new rt(Nt,yt),At=Dt.intersect(Pe);if(ct+=At.seq1Range.length,gt+=At.seq2Range.length,Ve=Ve.join(Dt),!(Ve.seq1Range.endExclusive>=Pe.seq1Range.endExclusive))break;V.shift()}ct+gt<2*(Ve.seq1Range.length+Ve.seq2Range.length)/3&&Y.push(Ve),R=Ve.getEndExclusives()}for(;V.length>0;){const ke=V.shift();ke.seq1Range.isEmpty||(ve(ke.getStarts(),ke),ve(ke.getEndExclusives().delta(-1),ke))}return function On(Se,m){const v=[];for(;Se.length>0||m.length>0;){const V=Se[0],Y=m[0];let R;R=V&&(!Y||V.seq1Range.start<Y.seq1Range.start)?Se.shift():m.shift(),v.length>0&&v[v.length-1].seq1Range.endExclusive>=R.seq1Range.start?v[v.length-1]=v[v.length-1].join(R):v.push(R)}return v}(v,Y)}(ke,Te,Ve),Ve=function Mn(Se,m,v){const V=[];for(const Y of v){const R=V[V.length-1];R&&(Y.seq1Range.start-R.seq1Range.endExclusive<=2||Y.seq2Range.start-R.seq2Range.endExclusive<=2)?V[V.length-1]=new rt(R.seq1Range.join(Y.seq1Range),R.seq2Range.join(Y.seq2Range)):V.push(Y)}return V}(0,0,Ve),Ve=function Wi(Se,m,v){let V=v;if(0===V.length)return V;let R,Y=0;do{R=!1;const we=[V[0]];for(let ke=1;ke<V.length;ke++){let qe=function(tt,ct){const gt=new he.L(Ge.seq1Range.endExclusive,Te.seq1Range.start);if(Se.countLinesIn(gt)>5||gt.length>500)return!1;const Tt=Se.getText(gt).trim();if(Tt.length>20||Tt.split(/\r\n|\r|\n/).length>1)return!1;const Nt=Se.countLinesIn(tt.seq1Range),yt=tt.seq1Range.length,Dt=m.countLinesIn(tt.seq2Range),At=tt.seq2Range.length,Wt=Se.countLinesIn(ct.seq1Range),zt=ct.seq1Range.length,Bt=m.countLinesIn(ct.seq2Range),Cn=ct.seq2Range.length;function dn(Pt){return Math.min(Pt,130)}return Math.pow(Math.pow(dn(40*Nt+yt),1.5)+Math.pow(dn(40*Dt+At),1.5),1.5)+Math.pow(Math.pow(dn(40*Wt+zt),1.5)+Math.pow(dn(40*Bt+Cn),1.5),1.5)>74184.96480721243};const Te=V[ke],Ge=we[we.length-1];qe(Ge,Te)?(R=!0,we[we.length-1]=we[we.length-1].join(Te)):we.push(Te)}V=we}while(Y++<10&&R);const ve=[];return(0,Ln.kj)(V,(we,ke,Te)=>{let Ge=ke;function qe(Tt){return Tt.length>0&&Tt.trim().length<=3&&ke.seq1Range.length+ke.seq2Range.length>100}const Ve=Se.extendToFullLines(ke.seq1Range),tt=Se.getText(new he.L(Ve.start,ke.seq1Range.start));qe(tt)&&(Ge=Ge.deltaStart(-tt.length));const ct=Se.getText(new he.L(ke.seq1Range.endExclusive,Ve.endExclusive));qe(ct)&&(Ge=Ge.deltaEnd(ct.length));const gt=rt.fromOffsetPairs(we?we.getEndExclusives():Je.zero,Te?Te.getStarts():Je.max),Pe=Ge.intersect(gt);ve.length>0&&Pe.getStarts().equals(ve[ve.length-1].getEndExclusives())?ve[ve.length-1]=ve[ve.length-1].join(Pe):ve.push(Pe)}),ve}(ke,Te,Ve);return{mappings:Ve.map(ct=>new ze(ke.translateRange(ct.seq1Range),Te.translateRange(ct.seq2Range))),hitTimeout:Ge.hitTimeout}}}function ri(Se,m,v,V=!1){const Y=[];for(const R of(0,Ln.n)(Se.map(ve=>function Yn(Se,m,v){let V=0,Y=0;1===Se.modifiedRange.endColumn&&1===Se.originalRange.endColumn&&Se.originalRange.startLineNumber+V<=Se.originalRange.endLineNumber&&Se.modifiedRange.startLineNumber+V<=Se.modifiedRange.endLineNumber&&(Y=-1),Se.modifiedRange.startColumn-1>=v[Se.modifiedRange.startLineNumber-1].length&&Se.originalRange.startColumn-1>=m[Se.originalRange.startLineNumber-1].length&&Se.originalRange.startLineNumber<=Se.originalRange.endLineNumber+Y&&Se.modifiedRange.startLineNumber<=Se.modifiedRange.endLineNumber+Y&&(V=1);const R=new T.M(Se.originalRange.startLineNumber+V,Se.originalRange.endLineNumber+1+Y),ve=new T.M(Se.modifiedRange.startLineNumber+V,Se.modifiedRange.endLineNumber+1+Y);return new De(R,ve,[Se])}(ve,m,v)),(ve,we)=>ve.original.overlapOrTouch(we.original)||ve.modified.overlapOrTouch(we.modified))){const ve=R[0],we=R[R.length-1];Y.push(new De(ve.original.join(we.original),ve.modified.join(we.modified),R.map(ke=>ke.innerChanges[0])))}return(0,ee.Ft)(()=>!(!V&&Y.length>0&&(Y[0].modified.startLineNumber!==Y[0].original.startLineNumber||v.length-Y[Y.length-1].modified.endLineNumberExclusive!=m.length-Y[Y.length-1].original.endLineNumberExclusive))&&(0,ee.Xo)(Y,(R,ve)=>ve.original.startLineNumber-R.original.endLineNumberExclusive==ve.modified.startLineNumber-R.modified.endLineNumberExclusive&&R.original.endLineNumberExclusive<ve.original.startLineNumber&&R.modified.endLineNumberExclusive<ve.modified.startLineNumber)),Y}var _e=I(4311),Ke=I(5109),dt=I(4072);function Lt(Se){const m=[];for(const v of Se){const V=Number(v);(V||0===V&&""!==v.replace(/\s/g,""))&&m.push(V)}return m}function Ut(Se,m,v,V){return{red:Se/255,blue:v/255,green:m/255,alpha:V}}function Zt(Se,m){const v=m.index,V=m[0].length;if(!v)return;const Y=Se.positionAt(v);return{startLineNumber:Y.lineNumber,startColumn:Y.column,endLineNumber:Y.lineNumber,endColumn:Y.column+V}}function $n(Se,m){if(!Se)return;const v=dt.Q1.Format.CSS.parseHex(m);return v?{range:Se,color:Ut(v.rgba.r,v.rgba.g,v.rgba.b,v.rgba.a)}:void 0}function sn(Se,m,v){if(!Se||1!==m.length)return;const R=Lt(m[0].values());return{range:Se,color:Ut(R[0],R[1],R[2],v?R[3]:1)}}function Vn(Se,m,v){if(!Se||1!==m.length)return;const R=Lt(m[0].values()),ve=new dt.Q1(new dt.hB(R[0],R[1]/100,R[2]/100,v?R[3]:1));return{range:Se,color:Ut(ve.rgba.r,ve.rgba.g,ve.rgba.b,ve.rgba.a)}}function Gn(Se,m){return"string"==typeof Se?[...Se.matchAll(m)]:Se.findMatches(m)}var Xn=I(2906),_i=I(3296);let bi=(()=>{class Se{constructor(){this._workerTextModelSyncServer=new _i.WorkerTextModelSyncServer}dispose(){}_getModel(v){return this._workerTextModelSyncServer.getModel(v)}_getModels(){return this._workerTextModelSyncServer.getModels()}$acceptNewModel(v){this._workerTextModelSyncServer.$acceptNewModel(v)}$acceptModelChanged(v,V){this._workerTextModelSyncServer.$acceptModelChanged(v,V)}$acceptRemovedModel(v){this._workerTextModelSyncServer.$acceptRemovedModel(v)}$computeUnicodeHighlights(v,V,Y){var R=this;return(0,W.A)(function*(){const ve=R._getModel(v);return ve?j.UnicodeTextModelHighlighter.computeUnicodeHighlights(ve,V,Y):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}})()}$findSectionHeaders(v,V){var Y=this;return(0,W.A)(function*(){const R=Y._getModel(v);return R?(0,Xn.findSectionHeaders)(R,V):[]})()}$computeDiff(v,V,Y,R){var ve=this;return(0,W.A)(function*(){const we=ve._getModel(v),ke=ve._getModel(V);return we&&ke?vi.computeDiff(we,ke,Y,R):null})()}static computeDiff(v,V,Y,R){const ve="advanced"===R?new Ni:new et,we=v.getLinesContent(),ke=V.getLinesContent(),Te=ve.computeDiff(we,ke,Y);function qe(Ve){return Ve.map(tt=>[tt.original.startLineNumber,tt.original.endLineNumberExclusive,tt.modified.startLineNumber,tt.modified.endLineNumberExclusive,tt.innerChanges?.map(ct=>[ct.originalRange.startLineNumber,ct.originalRange.startColumn,ct.originalRange.endLineNumber,ct.originalRange.endColumn,ct.modifiedRange.startLineNumber,ct.modifiedRange.startColumn,ct.modifiedRange.endLineNumber,ct.modifiedRange.endColumn])])}return{identical:!(Te.changes.length>0)&&this._modelsAreIdentical(v,V),quitEarly:Te.hitTimeout,changes:qe(Te.changes),moves:Te.moves.map(Ve=>[Ve.lineRangeMapping.original.startLineNumber,Ve.lineRangeMapping.original.endLineNumberExclusive,Ve.lineRangeMapping.modified.startLineNumber,Ve.lineRangeMapping.modified.endLineNumberExclusive,qe(Ve.changes)])}}static _modelsAreIdentical(v,V){const Y=v.getLineCount();if(Y!==V.getLineCount())return!1;for(let ve=1;ve<=Y;ve++)if(v.getLineContent(ve)!==V.getLineContent(ve))return!1;return!0}static{this._diffLimit=1e5}$computeMoreMinimalEdits(v,V,Y){var R=this;return(0,W.A)(function*(){const ve=R._getModel(v);if(!ve)return V;const we=[];let ke;V=V.slice(0).sort((Ge,qe)=>Ge.range&&qe.range?ae.Q.compareRangesUsingStarts(Ge.range,qe.range):(Ge.range?0:1)-(qe.range?0:1));let Te=0;for(let Ge=1;Ge<V.length;Ge++)ae.Q.getEndPosition(V[Te].range).equals(ae.Q.getStartPosition(V[Ge].range))?(V[Te].range=ae.Q.fromPositions(ae.Q.getStartPosition(V[Te].range),ae.Q.getEndPosition(V[Ge].range)),V[Te].text+=V[Ge].text):(Te++,V[Te]=V[Ge]);V.length=Te+1;for(let{range:Ge,text:qe,eol:Ve}of V){if("number"==typeof Ve&&(ke=Ve),ae.Q.isEmpty(Ge)&&!qe)continue;const tt=ve.getValueInRange(Ge);if(qe=qe.replace(/\r\n|\n|\r/g,ve.eol),tt===qe)continue;if(Math.max(qe.length,tt.length)>vi._diffLimit){we.push({range:Ge,text:qe});continue}const ct=C(tt,qe,Y),gt=ve.offsetAt(ae.Q.lift(Ge).getStartPosition());for(const Pe of ct){const Tt=ve.positionAt(gt+Pe.originalStart),Nt=ve.positionAt(gt+Pe.originalStart+Pe.originalLength),yt={text:qe.substr(Pe.modifiedStart,Pe.modifiedLength),range:{startLineNumber:Tt.lineNumber,startColumn:Tt.column,endLineNumber:Nt.lineNumber,endColumn:Nt.column}};ve.getValueInRange(yt.range)!==yt.text&&we.push(yt)}}return"number"==typeof ke&&we.push({eol:ke,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),we})()}$computeLinks(v){var V=this;return(0,W.A)(function*(){const Y=V._getModel(v);return Y?function _(Se){return Se&&"function"==typeof Se.getLineCount&&"function"==typeof Se.getLineContent?me.computeLinks(Se):[]}(Y):null})()}$computeDefaultDocumentColors(v){var V=this;return(0,W.A)(function*(){const Y=V._getModel(v);return Y?function Zn(Se){return Se&&"function"==typeof Se.getValue&&"function"==typeof Se.positionAt?function Jn(Se){const m=[],V=Gn(Se,/\b(rgb|rgba|hsl|hsla)(\([0-9\s,.\%]*\))|(#)([A-Fa-f0-9]{3})\b|(#)([A-Fa-f0-9]{4})\b|(#)([A-Fa-f0-9]{6})\b|(#)([A-Fa-f0-9]{8})\b/gm);if(V.length>0)for(const Y of V){const R=Y.filter(Te=>void 0!==Te),ve=R[1],we=R[2];if(!we)continue;let ke;if("rgb"===ve){const Te=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*\)$/gm;ke=sn(Zt(Se,Y),Gn(we,Te),!1)}else if("rgba"===ve){const Te=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;ke=sn(Zt(Se,Y),Gn(we,Te),!0)}else if("hsl"===ve){const Te=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*\)$/gm;ke=Vn(Zt(Se,Y),Gn(we,Te),!1)}else if("hsla"===ve){const Te=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;ke=Vn(Zt(Se,Y),Gn(we,Te),!0)}else"#"===ve&&(ke=$n(Zt(Se,Y),ve+we));ke&&m.push(ke)}return m}(Se):[]}(Y):null})()}static{this._suggestionsLimit=1e4}$textualSuggest(v,V,Y,R){var ve=this;return(0,W.A)(function*(){const we=new H.W,ke=new RegExp(Y,R),Te=new Set;e:for(const Ge of v){const qe=ve._getModel(Ge);if(qe)for(const Ve of qe.words(ke))if(Ve!==V&&isNaN(Number(Ve))&&(Te.add(Ve),Te.size>vi._suggestionsLimit))break e}return{words:Array.from(Te),duration:we.elapsed()}})()}$computeWordRanges(v,V,Y,R){var ve=this;return(0,W.A)(function*(){const we=ve._getModel(v);if(!we)return Object.create(null);const ke=new RegExp(Y,R),Te=Object.create(null);for(let Ge=V.startLineNumber;Ge<V.endLineNumber;Ge++){const qe=we.getLineWords(Ge,ke);for(const Ve of qe){if(!isNaN(Number(Ve.word)))continue;let tt=Te[Ve.word];tt||(tt=[],Te[Ve.word]=tt),tt.push({startLineNumber:Ge,startColumn:Ve.startColumn,endLineNumber:Ge,endColumn:Ve.endColumn})}}return Te})()}$navigateValueSet(v,V,Y,R,ve){var we=this;return(0,W.A)(function*(){const ke=we._getModel(v);if(!ke)return null;const Te=new RegExp(R,ve);V.startColumn===V.endColumn&&(V={startLineNumber:V.startLineNumber,startColumn:V.startColumn,endLineNumber:V.endLineNumber,endColumn:V.endColumn+1});const Ge=ke.getValueInRange(V),qe=ke.getWordAtPosition({lineNumber:V.startLineNumber,column:V.startColumn},Te);if(!qe)return null;const Ve=ke.getValueInRange(qe);return w.INSTANCE.navigateValueSet(V,Ge,qe,Ve,Y)})()}}return Se})();class vi extends bi{constructor(m,v){super(),this._host=m,this._foreignModuleFactory=v,this._foreignModule=null}$ping(){return(0,W.A)(function*(){return"pong"})()}$loadForeignModule(m,v,V){const ve={host:(0,_e.kT)(V,(we,ke)=>this._host.$fhr(we,ke)),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(ve,v),Promise.resolve((0,_e.V0)(this._foreignModule))):new Promise((we,ke)=>{const Te=Ge=>{this._foreignModule=Ge.create(ve,v),we((0,_e.V0)(this._foreignModule))};{const Ge=Ke.zl.asBrowserUri(`${m}.js`).toString(!0);I(9204)(`${Ge}`).then(Te).catch(ke)}})}$fmr(m,v){if(!this._foreignModule||"function"!=typeof this._foreignModule[m])return Promise.reject(new Error("Missing requestHandler or method: "+m));try{return Promise.resolve(this._foreignModule[m].apply(this._foreignModule,v))}catch(V){return Promise.reject(V)}}}function or(Se){return new vi(U.EditorWorkerHost.getChannel(Se),null)}"function"==typeof importScripts&&(globalThis.monaco=(0,k.createMonacoBaseAPI)())},4225:(ft,Oe,I)=>{"use strict";I.r(Oe),I.d(Oe,{IEditorWorkerService:()=>Z});const Z=(0,I(598).u1)("editorWorkerService")},2607:(ft,Oe,I)=>{"use strict";I.r(Oe),I.d(Oe,{EditorWorkerHost:()=>W});let W=(()=>{class Z{static{this.CHANNEL_NAME="editorWorkerHost"}static getChannel(D){return D.getChannel(Z.CHANNEL_NAME)}static setChannel(D,C){D.setChannel(Z.CHANNEL_NAME,C)}}return Z})()},2906:(ft,Oe,I)=>{"use strict";I.r(Oe),I.d(Oe,{findSectionHeaders:()=>o});const W=new RegExp("\\bMARK:\\s*(.*)$","d"),Z=/^-+|-+$/g;function o(B,F){let ae=[];if(F.findRegionSectionHeaders&&F.foldingRules?.markers){const K=function D(B,F){const ae=[],K=B.getLineCount();for(let A=1;A<=K;A++){const S=B.getLineContent(A),M=S.match(F.foldingRules.markers.start);if(M){const E={startLineNumber:A,startColumn:M[0].length+1,endLineNumber:A,endColumn:S.length+1};if(E.endColumn>E.startColumn){const p={range:E,...f(S.substring(M[0].length)),shouldBeInComments:!1};(p.text||p.hasSeparatorLine)&&ae.push(p)}}}return ae}(B,F);ae=ae.concat(K)}if(F.findMarkSectionHeaders){const K=function C(B){const F=[],ae=B.getLineCount();for(let K=1;K<=ae;K++)$(B.getLineContent(K),K,F);return F}(B);ae=ae.concat(K)}return ae}function $(B,F,ae){W.lastIndex=0;const K=W.exec(B);if(K){const M={startLineNumber:F,startColumn:K.indices[1][0]+1,endLineNumber:F,endColumn:K.indices[1][1]+1};if(M.endColumn>M.startColumn){const E={range:M,...f(K[1]),shouldBeInComments:!0};(E.text||E.hasSeparatorLine)&&ae.push(E)}}}function f(B){const F=(B=B.trim()).startsWith("-");return{text:B=B.replace(Z,""),hasSeparatorLine:F}}},3700:(ft,Oe,I)=>{"use strict";I.r(Oe),I.d(Oe,{getIconClasses:()=>ae});var f,B,W=I(5109),Z=I(6698),o=I(2417),D=I(7864),C=function(S){return S[S.FILE=0]="FILE",S[S.FOLDER=1]="FOLDER",S[S.ROOT_FOLDER=2]="ROOT_FOLDER",S}(C||{}),$=I(3616);(f||(f={})).isThemeColor=function M(E){return E&&"object"==typeof E&&"string"==typeof E.id},function(S){S.iconNameSegment="[A-Za-z0-9]+",S.iconNameExpression="[A-Za-z0-9-]+",S.iconModifierExpression="~[A-Za-z]+",S.iconNameCharacter="[A-Za-z0-9~-]";const M=new RegExp(`^(${S.iconNameExpression})(${S.iconModifierExpression})?$`);function E(y){const O=M.exec(y.id);if(!O)return E($.W.error);const[,G,T]=O,z=["codicon","codicon-"+G];return T&&z.push("codicon-modifier-"+T.substring(1)),z}S.asClassNameArray=E,S.asClassName=function p(y){return E(y).join(" ")},S.asCSSSelector=function Ce(y){return"."+E(y).join(".")},S.isThemeIcon=function me(y){return y&&"object"==typeof y&&"string"==typeof y.id&&(typeof y.color>"u"||f.isThemeColor(y.color))};const _=new RegExp(`^\\$\\((${S.iconNameExpression}(?:${S.iconModifierExpression})?)\\)$`);S.fromString=function w(y){const O=_.exec(y);if(!O)return;const[,G]=O;return{id:G}},S.fromId=function k(y){return{id:y}},S.modify=function U(y,O){let G=y.id;const T=G.lastIndexOf("~");return-1!==T&&(G=G.substring(0,T)),O&&(G=`${G}~${O}`),{id:G}},S.getModifier=function H(y){const O=y.id.lastIndexOf("~");if(-1!==O)return y.id.substring(O+1)},S.isEqual=function j(y,O){return y.id===O.id&&y.color?.id===O.color?.id}}(B||(B={}));const F=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function ae(S,M,E,p,Ce){if(B.isThemeIcon(Ce))return[`codicon-${Ce.id}`,"predefined-file-icon"];if(o.r.isUri(Ce))return[];const me=p===C.ROOT_FOLDER?["rootfolder-icon"]:p===C.FOLDER?["folder-icon"]:["file-icon"];if(E){let _;if(E.scheme===W.ny.data)_=Z.B6.parseMetaData(E).get(Z.B6.META_DATA_LABEL);else{const w=E.path.match(F);w?(_=A(w[2].toLowerCase()),w[1]&&me.push(`${A(w[1].toLowerCase())}-name-dir-icon`)):_=A(E.authority.toLowerCase())}if(p===C.ROOT_FOLDER)me.push(`${_}-root-name-folder-icon`);else if(p===C.FOLDER)me.push(`${_}-name-folder-icon`);else{if(_){if(me.push(`${_}-name-file-icon`),me.push("name-file-icon"),_.length<=255){const k=_.split(".");for(let U=1;U<k.length;U++)me.push(`${k.slice(U).join(".")}-ext-file-icon`)}me.push("ext-file-icon")}const w=function K(S,M,E){if(!E)return null;let p=null;if(E.scheme===W.ny.data){const me=Z.B6.parseMetaData(E).get(Z.B6.META_DATA_MIME);me&&(p=M.getLanguageIdByMimeType(me))}else{const Ce=S.getModel(E);Ce&&(p=Ce.getLanguageId())}return p&&p!==D.vH?p:M.guessLanguageIdByFilepathOrFirstLine(E)}(S,M,E);w&&me.push(`${A(w)}-lang-file-icon`)}}return me}function A(S){return S.replace(/[\s]/g,"/")}},8525:(ft,Oe,I)=>{"use strict";I.r(Oe),I.d(Oe,{ILanguageFeatureDebounceService:()=>S,LanguageFeatureDebounceService:()=>Ce});var W=I(5763),Z=I(53);function o(me,_,w){return Math.min(Math.max(me,_),w)}class D{constructor(){this._n=1,this._val=0}update(_){return this._val=this._val+(_-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}class C{constructor(_){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(_),this._values.fill(0,0,_)}update(_){const w=this._values[this._index];return this._values[this._index]=_,this._index=(this._index+1)%this._values.length,this._sum-=w,this._sum+=_,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}var $=I(598);const f=(0,$.u1)("environmentService");var B=I(2534),F=I(2124),ae=I(5109),A=function(me,_){return function(w,k){_(w,k,me)}};const S=(0,$.u1)("ILanguageFeatureDebounceService");var M;!function(me){const _=new WeakMap;let w=0;me.of=function k(U){let H=_.get(U);return void 0===H&&(H=++w,_.set(U,H)),H}}(M||(M={}));class E{constructor(_){this._default=_}get(_){return this._default}update(_,w){return this._default}default(){return this._default}}class p{constructor(_,w,k,U,H,j){this._logService=_,this._name=w,this._registry=k,this._default=U,this._min=H,this._max=j,this._cache=new Z.qK(50,.7)}_key(_){return _.id+this._registry.all(_).reduce((w,k)=>(0,W.sN)(M.of(k),w),0)}get(_){const w=this._key(_),k=this._cache.get(w);return k?o(k.value,this._min,this._max):this.default()}update(_,w){const k=this._key(_);let U=this._cache.get(k);U||(U=new C(6),this._cache.set(k,U));const H=o(U.update(w),this._min,this._max);return(0,ae.v$)(_.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${_.uri.toString()} is ${H}ms`),H}_overall(){const _=new D;for(const[,w]of this._cache)_.update(w.value);return _.value}default(){return o(0|this._overall()||this._default,this._min,this._max)}}let Ce=class{constructor(_,w){this._logService=_,this._data=new Map,this._isDev=w.isExtensionDevelopment||!w.isBuilt}for(_,w,k){const U=k?.min??50,H=k?.max??U**2,j=k?.key??void 0,y=`${M.of(_)},${U}${j?","+j:""}`;let O=this._data.get(y);return O||(this._isDev?(this._logService.debug(`[DEBOUNCE: ${w}] is disabled in developed mode`),O=new E(1.5*U)):O=new p(this._logService,w,_,0|this._overallAverage()||1.5*U,U,H),this._data.set(y,O)),O}_overallAverage(){const _=new D;for(const w of this._data.values())_.update(w.default());return _.value}};Ce=function(me,_,w,k){var j,U=arguments.length,H=U<3?_:null===k?k=Object.getOwnPropertyDescriptor(_,w):k;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)H=Reflect.decorate(me,_,w,k);else for(var y=me.length-1;y>=0;y--)(j=me[y])&&(H=(U<3?j(H):U>3?j(_,w,H):j(_,w))||H);return U>3&&H&&Object.defineProperty(_,w,H),H}([A(0,F.rr),A(1,f)],Ce),(0,B.v)(S,Ce,1)},5307:(ft,Oe,I)=>{"use strict";I.r(Oe),I.d(Oe,{ILanguageFeaturesService:()=>Z});const Z=(0,I(598).u1)("ILanguageFeaturesService")},2579:(ft,Oe,I)=>{"use strict";I.r(Oe),I.d(Oe,{LanguageFeaturesService:()=>S});var W=I(5643),Z=I(4061),o=I(3782),D=I(7441),C=I(1824);function $(M,E,p,Ce,me,_){if(Array.isArray(M)){let w=0;for(const k of M){const U=$(k,E,p,Ce,me,_);if(10===U)return U;U>w&&(w=U)}return w}if("string"==typeof M)return Ce?"*"===M?5:M===p?10:0:0;if(M){const{language:w,pattern:k,scheme:U,hasAccessToAllModels:H,notebookType:j}=M;if(!Ce&&!H)return 0;j&&me&&(E=me);let y=0;if(U)if(U===E.scheme)y=10;else{if("*"!==U)return 0;y=5}if(w)if(w===p)y=10;else{if("*"!==w)return 0;y=Math.max(y,5)}if(j)if(j===_)y=10;else{if("*"!==j||void 0===_)return 0;y=Math.max(y,5)}if(k){let O;if(O="string"==typeof k?k:{...k,base:(0,C.S8)(k.base)},O!==E.fsPath&&!(0,D.YW)(O,E.fsPath))return 0;y=10}return y}return 0}function f(M){return"string"!=typeof M&&(Array.isArray(M)?M.every(f):!!M.exclusive)}class B{constructor(E,p,Ce,me,_){this.uri=E,this.languageId=p,this.notebookUri=Ce,this.notebookType=me,this.recursive=_}equals(E){return this.notebookType===E.notebookType&&this.languageId===E.languageId&&this.uri.toString()===E.uri.toString()&&this.notebookUri?.toString()===E.notebookUri?.toString()&&this.recursive===E.recursive}}class F{constructor(E){this._notebookInfoResolver=E,this._clock=0,this._entries=[],this._onDidChange=new W.vl,this.onDidChange=this._onDidChange.event}register(E,p){let Ce={selector:E,provider:p,_score:-1,_time:this._clock++};return this._entries.push(Ce),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,Z.s)(()=>{if(Ce){const me=this._entries.indexOf(Ce);me>=0&&(this._entries.splice(me,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),Ce=void 0)}})}has(E){return this.all(E).length>0}all(E){if(!E)return[];this._updateScores(E,!1);const p=[];for(const Ce of this._entries)Ce._score>0&&p.push(Ce.provider);return p}ordered(E,p=!1){const Ce=[];return this._orderedForEach(E,p,me=>Ce.push(me.provider)),Ce}orderedGroups(E){const p=[];let Ce,me;return this._orderedForEach(E,!1,_=>{Ce&&me===_._score?Ce.push(_.provider):(me=_._score,Ce=[_.provider],p.push(Ce))}),p}_orderedForEach(E,p,Ce){this._updateScores(E,p);for(const me of this._entries)me._score>0&&Ce(me)}_updateScores(E,p){const Ce=this._notebookInfoResolver?.(E.uri),me=Ce?new B(E.uri,E.getLanguageId(),Ce.uri,Ce.type,p):new B(E.uri,E.getLanguageId(),void 0,void 0,p);if(!this._lastCandidate?.equals(me)){this._lastCandidate=me;for(const _ of this._entries)if(_._score=$(_.selector,me.uri,me.languageId,(0,o.vd)(E),me.notebookUri,me.notebookType),f(_.selector)&&_._score>0){if(!p){for(const w of this._entries)w._score=0;_._score=1e3;break}_._score=0}this._entries.sort(F._compareByScoreAndTime)}}static _compareByScoreAndTime(E,p){return E._score<p._score?1:E._score>p._score?-1:ae(E.selector)&&!ae(p.selector)?1:!ae(E.selector)&&ae(p.selector)?-1:E._time<p._time?1:E._time>p._time?-1:0}}function ae(M){return"string"!=typeof M&&(Array.isArray(M)?M.some(ae):!!M.isBuiltin)}var K=I(5307),A=I(2534);class S{constructor(){this.referenceProvider=new F(this._score.bind(this)),this.renameProvider=new F(this._score.bind(this)),this.newSymbolNamesProvider=new F(this._score.bind(this)),this.codeActionProvider=new F(this._score.bind(this)),this.definitionProvider=new F(this._score.bind(this)),this.typeDefinitionProvider=new F(this._score.bind(this)),this.declarationProvider=new F(this._score.bind(this)),this.implementationProvider=new F(this._score.bind(this)),this.documentSymbolProvider=new F(this._score.bind(this)),this.inlayHintsProvider=new F(this._score.bind(this)),this.colorProvider=new F(this._score.bind(this)),this.codeLensProvider=new F(this._score.bind(this)),this.documentFormattingEditProvider=new F(this._score.bind(this)),this.documentRangeFormattingEditProvider=new F(this._score.bind(this)),this.onTypeFormattingEditProvider=new F(this._score.bind(this)),this.signatureHelpProvider=new F(this._score.bind(this)),this.hoverProvider=new F(this._score.bind(this)),this.documentHighlightProvider=new F(this._score.bind(this)),this.multiDocumentHighlightProvider=new F(this._score.bind(this)),this.selectionRangeProvider=new F(this._score.bind(this)),this.foldingRangeProvider=new F(this._score.bind(this)),this.linkProvider=new F(this._score.bind(this)),this.inlineCompletionsProvider=new F(this._score.bind(this)),this.inlineEditProvider=new F(this._score.bind(this)),this.completionProvider=new F(this._score.bind(this)),this.linkedEditingRangeProvider=new F(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new F(this._score.bind(this)),this.documentSemanticTokensProvider=new F(this._score.bind(this)),this.documentDropEditProvider=new F(this._score.bind(this)),this.documentPasteEditProvider=new F(this._score.bind(this))}_score(E){return this._notebookTypeResolver?.(E)}}(0,A.v)(K.ILanguageFeaturesService,S,1)},518:(ft,Oe,I)=>{"use strict";I.r(Oe),I.d(Oe,{LanguageService:()=>ri});var W=I(5643),Z=I(4061),o=I(3908),D=I(833),C=I(1489),$=I(7864);const f=(Ie,te)=>Ie===te;class S{constructor(te,_e,Ke){this.owner=te,this.debugNameSource=_e,this.referenceFn=Ke}getDebugName(te){return function p(Ie,te){const _e=E.get(Ie);if(_e)return _e;const Ke=function Ce(Ie,te){const _e=E.get(Ie);if(_e)return _e;const Ke=te.owner?function k(Ie){const te=w.get(Ie);if(te)return te;const _e=function U(Ie){const te=Ie.constructor;return te?te.name:"Object"}(Ie);let Ke=_.get(_e)??0;Ke++,_.set(_e,Ke);const dt=1===Ke?_e:`${_e}#${Ke}`;return w.set(Ie,dt),dt}(te.owner)+".":"";let dt;const Lt=te.debugNameSource;if(void 0!==Lt){if("function"!=typeof Lt)return Ke+Lt;if(dt=Lt(),void 0!==dt)return Ke+dt}const Ut=te.referenceFn;if(void 0!==Ut&&(dt=H(Ut),void 0!==dt))return Ke+dt;if(void 0!==te.owner){const Zt=function me(Ie,te){for(const _e in Ie)if(Ie[_e]===te)return _e}(te.owner,Ie);if(void 0!==Zt)return Ke+Zt}}(Ie,te);if(Ke){let dt=M.get(Ke)??0;dt++,M.set(Ke,dt);const Lt=1===dt?Ke:`${Ke}#${dt}`;return E.set(Ie,Lt),Lt}}(te,this)}}const M=new Map,E=new WeakMap,_=new Map,w=new WeakMap;function H(Ie){const te=Ie.toString(),Ke=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(te);return(Ke?Ke[1]:void 0)?.trim()}let P,le,xe;class ze{get TChange(){return null}reportChanges(){this.get()}read(te){return te?te.readObservable(this):this.get()}map(te,_e){const Ke=void 0===_e?void 0:te,dt=void 0===_e?te:_e;return xe({owner:Ke,debugName:()=>{const Lt=H(dt);if(void 0!==Lt)return Lt;const Zt=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(dt.toString());return Zt?`${this.debugName}.${Zt[2]}`:Ke?void 0:`${this.debugName} (mapped)`},debugReferenceFn:dt},Lt=>dt(this.read(Lt),Lt))}flatten(){return xe({owner:void 0,debugName:()=>`${this.debugName} (flattened)`},te=>this.read(te).read(te))}recomputeInitiallyAndOnChange(te,_e){return te.add(P(this,_e)),this}keepObserved(te){return te.add(le(this)),this}}class We extends ze{constructor(){super(...arguments),this.observers=new Set}addObserver(te){const _e=this.observers.size;this.observers.add(te),0===_e&&this.onFirstObserverAdded()}removeObserver(te){this.observers.delete(te)&&0===this.observers.size&&this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}}class Jt{constructor(te,_e){this._fn=te,this._getDebugName=_e,this.updatingObservers=[]}getDebugName(){return this._getDebugName?this._getDebugName():H(this._fn)}updateObserver(te,_e){this.updatingObservers.push({observer:te,observable:_e}),te.beginUpdate(_e)}finish(){const te=this.updatingObservers;for(let _e=0;_e<te.length;_e++){const{observer:Ke,observable:dt}=te[_e];Ke.endUpdate(dt)}this.updatingObservers=null}}var Ie,Bn=I(3929);!function De(Ie){xe=Ie}(function rt(Ie,te){return new je(new S(Ie.owner,Ie.debugName,Ie.debugReferenceFn),te,void 0,void 0,Ie.onLastObserverRemoved,Ie.equalsFn??f)});class je extends We{get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}constructor(te,_e,Ke,dt,Lt=void 0,Ut){super(),this._debugNameData=te,this._computeFn=_e,this.createChangeSummary=Ke,this._handleChange=dt,this._handleLastObserverRemoved=Lt,this._equalityComparator=Ut,this.state=0,this.value=void 0,this.updateCount=0,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=void 0,this.changeSummary=this.createChangeSummary?.()}onLastObserverRemoved(){this.state=0,this.value=void 0;for(const te of this.dependencies)te.removeObserver(this);this.dependencies.clear(),this._handleLastObserverRemoved?.()}get(){if(0===this.observers.size){const te=this._computeFn(this,this.createChangeSummary?.());return this.onLastObserverRemoved(),te}do{if(1===this.state)for(const te of this.dependencies)if(te.reportChanges(),2===this.state)break;1===this.state&&(this.state=3),this._recomputeIfNeeded()}while(3!==this.state);return this.value}_recomputeIfNeeded(){if(3===this.state)return;const te=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=te;const _e=0!==this.state,Ke=this.value;this.state=3;const dt=this.changeSummary;this.changeSummary=this.createChangeSummary?.();try{this.value=this._computeFn(this,dt)}finally{for(const Ut of this.dependenciesToBeRemoved)Ut.removeObserver(this);this.dependenciesToBeRemoved.clear()}const Lt=_e&&!this._equalityComparator(Ke,this.value);if(Lt)for(const Ut of this.observers)Ut.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(te){this.updateCount++;const _e=1===this.updateCount;if(3===this.state&&(this.state=1,!_e))for(const Ke of this.observers)Ke.handlePossibleChange(this);if(_e)for(const Ke of this.observers)Ke.beginUpdate(this)}endUpdate(te){if(this.updateCount--,0===this.updateCount){const _e=[...this.observers];for(const Ke of _e)Ke.endUpdate(this)}(0,Bn.Ft)(()=>this.updateCount>=0)}handlePossibleChange(te){if(3===this.state&&this.dependencies.has(te)&&!this.dependenciesToBeRemoved.has(te)){this.state=1;for(const _e of this.observers)_e.handlePossibleChange(this)}}handleChange(te,_e){if(this.dependencies.has(te)&&!this.dependenciesToBeRemoved.has(te)){const Ke=!this._handleChange||this._handleChange({changedObservable:te,change:_e,didChange:Lt=>Lt===te},this.changeSummary),dt=3===this.state;if(Ke&&(1===this.state||dt)&&(this.state=2,dt))for(const Lt of this.observers)Lt.handlePossibleChange(this)}}readObservable(te){te.addObserver(this);const _e=te.get();return this.dependencies.add(te),this.dependenciesToBeRemoved.delete(te),_e}addObserver(te){const _e=!this.observers.has(te)&&this.updateCount>0;super.addObserver(te),_e&&te.beginUpdate(this)}removeObserver(te){const _e=this.observers.has(te)&&this.updateCount>0;super.removeObserver(te),_e&&te.endUpdate(this)}}function Be(Ie){return new Vt(new S(void 0,void 0,Ie),Ie,void 0,void 0)}class Vt{get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}constructor(te,_e,Ke,dt){this._debugNameData=te,this._runFn=_e,this.createChangeSummary=Ke,this._handleChange=dt,this.state=2,this.updateCount=0,this.disposed=!1,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=this.createChangeSummary?.(),this._runIfNeeded(),(0,Z.Ay)(this)}dispose(){this.disposed=!0;for(const te of this.dependencies)te.removeObserver(this);this.dependencies.clear(),(0,Z.VD)(this)}_runIfNeeded(){if(3===this.state)return;const te=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=te,this.state=3;const _e=this.disposed;try{if(!_e){const Ke=this.changeSummary;this.changeSummary=this.createChangeSummary?.(),this._runFn(this,Ke)}}finally{for(const Ke of this.dependenciesToBeRemoved)Ke.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){3===this.state&&(this.state=1),this.updateCount++}endUpdate(){if(1===this.updateCount)do{if(1===this.state){this.state=3;for(const te of this.dependencies)if(te.reportChanges(),2===this.state)break}this._runIfNeeded()}while(3!==this.state);this.updateCount--,(0,Bn.Ft)(()=>this.updateCount>=0)}handlePossibleChange(te){3===this.state&&this.dependencies.has(te)&&!this.dependenciesToBeRemoved.has(te)&&(this.state=1)}handleChange(te,_e){this.dependencies.has(te)&&!this.dependenciesToBeRemoved.has(te)&&(!this._handleChange||this._handleChange({changedObservable:te,change:_e,didChange:dt=>dt===te},this.changeSummary))&&(this.state=2)}readObservable(te){if(this.disposed)return te.get();te.addObserver(this);const _e=te.get();return this.dependencies.add(te),this.dependenciesToBeRemoved.delete(te),_e}}function mn(...Ie){let te,_e,Ke;return 3===Ie.length?[te,_e,Ke]=Ie:[_e,Ke]=Ie,new Xt(new S(te,void 0,Ke),_e,Ke,()=>Xt.globalTransaction,f)}(Be||(Be={})).Observer=Vt;class Xt extends We{constructor(te,_e,Ke,dt,Lt){super(),this._debugNameData=te,this.event=_e,this._getValue=Ke,this._getTransaction=dt,this._equalityComparator=Lt,this.hasValue=!1,this.handleEvent=Ut=>{const Zt=this._getValue(Ut),$n=this.value,sn=!this.hasValue||!this._equalityComparator($n,Zt);let Vn=!1;sn&&(this.value=Zt,this.hasValue&&(Vn=!0,function St(Ie,te,_e){Ie?te(Ie):function ht(Ie,te){const _e=new Jt(Ie,te);try{Ie(_e)}finally{_e.finish()}}(te,_e)}(this._getTransaction(),Gn=>{for(const Jn of this.observers)Gn.updateObserver(Jn,this),Jn.handleChange(this,void 0)},()=>{const Gn=this.getDebugName();return"Event fired"+(Gn?`: ${Gn}`:"")})),this.hasValue=!0)}}getDebugName(){return this._debugNameData.getDebugName(this)}get debugName(){const te=this.getDebugName();return"From Event"+(te?`: ${te}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}}(Ie=mn||(mn={})).Observer=Xt,Ie.batchEventsGlobally=function te(_e,Ke){let dt=!1;void 0===Xt.globalTransaction&&(Xt.globalTransaction=_e,dt=!0);try{Ke()}finally{dt&&(Xt.globalTransaction=void 0)}},function ge(Ie){le=Ie}(function Kn(Ie){const te=new jn(!1,void 0);return Ie.addObserver(te),(0,Z.s)(()=>{Ie.removeObserver(te)})}),function J(Ie){P=Ie}(function Rn(Ie,te){const _e=new jn(!0,te);return Ie.addObserver(_e),te?te(Ie.get()):Ie.reportChanges(),(0,Z.s)(()=>{Ie.removeObserver(_e)})});class jn{constructor(te,_e){this._forceRecompute=te,this._handleValue=_e,this._counter=0}beginUpdate(te){this._counter++}endUpdate(te){this._counter--,0===this._counter&&this._forceRecompute&&(this._handleValue?this._handleValue(te.get()):te.reportChanges())}handlePossibleChange(te){}handleChange(te,_e){}}I(5680);let ri=(()=>{class Ie extends Z.jG{static{this.instanceCount=0}constructor(_e=!1){super(),this._onDidRequestBasicLanguageFeatures=this._register(new W.vl),this.onDidRequestBasicLanguageFeatures=this._onDidRequestBasicLanguageFeatures.event,this._onDidRequestRichLanguageFeatures=this._register(new W.vl),this.onDidRequestRichLanguageFeatures=this._onDidRequestRichLanguageFeatures.event,this._onDidChange=this._register(new W.vl({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,this._requestedBasicLanguages=new Set,this._requestedRichLanguages=new Set,Ie.instanceCount++,this._registry=this._register(new o.LanguagesRegistry(!0,_e)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){Ie.instanceCount--,super.dispose()}isRegisteredLanguageId(_e){return this._registry.isRegisteredLanguageId(_e)}getLanguageIdByLanguageName(_e){return this._registry.getLanguageIdByLanguageName(_e)}getLanguageIdByMimeType(_e){return this._registry.getLanguageIdByMimeType(_e)}guessLanguageIdByFilepathOrFirstLine(_e,Ke){const dt=this._registry.guessLanguageIdByFilepathOrFirstLine(_e,Ke);return(0,D.Fy)(dt,null)}createById(_e){return new Yn(this.onDidChange,()=>this._createAndGetLanguageIdentifier(_e))}createByFilepathOrFirstLine(_e,Ke){return new Yn(this.onDidChange,()=>{const dt=this.guessLanguageIdByFilepathOrFirstLine(_e,Ke);return this._createAndGetLanguageIdentifier(dt)})}_createAndGetLanguageIdentifier(_e){return(!_e||!this.isRegisteredLanguageId(_e))&&(_e=$.vH),_e}requestBasicLanguageFeatures(_e){this._requestedBasicLanguages.has(_e)||(this._requestedBasicLanguages.add(_e),this._onDidRequestBasicLanguageFeatures.fire(_e))}requestRichLanguageFeatures(_e){this._requestedRichLanguages.has(_e)||(this._requestedRichLanguages.add(_e),this.requestBasicLanguageFeatures(_e),C.dG.getOrCreate(_e),this._onDidRequestRichLanguageFeatures.fire(_e))}}return Ie})();class Yn{constructor(te,_e){this._value=mn(this,te,()=>_e()),this.onDidChange=W.Jh.fromObservable(this._value)}get languageId(){return this._value.get()}}},7059:(ft,Oe,I)=>{"use strict";I.r(Oe),I.d(Oe,{clearPlatformLanguageAssociations:()=>M,getLanguageIds:()=>E,registerPlatformLanguageAssociation:()=>K});var W=I(7441),Z=I(2323),o=I(5109),D=I(1824),C=I(6698),$=I(6653),f=I(7864);let B=[],F=[],ae=[];function K(_,w=!1){!function A(_,w,k){const U=function S(_,w){return{id:_.id,mime:_.mime,filename:_.filename,extension:_.extension,filepattern:_.filepattern,firstline:_.firstline,userConfigured:w,filenameLowercase:_.filename?_.filename.toLowerCase():void 0,extensionLowercase:_.extension?_.extension.toLowerCase():void 0,filepatternLowercase:_.filepattern?(0,W.qg)(_.filepattern.toLowerCase()):void 0,filepatternOnPath:!!_.filepattern&&_.filepattern.indexOf(D.SA.sep)>=0}}(_,w);B.push(U),U.userConfigured?ae.push(U):F.push(U),k&&!U.userConfigured&&B.forEach(H=>{H.mime===U.mime||H.userConfigured||(U.extension&&H.extension===U.extension&&console.warn(`Overwriting extension <<${U.extension}>> to now point to mime <<${U.mime}>>`),U.filename&&H.filename===U.filename&&console.warn(`Overwriting filename <<${U.filename}>> to now point to mime <<${U.mime}>>`),U.filepattern&&H.filepattern===U.filepattern&&console.warn(`Overwriting filepattern <<${U.filepattern}>> to now point to mime <<${U.mime}>>`),U.firstline&&H.firstline===U.firstline&&console.warn(`Overwriting firstline <<${U.firstline}>> to now point to mime <<${U.mime}>>`))})}(_,!1,w)}function M(){B=B.filter(_=>_.userConfigured),F=[]}function E(_,w){return function p(_,w){let k;if(_)switch(_.scheme){case o.ny.file:k=_.fsPath;break;case o.ny.data:k=C.B6.parseMetaData(_).get(C.B6.META_DATA_LABEL);break;case o.ny.vscodeNotebookCell:k=void 0;break;default:k=_.path}if(!k)return[{id:"unknown",mime:Z.K.unknown}];k=k.toLowerCase();const U=(0,D.P8)(k),H=Ce(k,U,ae);if(H)return[H,{id:f.vH,mime:Z.K.text}];const j=Ce(k,U,F);if(j)return[j,{id:f.vH,mime:Z.K.text}];if(w){const y=function me(_){if((0,$.LU)(_)&&(_=_.substr(1)),_.length>0)for(let w=B.length-1;w>=0;w--){const k=B[w];if(!k.firstline)continue;const U=_.match(k.firstline);if(U&&U.length>0)return k}}(w);if(y)return[y,{id:f.vH,mime:Z.K.text}]}return[{id:"unknown",mime:Z.K.unknown}]}(_,w).map(k=>k.id)}function Ce(_,w,k){let U,H,j;for(let y=k.length-1;y>=0;y--){const O=k[y];if(w===O.filenameLowercase){U=O;break}if(O.filepattern&&(!H||O.filepattern.length>H.filepattern.length)){const G=O.filepatternOnPath?_:w;O.filepatternLowercase?.(G)&&(H=O)}O.extension&&(!j||O.extension.length>j.extension.length)&&w.endsWith(O.extensionLowercase)&&(j=O)}return U||H||j||void 0}},3908:(ft,Oe,I)=>{"use strict";I.r(Oe),I.d(Oe,{LanguageIdCodec:()=>ae,LanguagesRegistry:()=>K});var W=I(5643),Z=I(4061),o=I(6653),D=I(7059),C=I(7864),$=I(987),f=I(7018);const B=Object.prototype.hasOwnProperty,F="vs.editor.nullLanguage";class ae{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(F,0),this._register(C.vH,1),this._nextLanguageId=2}_register(S,M){this._languageIdToLanguage[M]=S,this._languageToLanguageId.set(S,M)}register(S){if(this._languageToLanguageId.has(S))return;const M=this._nextLanguageId++;this._register(S,M)}encodeLanguageId(S){return this._languageToLanguageId.get(S)||0}decodeLanguageId(S){return this._languageIdToLanguage[S]||F}}let K=(()=>{class A extends Z.jG{static{this.instanceCount=0}constructor(M=!0,E=!1){super(),this._onDidChange=this._register(new W.vl),this.onDidChange=this._onDidChange.event,A.instanceCount++,this._warnOnOverwrite=E,this.languageIdCodec=new ae,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},M&&(this._initializeFromRegistry(),this._register(C.W6.onDidChangeLanguages(p=>{this._initializeFromRegistry()})))}dispose(){A.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},(0,D.clearPlatformLanguageAssociations)();const M=[].concat(C.W6.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(M)}_registerLanguages(M){for(const E of M)this._registerLanguage(E);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(E=>{const p=this._languages[E];p.name&&(this._nameMap[p.name]=p.identifier),p.aliases.forEach(Ce=>{this._lowercaseNameMap[Ce.toLowerCase()]=p.identifier}),p.mimetypes.forEach(Ce=>{this._mimeTypesMap[Ce]=p.identifier})}),f.O.as($.Fd.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(M){const E=M.id;let p;B.call(this._languages,E)?p=this._languages[E]:(this.languageIdCodec.register(E),p={identifier:E,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[E]=p),this._mergeLanguage(p,M)}_mergeLanguage(M,E){const p=E.id;let Ce=null;if(Array.isArray(E.mimetypes)&&E.mimetypes.length>0&&(M.mimetypes.push(...E.mimetypes),Ce=E.mimetypes[0]),Ce||(Ce=`text/x-${p}`,M.mimetypes.push(Ce)),Array.isArray(E.extensions)){M.extensions=E.configuration?E.extensions.concat(M.extensions):M.extensions.concat(E.extensions);for(const w of E.extensions)(0,D.registerPlatformLanguageAssociation)({id:p,mime:Ce,extension:w},this._warnOnOverwrite)}if(Array.isArray(E.filenames))for(const w of E.filenames)(0,D.registerPlatformLanguageAssociation)({id:p,mime:Ce,filename:w},this._warnOnOverwrite),M.filenames.push(w);if(Array.isArray(E.filenamePatterns))for(const w of E.filenamePatterns)(0,D.registerPlatformLanguageAssociation)({id:p,mime:Ce,filepattern:w},this._warnOnOverwrite);if("string"==typeof E.firstLine&&E.firstLine.length>0){let w=E.firstLine;"^"!==w.charAt(0)&&(w="^"+w);try{const k=new RegExp(w);(0,o.eY)(k)||(0,D.registerPlatformLanguageAssociation)({id:p,mime:Ce,firstline:k},this._warnOnOverwrite)}catch(k){console.warn(`[${E.id}]: Invalid regular expression \`${w}\`: `,k)}}M.aliases.push(p);let me=null;if(typeof E.aliases<"u"&&Array.isArray(E.aliases)&&(me=0===E.aliases.length?[null]:E.aliases),null!==me)for(const w of me)!w||0===w.length||M.aliases.push(w);const _=null!==me&&me.length>0;_&&null===me[0]||(_||!M.name)&&(M.name=(_?me[0]:null)||p),E.configuration&&M.configurationFiles.push(E.configuration),E.icon&&M.icons.push(E.icon)}isRegisteredLanguageId(M){return!!M&&B.call(this._languages,M)}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(M){const E=M.toLowerCase();return B.call(this._lowercaseNameMap,E)?this._lowercaseNameMap[E]:null}getLanguageIdByMimeType(M){return M&&B.call(this._mimeTypesMap,M)?this._mimeTypesMap[M]:null}guessLanguageIdByFilepathOrFirstLine(M,E){return M||E?(0,D.getLanguageIds)(M,E):[]}}return A})()},9313:(ft,Oe,I)=>{"use strict";I.r(Oe),I.d(Oe,{IMarkerDecorationsService:()=>Z});const Z=(0,I(598).u1)("markerDecorationsService")},5901:(ft,Oe,I)=>{"use strict";I.r(Oe),I.d(Oe,{MarkerDecorationsService:()=>H});var W=I(6653),Z=function(y){return y[y.Ignore=0]="Ignore",y[y.Info=1]="Info",y[y.Warning=2]="Warning",y[y.Error=3]="Error",y}(Z||{});!function(y){const O="error",G="warning",z="info";y.fromValue=function he(ne){return ne?W.Q_(O,ne)?y.Error:W.Q_(G,ne)||W.Q_("warn",ne)?y.Warning:W.Q_(z,ne)?y.Info:y.Ignore:y.Ignore},y.toString=function pe(ne){switch(ne){case y.Error:return O;case y.Warning:return G;case y.Info:return z;default:return"ignore"}}}(Z||(Z={}));const o=Z;var f,D=I(1913),C=I(598),$=function(y){return y[y.Hint=1]="Hint",y[y.Info=2]="Info",y[y.Warning=4]="Warning",y[y.Error=8]="Error",y}($||{});!function(y){y.compare=function O(he,pe){return pe-he};const G=Object.create(null);G[y.Error]=(0,D.kg)("sev.error","Error"),G[y.Warning]=(0,D.kg)("sev.warning","Warning"),G[y.Info]=(0,D.kg)("sev.info","Info"),y.toString=function T(he){return G[he]||""},y.fromSeverity=function z(he){switch(he){case o.Error:return y.Error;case o.Warning:return y.Warning;case o.Info:return y.Info;case o.Ignore:return y.Hint}},y.toSeverity=function ee(he){switch(he){case y.Error:return o.Error;case y.Warning:return o.Warning;case y.Info:return o.Info;case y.Hint:return o.Ignore}}}($||($={})),function(y){const O="";function T(z,ee){const he=[O];return he.push(z.source?z.source.replace("\xa6","\\\xa6"):O),he.push(z.code?"string"==typeof z.code?z.code.replace("\xa6","\\\xa6"):z.code.value.replace("\xa6","\\\xa6"):O),he.push(null!=z.severity?$.toString(z.severity):O),he.push(z.message&&ee?z.message.replace("\xa6","\\\xa6"):O),he.push(null!=z.startLineNumber?z.startLineNumber.toString():O),he.push(null!=z.startColumn?z.startColumn.toString():O),he.push(null!=z.endLineNumber?z.endLineNumber.toString():O),he.push(null!=z.endColumn?z.endColumn.toString():O),he.push(O),he.join("\xa6")}y.makeKey=function G(z){return T(z,!0)},y.makeKeyOptionalMessage=T}(f||(f={}));const B=(0,C.u1)("markerService");var F=I(4061),ae=I(3782),K=I(7464),A=I(976),S=I(1925),M=I(3678),E=I(5109),p=I(5643),Ce=I(5478),me=I(53),U=function(y,O){return function(G,T){O(G,T,y)}};let H=class extends F.jG{constructor(O,G){super(),this._markerService=G,this._onDidChangeMarker=this._register(new p.vl),this._markerDecorations=new me.fT,O.getModels().forEach(T=>this._onModelAdded(T)),this._register(O.onModelAdded(this._onModelAdded,this)),this._register(O.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(O=>O.dispose()),this._markerDecorations.clear()}getMarker(O,G){const T=this._markerDecorations.get(O);return T&&T.getMarker(G)||null}_handleMarkerChange(O){O.forEach(G=>{const T=this._markerDecorations.get(G);T&&this._updateDecorations(T)})}_onModelAdded(O){const G=new j(O);this._markerDecorations.set(O.uri,G),this._updateDecorations(G)}_onModelRemoved(O){const G=this._markerDecorations.get(O.uri);G&&(G.dispose(),this._markerDecorations.delete(O.uri)),(O.uri.scheme===E.ny.inMemory||O.uri.scheme===E.ny.internal||O.uri.scheme===E.ny.vscode)&&this._markerService?.read({resource:O.uri}).map(T=>T.owner).forEach(T=>this._markerService.remove(T,[O.uri]))}_updateDecorations(O){const G=this._markerService.read({resource:O.model.uri,take:500});O.update(G)&&this._onDidChangeMarker.fire(O.model)}};H=function(y,O,G,T){var he,z=arguments.length,ee=z<3?O:null===T?T=Object.getOwnPropertyDescriptor(O,G):T;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ee=Reflect.decorate(y,O,G,T);else for(var pe=y.length-1;pe>=0;pe--)(he=y[pe])&&(ee=(z<3?he(ee):z>3?he(O,G,ee):he(O,G))||ee);return z>3&&ee&&Object.defineProperty(O,G,ee),ee}([U(0,S.IModelService),U(1,B)],H);class j extends F.jG{constructor(O){super(),this.model=O,this._map=new me.cO,this._register((0,F.s)(()=>{this.model.deltaDecorations([...this._map.values()],[]),this._map.clear()}))}update(O){const{added:G,removed:T}=function _(y,O){const G=[],T=[];for(const z of y)O.has(z)||G.push(z);for(const z of O)y.has(z)||T.push(z);return{removed:G,added:T}}(new Set(this._map.keys()),new Set(O));if(0===G.length&&0===T.length)return!1;const z=T.map(pe=>this._map.get(pe)),ee=G.map(pe=>({range:this._createDecorationRange(this.model,pe),options:this._createDecorationOption(pe)})),he=this.model.deltaDecorations(z,ee);for(const pe of T)this._map.delete(pe);for(let pe=0;pe<he.length;pe++)this._map.set(G[pe],he[pe]);return!0}getMarker(O){return this._map.getKey(O.id)}_createDecorationRange(O,G){let T=M.Q.lift(G);if(G.severity===$.Hint&&!this._hasMarkerTag(G,1)&&!this._hasMarkerTag(G,2)&&(T=T.setEndPosition(T.startLineNumber,T.startColumn+2)),T=O.validateRange(T),T.isEmpty()){const z=O.getLineLastNonWhitespaceColumn(T.startLineNumber)||O.getLineMaxColumn(T.startLineNumber);if(1===z||T.endColumn>=z)return T;const ee=O.getWordAtPosition(T.getStartPosition());ee&&(T=new M.Q(T.startLineNumber,ee.startColumn,T.endLineNumber,ee.endColumn))}else if(G.endColumn===Number.MAX_VALUE&&1===G.startColumn&&T.startLineNumber===T.endLineNumber){const z=O.getLineFirstNonWhitespaceColumn(G.startLineNumber);z<T.endColumn&&(T=new M.Q(T.startLineNumber,z,T.endLineNumber,T.endColumn),G.startColumn=z)}return T}_createDecorationOption(O){let G,T,z,ee,he;switch(O.severity){case $.Hint:G=this._hasMarkerTag(O,2)?void 0:this._hasMarkerTag(O,1)?"squiggly-unnecessary":"squiggly-hint",z=0;break;case $.Info:G="squiggly-info",T=(0,K.Yf)(A.AQ),z=10,he={color:(0,K.Yf)(Ce.KoI),position:1};break;case $.Warning:G="squiggly-warning",T=(0,K.Yf)(A.aZ),z=20,he={color:(0,K.Yf)(Ce.uMG),position:1};break;default:G="squiggly-error",T=(0,K.Yf)(A.yI),z=30,he={color:(0,K.Yf)(Ce.yLC),position:1}}return O.tags&&(-1!==O.tags.indexOf(1)&&(ee="squiggly-inline-unnecessary"),-1!==O.tags.indexOf(2)&&(ee="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:G,showIfCollapsed:!0,overviewRuler:{color:T,position:ae.A5.Right},minimap:he,zIndex:z,inlineClassName:ee}}_hasMarkerTag(O,G){return!!O.tags&&O.tags.indexOf(G)>=0}}},1925:(ft,Oe,I)=>{"use strict";I.r(Oe),I.d(Oe,{IModelService:()=>Z});const Z=(0,I(598).u1)("modelService")},9557:(ft,Oe,I)=>{"use strict";I.r(Oe),I.d(Oe,{DefaultModelSHA1Computer:()=>Es,ModelService:()=>cs});var W=I(5643),Z=I(4061),o=I(1828),D=I(833),C=I(4072),$=I(5680),f=I(6653),B=I(2417),F=I(5583);class ae{static _nextVisibleColumn(e,t,i){return 9===e?ae.nextRenderTabStop(t,i):f.ne(e)||f.Ss(e)?t+2:t+1}static visibleColumnFromColumn(e,t,i){const s=Math.min(t-1,e.length),a=e.substring(0,s),h=new f.km(a);let b=0;for(;!h.eol();){const N=f.Z5(a,s,h.offset);h.nextGraphemeLength(),b=this._nextVisibleColumn(N,b,i)}return b}static columnFromVisibleColumn(e,t,i){if(t<=0)return 1;const s=e.length,a=new f.km(e);let h=0,b=1;for(;!a.eol();){const N=f.Z5(e,s,a.offset);a.nextGraphemeLength();const X=this._nextVisibleColumn(N,h,i),re=a.offset+1;if(X>=t)return X-t<t-h?re:b;h=X,b=re}return s+1}static nextRenderTabStop(e,t){return e+t-e%t}static nextIndentTabStop(e,t){return e+t-e%t}static prevRenderTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}static prevIndentTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}}var S=I(3632),M=I(3678),E=I(4105);const p={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}};var Ce=I(385),me=I(199),_=function(g){return g[g.None=0]="None",g[g.Indent=1]="Indent",g[g.IndentOutdent=2]="IndentOutdent",g[g.Outdent=3]="Outdent",g}(_||{});class w{constructor(e){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=e.open,this.close=e.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(e.notIn))for(let t=0,i=e.notIn.length;t<i;t++)switch(e.notIn[t]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1}}isOK(e){switch(e){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(e,t){if(0===e.getTokenCount())return!0;const i=e.findTokenIndexAtOffset(t-2),s=e.getStandardTokenType(i);return this.isOK(s)}_findNeutralCharacterInRange(e,t){for(let i=e;i<=t;i++){const s=String.fromCharCode(i);if(!this.open.includes(s)&&!this.close.includes(s))return s}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}class k{constructor(e){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const t of e)U(this.autoClosingPairsOpenByStart,t.open.charAt(0),t),U(this.autoClosingPairsOpenByEnd,t.open.charAt(t.open.length-1),t),U(this.autoClosingPairsCloseByStart,t.close.charAt(0),t),U(this.autoClosingPairsCloseByEnd,t.close.charAt(t.close.length-1),t),1===t.close.length&&1===t.open.length&&U(this.autoClosingPairsCloseSingleChar,t.close,t)}}function U(g,e,t){g.has(e)?g.get(e).push(t):g.set(e,[t])}let H=(()=>{class g{static{this.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES=";:.,=}])> \n\t"}static{this.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS="'\"`;:.,=}])> \n\t"}constructor(t){if(this._autoClosingPairs=t.autoClosingPairs?t.autoClosingPairs.map(i=>new w(i)):t.brackets?t.brackets.map(i=>new w({open:i[0],close:i[1]})):[],t.__electricCharacterSupport&&t.__electricCharacterSupport.docComment){const i=t.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new w({open:i.open,close:i.close||""}))}this._autoCloseBeforeForQuotes="string"==typeof t.autoCloseBefore?t.autoCloseBefore:g.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES,this._autoCloseBeforeForBrackets="string"==typeof t.autoCloseBefore?t.autoCloseBefore:g.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS,this._surroundingPairs=t.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(t){return t?this._autoCloseBeforeForQuotes:this._autoCloseBeforeForBrackets}getSurroundingPairs(){return this._surroundingPairs}}return g})();function O(g){return!!(3&g)}var G=I(3233);let T,ee,pe;function z(){return T||(T=new TextDecoder("UTF-16LE")),T}class P{constructor(e,t,i,s,a,h){this._richEditBracketBrand=void 0,this.languageId=e,this.index=t,this.open=i,this.close=s,this.forwardRegex=a,this.reversedRegex=h,this._openSet=P._toSet(this.open),this._closeSet=P._toSet(this.close)}isOpen(e){return this._openSet.has(e)}isClose(e){return this._closeSet.has(e)}static _toSet(e){const t=new Set;for(const i of e)t.add(i);return t}}class le{constructor(e,t){this._richEditBracketsBrand=void 0;const i=function J(g){const e=g.length;g=g.map(h=>[h[0].toLowerCase(),h[1].toLowerCase()]);const t=[];for(let h=0;h<e;h++)t[h]=h;const i=(h,b)=>{const[N,X]=h,[re,se]=b;return N===re||N===se||X===re||X===se},s=(h,b)=>{const N=Math.min(h,b),X=Math.max(h,b);for(let re=0;re<e;re++)t[re]===X&&(t[re]=N)};for(let h=0;h<e;h++){const b=g[h];for(let N=h+1;N<e;N++)i(b,g[N])&&s(t[h],t[N])}const a=[];for(let h=0;h<e;h++){const b=[],N=[];for(let X=0;X<e;X++)if(t[X]===h){const[re,se]=g[X];b.push(re),N.push(se)}b.length>0&&a.push({open:b,close:N})}return a}(t);this.brackets=i.map((s,a)=>new P(e,a,s.open,s.close,function ze(g,e,t,i){let s=[];s=s.concat(g),s=s.concat(e);for(let a=0,h=s.length;a<h;a++)ge(s[a],t,i,s);return s=De(s),s.sort(xe),s.reverse(),nt(s)}(s.open,s.close,i,a),function We(g,e,t,i){let s=[];s=s.concat(g),s=s.concat(e);for(let a=0,h=s.length;a<h;a++)ge(s[a],t,i,s);return s=De(s),s.sort(xe),s.reverse(),nt(s.map(ot))}(s.open,s.close,i,a))),this.forwardRegex=function ht(g){let e=[];for(const t of g){for(const i of t.open)e.push(i);for(const i of t.close)e.push(i)}return e=De(e),nt(e)}(this.brackets),this.reversedRegex=function et(g){let e=[];for(const t of g){for(const i of t.open)e.push(i);for(const i of t.close)e.push(i)}return e=De(e),nt(e.map(ot))}(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const s of this.brackets){for(const a of s.open)this.textIsBracket[a]=s,this.textIsOpenBracket[a]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,a.length);for(const a of s.close)this.textIsBracket[a]=s,this.textIsOpenBracket[a]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,a.length)}}}function ge(g,e,t,i){for(let s=0,a=e.length;s<a;s++){if(s===t)continue;const h=e[s];for(const b of h.open)b.indexOf(g)>=0&&i.push(b);for(const b of h.close)b.indexOf(g)>=0&&i.push(b)}}function xe(g,e){return g.length-e.length}function De(g){if(g.length<=1)return g;const e=[],t=new Set;for(const i of g)t.has(i)||(e.push(i),t.add(i));return e}function mt(g){const e=/^[\w ]+$/.test(g);return g=f.bm(g),e?`\\b${g}\\b`:g}function nt(g,e){const t=`(${g.map(mt).join(")|(")})`;return f.OS(t,!0,e)}const ot=function(){let e=null,t=null;return function(s){return e!==s&&(e=s,t=function g(i){const s=new Uint16Array(i.length);let a=0;for(let h=i.length-1;h>=0;h--)s[a++]=i.charCodeAt(h);return function ne(){return pe||(pe=o.cm()?z():function he(){return ee||(ee=new TextDecoder("UTF-16BE")),ee}()),pe}().decode(s)}(e)),t}}();class St{static _findPrevBracketInText(e,t,i,s){const a=i.match(e);if(!a)return null;const N=s+(i.length-(a.index||0));return new M.Q(t,N-a[0].length+1,t,N+1)}static findPrevBracketInRange(e,t,i,s,a){const b=ot(i).substring(i.length-a,i.length-s);return this._findPrevBracketInText(e,t,b,s)}static findNextBracketInText(e,t,i,s){const a=i.match(e);if(!a)return null;const b=a[0].length;if(0===b)return null;const N=s+(a.index||0);return new M.Q(t,N+1,t,N+1+b)}static findNextBracketInRange(e,t,i,s,a){const h=i.substring(s,a);return this.findNextBracketInText(e,t,h,s)}}class Jt{constructor(e){this._richEditBrackets=e}getElectricCharacters(){const e=[];if(this._richEditBrackets)for(const t of this._richEditBrackets.brackets)for(const i of t.close){const s=i.charAt(i.length-1);e.push(s)}return(0,D.dM)(e)}onElectricCharacter(e,t,i){if(!this._richEditBrackets||0===this._richEditBrackets.brackets.length)return null;const s=t.findTokenIndexAtOffset(i-1);if(O(t.getStandardTokenType(s)))return null;const a=this._richEditBrackets.reversedRegex,h=t.getLineContent().substring(0,i-1)+e,b=St.findPrevBracketInRange(a,1,h,0,h.length);if(!b)return null;const N=h.substring(b.startColumn-1,b.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[N])return null;const re=t.getActualLineContentBefore(b.startColumn-1);return/^\s*$/.test(re)?{matchOpenBracket:N}:null}}function rn(g){return g.global&&(g.lastIndex=0),!0}class qt{constructor(e){this._indentationRules=e}shouldIncrease(e){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&rn(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(e))}shouldDecrease(e){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&rn(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(e))}shouldIndentNextLine(e){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&rn(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(e))}shouldIgnore(e){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&rn(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(e))}getIndentMetadata(e){let t=0;return this.shouldIncrease(e)&&(t+=1),this.shouldDecrease(e)&&(t+=2),this.shouldIndentNextLine(e)&&(t+=4),this.shouldIgnore(e)&&(t+=8),t}}class hn{constructor(e){(e=e||{}).brackets=e.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],e.brackets.forEach(t=>{const i=hn._createOpenBracketRegExp(t[0]),s=hn._createCloseBracketRegExp(t[1]);i&&s&&this._brackets.push({open:t[0],openRegExp:i,close:t[1],closeRegExp:s})}),this._regExpRules=e.onEnterRules||[]}onEnter(e,t,i,s){if(e>=3)for(let a=0,h=this._regExpRules.length;a<h;a++){const b=this._regExpRules[a];if([{reg:b.beforeText,text:i},{reg:b.afterText,text:s},{reg:b.previousLineText,text:t}].every(X=>!X.reg||(X.reg.lastIndex=0,X.reg.test(X.text))))return b.action}if(e>=2&&i.length>0&&s.length>0)for(let a=0,h=this._brackets.length;a<h;a++){const b=this._brackets[a];if(b.openRegExp.test(i)&&b.closeRegExp.test(s))return{indentAction:_.IndentOutdent}}if(e>=2&&i.length>0)for(let a=0,h=this._brackets.length;a<h;a++)if(this._brackets[a].openRegExp.test(i))return{indentAction:_.Indent};return null}static _createOpenBracketRegExp(e){let t=f.bm(e);return/\B/.test(t.charAt(0))||(t="\\b"+t),t+="\\s*$",hn._safeRegExp(t)}static _createCloseBracketRegExp(e){let t=f.bm(e);return/\B/.test(t.charAt(t.length-1))||(t+="\\b"),t="^\\s*"+t,hn._safeRegExp(t)}static _safeRegExp(e){try{return new RegExp(e)}catch(t){return(0,$.dz)(t),null}}}var Sn=I(598),Bn=I(5072),Ln=I(2534),_t=I(7864),rt=I(9969);class Je{constructor(e,t){this.languageId=e;const i=t.brackets?x(t.brackets):[],s=new rt.VV(b=>{const N=new Set;return{info:new je(this,b,N),closing:N}}),a=new rt.VV(b=>{const N=new Set,X=new Set;return{info:new Q(this,b,N,X),opening:N,openingColorized:X}});for(const[b,N]of i){const X=s.get(b),re=a.get(N);X.closing.add(re.info),re.opening.add(X.info)}const h=t.colorizedBracketPairs?x(t.colorizedBracketPairs):i.filter(b=>!("<"===b[0]&&">"===b[1]));for(const[b,N]of h){const X=s.get(b),re=a.get(N);X.closing.add(re.info),re.openingColorized.add(X.info),re.opening.add(X.info)}this._openingBrackets=new Map([...s.cachedValues].map(([b,N])=>[b,N.info])),this._closingBrackets=new Map([...a.cachedValues].map(([b,N])=>[b,N.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(e){return this._openingBrackets.get(e)}getClosingBracketInfo(e){return this._closingBrackets.get(e)}getBracketInfo(e){return this.getOpeningBracketInfo(e)||this.getClosingBracketInfo(e)}getBracketRegExp(e){return nt(Array.from([...this._openingBrackets.keys(),...this._closingBrackets.keys()]),e)}}function x(g){return g.filter(([e,t])=>""!==e&&""!==t)}class ue{constructor(e,t){this.config=e,this.bracketText=t}get languageId(){return this.config.languageId}}class je extends ue{constructor(e,t,i){super(e,t),this.openedBrackets=i,this.isOpeningBracket=!0}}class Q extends ue{constructor(e,t,i,s){super(e,t),this.openingBrackets=i,this.openingColorizedBrackets=s,this.isOpeningBracket=!1}closes(e){return e.config===this.config&&this.openingBrackets.has(e)}closesColorized(e){return e.config===this.config&&this.openingColorizedBrackets.has(e)}getOpeningBrackets(){return[...this.openingBrackets]}}var Ue=function(g,e){return function(t,i){e(t,i,g)}};class st{constructor(e){this.languageId=e}affects(e){return!this.languageId||this.languageId===e}}const kt=(0,Sn.u1)("languageConfigurationService");let n=class extends Z.jG{constructor(e,t){super(),this.configurationService=e,this.languageService=t,this._registry=this._register(new xn),this.onDidChangeEmitter=this._register(new W.vl),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const i=new Set(Object.values(Ht));this._register(this.configurationService.onDidChangeConfiguration(s=>{const a=s.change.keys.some(b=>i.has(b)),h=s.change.overrides.filter(([b,N])=>N.some(X=>i.has(X))).map(([b])=>b);if(a)this.configurations.clear(),this.onDidChangeEmitter.fire(new st(void 0));else for(const b of h)this.languageService.isRegisteredLanguageId(b)&&(this.configurations.delete(b),this.onDidChangeEmitter.fire(new st(b)))})),this._register(this._registry.onDidChange(s=>{this.configurations.delete(s.languageId),this.onDidChangeEmitter.fire(new st(s.languageId))}))}register(e,t,i){return this._registry.register(e,t,i)}getLanguageConfiguration(e){let t=this.configurations.get(e);return t||(t=function Vt(g,e,t,i){let s=e.getLanguageConfiguration(g);if(!s){if(!i.isRegisteredLanguageId(g))return new Kn(g,{});s=new Kn(g,{})}const a=function tn(g,e){const t=e.getValue(Ht.brackets,{overrideIdentifier:g}),i=e.getValue(Ht.colorizedBracketPairs,{overrideIdentifier:g});return{brackets:mn(t),colorizedBracketPairs:mn(i)}}(s.languageId,t),h=Gt([s.underlyingConfig,a]);return new Kn(s.languageId,h)}(e,this._registry,this.configurationService,this.languageService),this.configurations.set(e,t)),t}};n=function(g,e,t,i){var h,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(g,e,t,i);else for(var b=g.length-1;b>=0;b--)(h=g[b])&&(a=(s<3?h(a):s>3?h(e,t,a):h(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([Ue(0,Bn.pG),Ue(1,Ce.L)],n);const Ht={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function mn(g){if(Array.isArray(g))return g.map(e=>{if(Array.isArray(e)&&2===e.length)return[e[0],e[1]]}).filter(e=>!!e)}class Xt{constructor(e){this.languageId=e,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(e,t){const i=new nn(e,t,++this._order);return this._entries.push(i),this._resolved=null,(0,Z.s)(()=>{for(let s=0;s<this._entries.length;s++)if(this._entries[s]===i){this._entries.splice(s,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const e=this._resolve();e&&(this._resolved=new Kn(this.languageId,e))}return this._resolved}_resolve(){return 0===this._entries.length?null:(this._entries.sort(nn.cmp),Gt(this._entries.map(e=>e.configuration)))}}function Gt(g){let e={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const t of g)e={comments:t.comments||e.comments,brackets:t.brackets||e.brackets,wordPattern:t.wordPattern||e.wordPattern,indentationRules:t.indentationRules||e.indentationRules,onEnterRules:t.onEnterRules||e.onEnterRules,autoClosingPairs:t.autoClosingPairs||e.autoClosingPairs,surroundingPairs:t.surroundingPairs||e.surroundingPairs,autoCloseBefore:t.autoCloseBefore||e.autoCloseBefore,folding:t.folding||e.folding,colorizedBracketPairs:t.colorizedBracketPairs||e.colorizedBracketPairs,__electricCharacterSupport:t.__electricCharacterSupport||e.__electricCharacterSupport};return e}class nn{constructor(e,t,i){this.configuration=e,this.priority=t,this.order=i}static cmp(e,t){return e.priority===t.priority?e.order-t.order:e.priority-t.priority}}class _n{constructor(e){this.languageId=e}}class xn extends Z.jG{constructor(){super(),this._entries=new Map,this._onDidChange=this._register(new W.vl),this.onDidChange=this._onDidChange.event,this._register(this.register(_t.vH,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(e,t,i=0){let s=this._entries.get(e);s||(s=new Xt(e),this._entries.set(e,s));const a=s.register(t,i);return this._onDidChange.fire(new _n(e)),(0,Z.s)(()=>{a.dispose(),this._onDidChange.fire(new _n(e))})}getLanguageConfiguration(e){return this._entries.get(e)?.getResolvedConfiguration()||null}}class Kn{constructor(e,t){this.languageId=e,this.underlyingConfig=t,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new hn(this.underlyingConfig):null,this.comments=Kn._handleComments(this.underlyingConfig),this.characterPair=new H(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||me.Ld,this.indentationRules=this.underlyingConfig.indentationRules,this.indentRulesSupport=this.underlyingConfig.indentationRules?new qt(this.underlyingConfig.indentationRules):null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new Je(e,this.underlyingConfig)}getWordDefinition(){return(0,me.Io)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new le(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new Jt(this.brackets)),this._electricCharacter}onEnter(e,t,i,s){return this._onEnterSupport?this._onEnterSupport.onEnter(e,t,i,s):null}getAutoClosingPairs(){return new k(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(e){return this.characterPair.getAutoCloseBeforeSet(e)}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(e){const t=e.comments;if(!t)return null;const i={};if(t.lineComment&&(i.lineCommentToken=t.lineComment),t.blockComment){const[s,a]=t.blockComment;i.blockCommentStartToken=s,i.blockCommentEndToken=a}return i}}(0,Ln.v)(kt,n,1);var Rn=I(3782);class jn{constructor(e,t,i,s){this.range=e,this.nestingLevel=t,this.nestingLevelOfEqualBracketType=i,this.isInvalid=s}}class Ei{constructor(e,t,i,s,a,h){this.range=e,this.openingBracketRange=t,this.closingBracketRange=i,this.nestingLevel=s,this.nestingLevelOfEqualBracketType=a,this.bracketPairNode=h}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}class Ai extends Ei{constructor(e,t,i,s,a,h,b){super(e,t,i,s,a,h),this.minVisibleColumnIndentation=b}}var Ii=I(7676);const Tn=0;function gi(g){return 0===g}const Mn=2**26;function bn(g,e){return g*Mn+e}function On(g){const e=g,t=Math.floor(e/Mn);return new Ii.W(t,e-t*Mn)}function gn(g,e){let t=g+e;return e>=Mn&&(t-=g%Mn),t}function Ti(g,e){return g.reduce((t,i)=>gn(t,e(i)),Tn)}function Ni(g,e){return g===e}function ri(g,e){const t=g,i=e;if(i-t<=0)return Tn;const a=Math.floor(t/Mn),h=Math.floor(i/Mn),b=i-h*Mn;return a===h?bn(0,b-(t-a*Mn)):bn(h-a,b)}function Yn(g,e){return g<e}function Ie(g,e){return g<=e}function te(g,e){return g>=e}function _e(g){return bn(g.lineNumber-1,g.column-1)}function Ke(g,e){const t=g,i=Math.floor(t/Mn),s=t-i*Mn,a=e,h=Math.floor(a/Mn);return new M.Q(i+1,s+1,h+1,a-h*Mn+1)}class Lt{static fromModelContentChanges(e){return e.map(i=>{const s=M.Q.lift(i.range);return new Lt(_e(s.getStartPosition()),_e(s.getEndPosition()),function dt(g){const e=(0,f.uz)(g);return bn(e.length-1,e[e.length-1].length)}(i.text))}).reverse()}constructor(e,t,i){this.startOffset=e,this.endOffset=t,this.newLength=i}toString(){return`[${On(this.startOffset)}...${On(this.endOffset)}) -> ${On(this.newLength)}`}}class Ut{constructor(e){this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=e.map(t=>Zt.from(t))}getOffsetBeforeChange(e){return this.adjustNextEdit(e),this.translateCurToOld(e)}getDistanceToNextChange(e){this.adjustNextEdit(e);const t=this.edits[this.nextEditIdx],i=t?this.translateOldToCur(t.offsetObj):null;return null===i?null:ri(e,i)}translateOldToCur(e){return bn(e.lineCount+this.deltaOldToNewLineCount,e.lineCount===this.deltaLineIdxInOld?e.columnCount+this.deltaOldToNewColumnCount:e.columnCount)}translateCurToOld(e){const t=On(e);return bn(t.lineCount-this.deltaOldToNewLineCount,t.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?t.columnCount-this.deltaOldToNewColumnCount:t.columnCount)}adjustNextEdit(e){for(;this.nextEditIdx<this.edits.length;){const t=this.edits[this.nextEditIdx],i=this.translateOldToCur(t.endOffsetAfterObj);if(!Ie(i,e))break;{this.nextEditIdx++;const s=On(i),a=On(this.translateOldToCur(t.endOffsetBeforeObj));this.deltaOldToNewLineCount+=s.lineCount-a.lineCount,this.deltaOldToNewColumnCount=(this.deltaLineIdxInOld===t.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0)+(s.columnCount-a.columnCount),this.deltaLineIdxInOld=t.endOffsetBeforeObj.lineCount}}}}class Zt{static from(e){return new Zt(e.startOffset,e.endOffset,e.newLength)}constructor(e,t,i){this.endOffsetBeforeObj=On(t),this.endOffsetAfterObj=On(gn(e,i)),this.offsetObj=On(e)}}const $n=[];class sn{static{this.cache=new Array(129)}static create(e,t){if(e<=128&&0===t.length){let i=sn.cache[e];return i||(i=new sn(e,t),sn.cache[e]=i),i}return new sn(e,t)}static{this.empty=sn.create(0,$n)}static getEmpty(){return this.empty}constructor(e,t){this.items=e,this.additionalItems=t}add(e,t){const i=t.getKey(e);let s=i>>5;if(0===s){const h=1<<i|this.items;return h===this.items?this:sn.create(h,this.additionalItems)}s--;const a=this.additionalItems.slice(0);for(;a.length<s;)a.push(0);return a[s]|=1<<(31&i),sn.create(this.items,a)}merge(e){const t=this.items|e.items;if(this.additionalItems===$n&&e.additionalItems===$n)return t===this.items?this:t===e.items?e:sn.create(t,$n);const i=[];for(let s=0;s<Math.max(this.additionalItems.length,e.additionalItems.length);s++)i.push((this.additionalItems[s]||0)|(e.additionalItems[s]||0));return sn.create(t,i)}intersects(e){if(this.items&e.items)return!0;for(let t=0;t<Math.min(this.additionalItems.length,e.additionalItems.length);t++)if(this.additionalItems[t]&e.additionalItems[t])return!0;return!1}}const Vn={getKey:g=>g};class Gn{constructor(){this.items=new Map}getKey(e){let t=this.items.get(e);return void 0===t&&(t=this.items.size,this.items.set(e,t)),t}}class Jn{get length(){return this._length}constructor(e){this._length=e}}class Zn extends Jn{static create(e,t,i){let s=e.length;return t&&(s=gn(s,t.length)),i&&(s=gn(s,i.length)),new Zn(s,e,t,i,t?t.missingOpeningBracketIds:sn.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(e){switch(e){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const e=[];return e.push(this.openingBracket),this.child&&e.push(this.child),this.closingBracket&&e.push(this.closingBracket),e}constructor(e,t,i,s,a){super(e),this.openingBracket=t,this.child=i,this.closingBracket=s,this.missingOpeningBracketIds=a}canBeReused(e){return!(null===this.closingBracket||e.intersects(this.missingOpeningBracketIds))}deepClone(){return new Zn(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(e,t){return this.child?this.child.computeMinIndentation(gn(e,this.openingBracket.length),t):Number.MAX_SAFE_INTEGER}}class Xn extends Jn{static create23(e,t,i,s=!1){let a=e.length,h=e.missingOpeningBracketIds;if(e.listHeight!==t.listHeight)throw new Error("Invalid list heights");if(a=gn(a,t.length),h=h.merge(t.missingOpeningBracketIds),i){if(e.listHeight!==i.listHeight)throw new Error("Invalid list heights");a=gn(a,i.length),h=h.merge(i.missingOpeningBracketIds)}return s?new Gi(a,e.listHeight+1,e,t,i,h):new _i(a,e.listHeight+1,e,t,i,h)}static getEmpty(){return new vi(Tn,0,[],sn.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}constructor(e,t,i){super(e),this.listHeight=t,this._missingOpeningBracketIds=i,this.cachedMinIndentation=-1}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const e=this.childrenLength;if(0===e)return;const t=this.getChild(e-1),i=4===t.kind?t.toMutable():t;return t!==i&&this.setChild(e-1,i),i}makeFirstElementMutable(){if(this.throwIfImmutable(),0===this.childrenLength)return;const t=this.getChild(0),i=4===t.kind?t.toMutable():t;return t!==i&&this.setChild(0,i),i}canBeReused(e){if(e.intersects(this.missingOpeningBracketIds)||0===this.childrenLength)return!1;let t=this;for(;4===t.kind;){const i=t.childrenLength;if(0===i)throw new $.D7;t=t.getChild(i-1)}return t.canBeReused(e)}handleChildrenChanged(){this.throwIfImmutable();const e=this.childrenLength;let t=this.getChild(0).length,i=this.getChild(0).missingOpeningBracketIds;for(let s=1;s<e;s++){const a=this.getChild(s);t=gn(t,a.length),i=i.merge(a.missingOpeningBracketIds)}this._length=t,this._missingOpeningBracketIds=i,this.cachedMinIndentation=-1}computeMinIndentation(e,t){if(-1!==this.cachedMinIndentation)return this.cachedMinIndentation;let i=Number.MAX_SAFE_INTEGER,s=e;for(let a=0;a<this.childrenLength;a++){const h=this.getChild(a);h&&(i=Math.min(i,h.computeMinIndentation(s,t)),s=gn(s,h.length))}return this.cachedMinIndentation=i,i}}class _i extends Xn{get childrenLength(){return null!==this._item3?3:2}getChild(e){switch(e){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(e,t){switch(e){case 0:return void(this._item1=t);case 1:return void(this._item2=t);case 2:return void(this._item3=t)}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}constructor(e,t,i,s,a,h){super(e,t,h),this._item1=i,this._item2=s,this._item3=a}deepClone(){return new _i(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=e,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const e=this._item3;return this._item3=null,this.handleChildrenChanged(),e}prependChildOfSameHeight(e){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=e,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const e=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),e}toMutable(){return this}}class Gi extends _i{toMutable(){return new _i(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class bi extends Xn{get childrenLength(){return this._children.length}getChild(e){return this._children[e]}setChild(e,t){this._children[e]=t}get children(){return this._children}constructor(e,t,i,s){super(e,t,s),this._children=i}deepClone(){const e=new Array(this._children.length);for(let t=0;t<this._children.length;t++)e[t]=this._children[t].deepClone();return new bi(this.length,this.listHeight,e,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){this.throwIfImmutable(),this._children.push(e),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const e=this._children.pop();return this.handleChildrenChanged(),e}prependChildOfSameHeight(e){this.throwIfImmutable(),this._children.unshift(e),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const e=this._children.shift();return this.handleChildrenChanged(),e}toMutable(){return this}}class vi extends bi{toMutable(){return new bi(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const or=[];class Se extends Jn{get listHeight(){return 0}get childrenLength(){return 0}getChild(e){return null}get children(){return or}deepClone(){return this}}class m extends Se{get kind(){return 0}get missingOpeningBracketIds(){return sn.getEmpty()}canBeReused(e){return!0}computeMinIndentation(e,t){const i=On(e),s=(0===i.columnCount?i.lineCount:i.lineCount+1)+1,a=function Qn(g){return Math.floor(g/Mn)}(gn(e,this.length))+1;let h=Number.MAX_SAFE_INTEGER;for(let b=s;b<=a;b++){const N=t.getLineFirstNonWhitespaceColumn(b),X=t.getLineContent(b);if(0===N)continue;const re=ae.visibleColumnFromColumn(X,N,t.getOptions().tabSize);h=Math.min(h,re)}return h}}class v extends Se{static create(e,t,i){return new v(e,t,i)}get kind(){return 1}get missingOpeningBracketIds(){return sn.getEmpty()}constructor(e,t,i){super(e),this.bracketInfo=t,this.bracketIds=i}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(e){return!1}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}}class V extends Se{get kind(){return 3}constructor(e,t){super(t),this.missingOpeningBracketIds=e}canBeReused(e){return!e.intersects(this.missingOpeningBracketIds)}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}}var Y=I(1861);class R{constructor(e,t,i,s,a){this.length=e,this.kind=t,this.bracketId=i,this.bracketIds=s,this.astNode=a}}class ve{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.reader=new we(this.textModel,this.bracketTokens),this._offset=Tn,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return bn(this.textBufferLineCount-1,this.textBufferLastLineLength)}skip(e){this.didPeek=!1,this._offset=gn(this._offset,e);const t=On(this._offset);this.reader.setPosition(t.lineCount,t.columnCount)}read(){let e;return this.peeked?(this.didPeek=!1,e=this.peeked):e=this.reader.read(),e&&(this._offset=gn(this._offset,e.length)),e}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}class we{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}setPosition(e,t){e===this.lineIdx?(this.lineCharOffset=t,null!==this.line&&(this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset))):(this.lineIdx=e,this.lineCharOffset=t,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const a=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=a.length,a}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;null===this.line&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const e=this.lineIdx,t=this.lineCharOffset;let i=0;for(;;){const a=this.lineTokens,h=a.getCount();let b=null;if(this.lineTokenOffset<h){const N=a.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<h&&N===a.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const X=0===Y.x.getTokenType(N),re=Y.x.containsBalancedBrackets(N),se=a.getEndOffset(this.lineTokenOffset);if(re&&X&&this.lineCharOffset<se){const be=a.getLanguageId(this.lineTokenOffset),Re=this.line.substring(this.lineCharOffset,se),Fe=this.bracketTokens.getSingleLanguageBracketTokens(be),Xe=Fe.regExpGlobal;if(Xe){Xe.lastIndex=0;const it=Xe.exec(Re);it&&(b=Fe.getToken(it[0]),b&&(this.lineCharOffset+=it.index))}}if(i+=se-this.lineCharOffset,b){if(e!==this.lineIdx||t!==this.lineCharOffset){this.peekedToken=b;break}return this.lineCharOffset+=b.length,b}this.lineTokenOffset++,this.lineCharOffset=se}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,i+=33,i>1e3))break;if(i>1500)break}const s=function Hn(g,e,t,i){return g!==t?bn(t-g,i):bn(0,i-e)}(e,t,this.lineIdx,this.lineCharOffset);return new R(s,0,-1,sn.getEmpty(),new m(s))}}class ke{constructor(e,t){this.text=e,this._offset=Tn,this.idx=0;const i=t.getRegExpStr(),s=i?new RegExp(i+"|\n","gi"):null,a=[];let h,b=0,N=0,X=0,re=0;const se=[];for(let Fe=0;Fe<60;Fe++)se.push(new R(bn(0,Fe),0,-1,sn.getEmpty(),new m(bn(0,Fe))));const be=[];for(let Fe=0;Fe<60;Fe++)be.push(new R(bn(1,Fe),0,-1,sn.getEmpty(),new m(bn(1,Fe))));if(s)for(s.lastIndex=0;null!==(h=s.exec(e));){const Fe=h.index,Xe=h[0];if("\n"===Xe)b++,N=Fe+1;else{if(X!==Fe){let it;if(re===b){const pt=Fe-X;if(pt<se.length)it=se[pt];else{const wt=bn(0,pt);it=new R(wt,0,-1,sn.getEmpty(),new m(wt))}}else{const pt=b-re,wt=Fe-N;if(1===pt&&wt<be.length)it=be[wt];else{const Mt=bn(pt,wt);it=new R(Mt,0,-1,sn.getEmpty(),new m(Mt))}}a.push(it)}a.push(t.getToken(Xe)),X=Fe+Xe.length,re=b}}const Re=e.length;if(X!==Re){const Fe=re===b?bn(0,Re-X):bn(b-re,Re-N);a.push(new R(Fe,0,-1,sn.getEmpty(),new m(Fe)))}this.length=bn(b,Re-N),this.tokens=a}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(e){throw new $.EM}}class Te{static createFromLanguage(e,t){function i(a){return t.getKey(`${a.languageId}:::${a.bracketText}`)}const s=new Map;for(const a of e.bracketsNew.openingBrackets){const h=bn(0,a.bracketText.length),b=i(a),N=sn.getEmpty().add(b,Vn);s.set(a.bracketText,new R(h,1,b,N,v.create(h,a,N)))}for(const a of e.bracketsNew.closingBrackets){const h=bn(0,a.bracketText.length);let b=sn.getEmpty();const N=a.getOpeningBrackets();for(const X of N)b=b.add(i(X),Vn);s.set(a.bracketText,new R(h,2,i(N[0]),b,v.create(h,a,b)))}return new Te(s)}constructor(e){this.map=e,this.hasRegExp=!1,this._regExpGlobal=null}getRegExpStr(){if(this.isEmpty)return null;{const e=[...this.map.keys()];return e.sort(),e.reverse(),e.map(t=>function Ge(g){let e=(0,f.bm)(g);return/^[\w ]+/.test(g)&&(e=`\\b${e}`),/[\w ]+$/.test(g)&&(e=`${e}\\b`),e}(t)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const e=this.getRegExpStr();this._regExpGlobal=e?new RegExp(e,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(e){return this.map.get(e.toLowerCase())}findClosingTokenText(e){for(const[t,i]of this.map)if(2===i.kind&&i.bracketIds.intersects(e))return t}get isEmpty(){return 0===this.map.size}}class qe{constructor(e,t){this.denseKeyProvider=e,this.getLanguageConfiguration=t,this.languageIdToBracketTokens=new Map}didLanguageChange(e){return this.languageIdToBracketTokens.has(e)}getSingleLanguageBracketTokens(e){let t=this.languageIdToBracketTokens.get(e);return t||(t=Te.createFromLanguage(this.getLanguageConfiguration(e),this.denseKeyProvider),this.languageIdToBracketTokens.set(e,t)),t}}function tt(g,e=!1){if(0===g.length)return null;if(1===g.length)return g[0];let t=g.length;for(;t>3;){const i=t>>1;for(let s=0;s<i;s++){const a=s<<1;g[s]=Xn.create23(g[a],g[a+1],a+3===t?g[a+2]:null,e)}t=i}return Xn.create23(g[0],g[1],t>=3?g[2]:null,e)}function ct(g,e){return Math.abs(g.listHeight-e.listHeight)}function gt(g,e){return g.listHeight===e.listHeight?Xn.create23(g,e,null,!1):g.listHeight>e.listHeight?function Pe(g,e){let t=g=g.toMutable();const i=[];let s;for(;;){if(e.listHeight===t.listHeight){s=e;break}if(4!==t.kind)throw new Error("unexpected");i.push(t),t=t.makeLastElementMutable()}for(let a=i.length-1;a>=0;a--){const h=i[a];s?h.childrenLength>=3?s=Xn.create23(h.unappendChild(),s,null,!1):(h.appendChildOfSameHeight(s),s=void 0):h.handleChildrenChanged()}return s?Xn.create23(g,s,null,!1):g}(g,e):function Tt(g,e){let t=g=g.toMutable();const i=[];for(;e.listHeight!==t.listHeight;){if(4!==t.kind)throw new Error("unexpected");i.push(t),t=t.makeFirstElementMutable()}let s=e;for(let a=i.length-1;a>=0;a--){const h=i[a];s?h.childrenLength>=3?s=Xn.create23(s,h.unprependChild(),null,!1):(h.prependChildOfSameHeight(s),s=void 0):h.handleChildrenChanged()}return s?Xn.create23(s,g,null,!1):g}(e,g)}class Nt{constructor(e){this.lastOffset=Tn,this.nextNodes=[e],this.offsets=[Tn],this.idxs=[]}readLongestNodeAt(e,t){if(Yn(e,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=e;;){const i=Dt(this.nextNodes);if(!i)return;const s=Dt(this.offsets);if(Yn(e,s))return;if(Yn(s,e))if(gn(s,i.length)<=e)this.nextNodeAfterCurrent();else{const a=yt(i);-1!==a?(this.nextNodes.push(i.getChild(a)),this.offsets.push(s),this.idxs.push(a)):this.nextNodeAfterCurrent()}else{if(t(i))return this.nextNodeAfterCurrent(),i;{const a=yt(i);if(-1===a)return void this.nextNodeAfterCurrent();this.nextNodes.push(i.getChild(a)),this.offsets.push(s),this.idxs.push(a)}}}}nextNodeAfterCurrent(){for(;;){const e=Dt(this.offsets),t=Dt(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),0===this.idxs.length)break;const i=Dt(this.nextNodes),s=yt(i,this.idxs[this.idxs.length-1]);if(-1!==s){this.nextNodes.push(i.getChild(s)),this.offsets.push(gn(e,t.length)),this.idxs[this.idxs.length-1]=s;break}this.idxs.pop()}}}function yt(g,e=-1){for(;;){if(++e>=g.childrenLength)return-1;if(g.getChild(e))return e}}function Dt(g){return g.length>0?g[g.length-1]:void 0}function At(g,e,t,i){return new Wt(g,e,t,i).parseDocument()}class Wt{constructor(e,t,i,s){if(this.tokenizer=e,this.createImmutableLists=s,this._itemsConstructed=0,this._itemsFromCache=0,i&&s)throw new Error("Not supported");this.oldNodeReader=i?new Nt(i):void 0,this.positionMapper=new Ut(t)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let e=this.parseList(sn.getEmpty(),0);return e||(e=Xn.getEmpty()),e}parseList(e,t){const i=[];for(;;){let a=this.tryReadChildFromCache(e);if(!a){const h=this.tokenizer.peek();if(!h||2===h.kind&&h.bracketIds.intersects(e))break;a=this.parseChild(e,t+1)}4===a.kind&&0===a.childrenLength||i.push(a)}return this.oldNodeReader?function Ve(g){if(0===g.length)return null;if(1===g.length)return g[0];let e=0;function t(){if(e>=g.length)return null;const h=e,b=g[h].listHeight;for(e++;e<g.length&&g[e].listHeight===b;)e++;return e-h>=2?tt(0===h&&e===g.length?g:g.slice(h,e),!1):g[h]}let i=t(),s=t();if(!s)return i;for(let h=t();h;h=t())ct(i,s)<=ct(s,h)?(i=gt(i,s),s=h):s=gt(s,h);return gt(i,s)}(i):tt(i,this.createImmutableLists)}tryReadChildFromCache(e){if(this.oldNodeReader){const t=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(null===t||!gi(t)){const i=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),s=>!(null!==t&&!Yn(s.length,t))&&s.canBeReused(e));if(i)return this._itemsFromCache++,this.tokenizer.skip(i.length),i}}}parseChild(e,t){this._itemsConstructed++;const i=this.tokenizer.read();switch(i.kind){case 2:return new V(i.bracketIds,i.length);case 0:return i.astNode;case 1:{if(t>300)return new m(i.length);const s=e.merge(i.bracketIds),a=this.parseList(s,t+1),h=this.tokenizer.peek();return h&&2===h.kind&&(h.bracketId===i.bracketId||h.bracketIds.intersects(i.bracketIds))?(this.tokenizer.read(),Zn.create(i.astNode,a,h.astNode)):Zn.create(i.astNode,a,null)}default:throw new Error("unexpected")}}}function zt(g,e){if(0===g.length)return e;if(0===e.length)return g;const t=new D.j3(Cn(g)),i=Cn(e);i.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});let s=t.dequeue();function a(X){if(void 0===X){const se=t.takeWhile(be=>!0)||[];return s&&se.unshift(s),se}const re=[];for(;s&&!gi(X);){const[se,be]=s.splitAt(X);re.push(se),X=ri(se.lengthAfter,X),s=be??t.dequeue()}return gi(X)||re.push(new Bt(!1,X,X)),re}const h=[];function b(X,re,se){if(h.length>0&&Ni(h[h.length-1].endOffset,X)){const be=h[h.length-1];h[h.length-1]=new Lt(be.startOffset,re,gn(be.newLength,se))}else h.push({startOffset:X,endOffset:re,newLength:se})}let N=Tn;for(const X of i){const re=a(X.lengthBefore);if(X.modified){const be=gn(N,Ti(re,Re=>Re.lengthBefore));b(N,be,X.lengthAfter),N=be}else for(const se of re){const be=N;N=gn(N,se.lengthBefore),se.modified&&b(be,N,se.lengthAfter)}}return h}class Bt{constructor(e,t,i){this.modified=e,this.lengthBefore=t,this.lengthAfter=i}splitAt(e){const t=ri(e,this.lengthAfter);return Ni(t,Tn)?[this,void 0]:this.modified?[new Bt(this.modified,this.lengthBefore,e),new Bt(this.modified,Tn,t)]:[new Bt(this.modified,e,e),new Bt(this.modified,t,t)]}toString(){return`${this.modified?"M":"U"}:${On(this.lengthBefore)} -> ${On(this.lengthAfter)}`}}function Cn(g){const e=[];let t=Tn;for(const i of g){const s=ri(t,i.startOffset);gi(s)||e.push(new Bt(!1,s,s));const a=ri(i.startOffset,i.endOffset);e.push(new Bt(!0,a,i.newLength)),t=i.endOffset}return e}class wn extends Z.jG{didLanguageChange(e){return this.brackets.didLanguageChange(e)}constructor(e,t){if(super(),this.textModel=e,this.getLanguageConfiguration=t,this.didChangeEmitter=new W.vl,this.denseKeyProvider=new Gn,this.brackets=new qe(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this.queuedTextEditsForInitialAstWithoutTokens=[],this.queuedTextEdits=[],e.tokenization.hasTokens)2===e.tokenization.backgroundTokenizationState?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens);else{const i=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),s=new ke(this.textModel.getValue(),i);this.initialAstWithoutTokens=At(s,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}}handleDidChangeBackgroundTokenizationState(){if(2===this.textModel.tokenization.backgroundTokenizationState){const e=void 0===this.initialAstWithoutTokens;this.initialAstWithoutTokens=void 0,e||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:e}){const t=e.map(i=>new Lt(bn(i.fromLineNumber-1,0),bn(i.toLineNumber,0),bn(i.toLineNumber-i.fromLineNumber+1,0)));this.handleEdits(t,!0),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(e){const t=Lt.fromModelContentChanges(e.changes);this.handleEdits(t,!1)}handleEdits(e,t){const i=zt(this.queuedTextEdits,e);this.queuedTextEdits=i,this.initialAstWithoutTokens&&!t&&(this.queuedTextEditsForInitialAstWithoutTokens=zt(this.queuedTextEditsForInitialAstWithoutTokens,e))}flushQueue(){this.queuedTextEdits.length>0&&(this.astWithTokens=this.parseDocumentFromTextBuffer(this.queuedTextEdits,this.astWithTokens,!1),this.queuedTextEdits=[]),this.queuedTextEditsForInitialAstWithoutTokens.length>0&&(this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(this.queuedTextEditsForInitialAstWithoutTokens,this.initialAstWithoutTokens,!1)),this.queuedTextEditsForInitialAstWithoutTokens=[])}parseDocumentFromTextBuffer(e,t,i){const a=t;return At(new ve(this.textModel,this.brackets),e,a,i)}getBracketsInRange(e,t){this.flushQueue();const i=bn(e.startLineNumber-1,e.startColumn-1),s=bn(e.endLineNumber-1,e.endColumn-1);return new D.c1(a=>{const h=this.initialAstWithoutTokens||this.astWithTokens;si(h,Tn,h.length,i,s,a,0,0,new Map,t)})}getBracketPairsInRange(e,t){this.flushQueue();const i=_e(e.getStartPosition()),s=_e(e.getEndPosition());return new D.c1(a=>{const h=this.initialAstWithoutTokens||this.astWithTokens,b=new Rr(a,t,this.textModel);qi(h,Tn,h.length,i,s,b,0,new Map)})}getFirstBracketAfter(e){this.flushQueue();const t=this.initialAstWithoutTokens||this.astWithTokens;return Pt(t,Tn,t.length,_e(e))}getFirstBracketBefore(e){this.flushQueue();const t=this.initialAstWithoutTokens||this.astWithTokens;return dn(t,Tn,t.length,_e(e))}}function dn(g,e,t,i){if(4===g.kind||2===g.kind){const s=[];for(const a of g.children)t=gn(e,a.length),s.push({nodeOffsetStart:e,nodeOffsetEnd:t}),e=t;for(let a=s.length-1;a>=0;a--){const{nodeOffsetStart:h,nodeOffsetEnd:b}=s[a];if(Yn(h,i)){const N=dn(g.children[a],h,b,i);if(N)return N}}return null}if(3===g.kind)return null;if(1===g.kind){const s=Ke(e,t);return{bracketInfo:g.bracketInfo,range:s}}return null}function Pt(g,e,t,i){if(4===g.kind||2===g.kind){for(const s of g.children){if(Yn(i,t=gn(e,s.length))){const a=Pt(s,e,t,i);if(a)return a}e=t}return null}if(3===g.kind)return null;if(1===g.kind){const s=Ke(e,t);return{bracketInfo:g.bracketInfo,range:s}}return null}function si(g,e,t,i,s,a,h,b,N,X,re=!1){if(h>200)return!0;e:for(;;)switch(g.kind){case 4:{const se=g.childrenLength;for(let be=0;be<se;be++){const Re=g.getChild(be);if(Re){if(t=gn(e,Re.length),Ie(e,s)&&te(t,i)){if(te(t,s)){g=Re;continue e}if(!si(Re,e,t,i,s,a,h,0,N,X))return!1}e=t}}return!0}case 2:{const se=!X||!g.closingBracket||g.closingBracket.bracketInfo.closesColorized(g.openingBracket.bracketInfo);let be=0;if(N){let Fe=N.get(g.openingBracket.text);void 0===Fe&&(Fe=0),be=Fe,se&&(Fe++,N.set(g.openingBracket.text,Fe))}const Re=g.childrenLength;for(let Fe=0;Fe<Re;Fe++){const Xe=g.getChild(Fe);if(Xe){if(t=gn(e,Xe.length),Ie(e,s)&&te(t,i)){if(te(t,s)&&1!==Xe.kind){g=Xe,se?(h++,b=be+1):b=be;continue e}if((se||1!==Xe.kind||!g.closingBracket)&&!si(Xe,e,t,i,s,a,se?h+1:h,se?be+1:be,N,X,!g.closingBracket))return!1}e=t}}return N?.set(g.openingBracket.text,be),!0}case 3:{const se=Ke(e,t);return a(new jn(se,h-1,0,!0))}case 1:{const se=Ke(e,t);return a(new jn(se,h-1,b-1,re))}case 0:return!0}}class Rr{constructor(e,t,i){this.push=e,this.includeMinIndentation=t,this.textModel=i}}function qi(g,e,t,i,s,a,h,b){if(h>200)return!0;let N=!0;if(2===g.kind){let X=0;if(b){let be=b.get(g.openingBracket.text);void 0===be&&(be=0),X=be,be++,b.set(g.openingBracket.text,be)}const re=gn(e,g.openingBracket.length);let se=-1;if(a.includeMinIndentation&&(se=g.computeMinIndentation(e,a.textModel)),N=a.push(new Ai(Ke(e,t),Ke(e,re),g.closingBracket?Ke(gn(re,g.child?.length||Tn),t):void 0,h,X,g,se)),e=re,N&&g.child){const be=g.child;if(t=gn(e,be.length),Ie(e,s)&&te(t,i)&&(N=qi(be,e,t,i,s,a,h+1,b),!N))return!1}b?.set(g.openingBracket.text,X)}else{let X=e;for(const re of g.children){const se=X;if(X=gn(X,re.length),Ie(se,s)&&Ie(i,X)&&(N=qi(re,se,X,i,s,a,h,b),!N))return!1}}return N}class Or extends Z.jG{get canBuildAST(){return this.textModel.getValueLength()<=5e6}constructor(e,t){super(),this.textModel=e,this.languageConfigurationService=t,this.bracketPairsTree=this._register(new Z.HE),this.onDidChangeEmitter=new W.vl,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1}handleLanguageConfigurationServiceChange(e){(!e.languageId||this.bracketPairsTree.value?.object.didLanguageChange(e.languageId))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}handleDidChangeOptions(e){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(e){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(e){this.bracketPairsTree.value?.object.handleContentChanged(e)}handleDidChangeBackgroundTokenizationState(){this.bracketPairsTree.value?.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(e){this.bracketPairsTree.value?.object.handleDidChangeTokens(e)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const e=new Z.Cm;this.bracketPairsTree.value=function Ui(g,e){return{object:g,dispose:()=>e?.dispose()}}(e.add(new wn(this.textModel,t=>this.languageConfigurationService.getLanguageConfiguration(t))),e),e.add(this.bracketPairsTree.value.object.onDidChange(t=>this.onDidChangeEmitter.fire(t))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(e){return this.bracketsRequested=!0,this.updateBracketPairsTree(),this.bracketPairsTree.value?.object.getBracketPairsInRange(e,!1)||D.c1.empty}getBracketPairsInRangeWithMinIndentation(e){return this.bracketsRequested=!0,this.updateBracketPairsTree(),this.bracketPairsTree.value?.object.getBracketPairsInRange(e,!0)||D.c1.empty}getBracketsInRange(e,t=!1){return this.bracketsRequested=!0,this.updateBracketPairsTree(),this.bracketPairsTree.value?.object.getBracketsInRange(e,t)||D.c1.empty}findMatchingBracketUp(e,t,i){const s=this.textModel.validatePosition(t),a=this.textModel.getLanguageIdAtPosition(s.lineNumber,s.column);if(this.canBuildAST){const h=this.languageConfigurationService.getLanguageConfiguration(a).bracketsNew.getClosingBracketInfo(e);if(!h)return null;const b=this.getBracketPairsInRange(M.Q.fromPositions(t,t)).findLast(N=>h.closes(N.openingBracketInfo));return b?b.openingBracketRange:null}{const h=e.toLowerCase(),b=this.languageConfigurationService.getLanguageConfiguration(a).brackets;if(!b)return null;const N=b.textIsBracket[h];return N?ai(this._findMatchingBracketUp(N,s,Wn(i))):null}}matchBracket(e,t){if(this.canBuildAST){const i=this.getBracketPairsInRange(M.Q.fromPositions(e,e)).filter(s=>void 0!==s.closingBracketRange&&(s.openingBracketRange.containsPosition(e)||s.closingBracketRange.containsPosition(e))).findLastMaxBy((0,D.VE)(s=>s.openingBracketRange.containsPosition(e)?s.openingBracketRange:s.closingBracketRange,M.Q.compareRangesUsingStarts));return i?[i.openingBracketRange,i.closingBracketRange]:null}{const i=Wn(t);return this._matchBracket(this.textModel.validatePosition(e),i)}}_establishBracketSearchOffsets(e,t,i,s){const a=t.getCount(),h=t.getLanguageId(s);let b=Math.max(0,e.column-1-i.maxBracketLength);for(let X=s-1;X>=0;X--){const re=t.getEndOffset(X);if(re<=b)break;if(O(t.getStandardTokenType(X))||t.getLanguageId(X)!==h){b=re;break}}let N=Math.min(t.getLineContent().length,e.column-1+i.maxBracketLength);for(let X=s+1;X<a;X++){const re=t.getStartOffset(X);if(re>=N)break;if(O(t.getStandardTokenType(X))||t.getLanguageId(X)!==h){N=re;break}}return{searchStartOffset:b,searchEndOffset:N}}_matchBracket(e,t){const i=e.lineNumber,s=this.textModel.tokenization.getLineTokens(i),a=this.textModel.getLineContent(i),h=s.findTokenIndexAtOffset(e.column-1);if(h<0)return null;const b=this.languageConfigurationService.getLanguageConfiguration(s.getLanguageId(h)).brackets;if(b&&!O(s.getStandardTokenType(h))){let{searchStartOffset:N,searchEndOffset:X}=this._establishBracketSearchOffsets(e,s,b,h),re=null;for(;;){const se=St.findNextBracketInRange(b.forwardRegex,i,a,N,X);if(!se)break;if(se.startColumn<=e.column&&e.column<=se.endColumn){const be=a.substring(se.startColumn-1,se.endColumn-1).toLowerCase(),Re=this._matchFoundBracket(se,b.textIsBracket[be],b.textIsOpenBracket[be],t);if(Re){if(Re instanceof oi)return null;re=Re}}N=se.endColumn-1}if(re)return re}if(h>0&&s.getStartOffset(h)===e.column-1){const N=h-1,X=this.languageConfigurationService.getLanguageConfiguration(s.getLanguageId(N)).brackets;if(X&&!O(s.getStandardTokenType(N))){const{searchStartOffset:re,searchEndOffset:se}=this._establishBracketSearchOffsets(e,s,X,N),be=St.findPrevBracketInRange(X.reversedRegex,i,a,re,se);if(be&&be.startColumn<=e.column&&e.column<=be.endColumn){const Re=a.substring(be.startColumn-1,be.endColumn-1).toLowerCase(),Fe=this._matchFoundBracket(be,X.textIsBracket[Re],X.textIsOpenBracket[Re],t);if(Fe)return Fe instanceof oi?null:Fe}}}return null}_matchFoundBracket(e,t,i,s){if(!t)return null;const a=i?this._findMatchingBracketDown(t,e.getEndPosition(),s):this._findMatchingBracketUp(t,e.getStartPosition(),s);return a?a instanceof oi?a:[e,a]:null}_findMatchingBracketUp(e,t,i){const s=e.languageId,a=e.reversedRegex;let h=-1,b=0;const N=(X,re,se,be)=>{for(;;){if(i&&++b%100==0&&!i())return oi.INSTANCE;const Re=St.findPrevBracketInRange(a,X,re,se,be);if(!Re)break;const Fe=re.substring(Re.startColumn-1,Re.endColumn-1).toLowerCase();if(e.isOpen(Fe)?h++:e.isClose(Fe)&&h--,0===h)return Re;be=Re.startColumn-1}return null};for(let X=t.lineNumber;X>=1;X--){const re=this.textModel.tokenization.getLineTokens(X),se=re.getCount(),be=this.textModel.getLineContent(X);let Re=se-1,Fe=be.length,Xe=be.length;X===t.lineNumber&&(Re=re.findTokenIndexAtOffset(t.column-1),Fe=t.column-1,Xe=t.column-1);let it=!0;for(;Re>=0;Re--){const pt=re.getLanguageId(Re)===s&&!O(re.getStandardTokenType(Re));if(pt)it?Fe=re.getStartOffset(Re):(Fe=re.getStartOffset(Re),Xe=re.getEndOffset(Re));else if(it&&Fe!==Xe){const wt=N(X,be,Fe,Xe);if(wt)return wt}it=pt}if(it&&Fe!==Xe){const pt=N(X,be,Fe,Xe);if(pt)return pt}}return null}_findMatchingBracketDown(e,t,i){const s=e.languageId,a=e.forwardRegex;let h=1,b=0;const N=(re,se,be,Re)=>{for(;;){if(i&&++b%100==0&&!i())return oi.INSTANCE;const Fe=St.findNextBracketInRange(a,re,se,be,Re);if(!Fe)break;const Xe=se.substring(Fe.startColumn-1,Fe.endColumn-1).toLowerCase();if(e.isOpen(Xe)?h++:e.isClose(Xe)&&h--,0===h)return Fe;be=Fe.endColumn-1}return null},X=this.textModel.getLineCount();for(let re=t.lineNumber;re<=X;re++){const se=this.textModel.tokenization.getLineTokens(re),be=se.getCount(),Re=this.textModel.getLineContent(re);let Fe=0,Xe=0,it=0;re===t.lineNumber&&(Fe=se.findTokenIndexAtOffset(t.column-1),Xe=t.column-1,it=t.column-1);let pt=!0;for(;Fe<be;Fe++){const wt=se.getLanguageId(Fe)===s&&!O(se.getStandardTokenType(Fe));if(wt)pt||(Xe=se.getStartOffset(Fe)),it=se.getEndOffset(Fe);else if(pt&&Xe!==it){const Mt=N(re,Re,Xe,it);if(Mt)return Mt}pt=wt}if(pt&&Xe!==it){const wt=N(re,Re,Xe,it);if(wt)return wt}}return null}findPrevBracket(e){const t=this.textModel.validatePosition(e);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),this.bracketPairsTree.value?.object.getFirstBracketBefore(t)||null;let i=null,s=null,a=null;for(let h=t.lineNumber;h>=1;h--){const b=this.textModel.tokenization.getLineTokens(h),N=b.getCount(),X=this.textModel.getLineContent(h);let re=N-1,se=X.length,be=X.length;if(h===t.lineNumber){re=b.findTokenIndexAtOffset(t.column-1),se=t.column-1,be=t.column-1;const Fe=b.getLanguageId(re);i!==Fe&&(i=Fe,s=this.languageConfigurationService.getLanguageConfiguration(i).brackets,a=this.languageConfigurationService.getLanguageConfiguration(i).bracketsNew)}let Re=!0;for(;re>=0;re--){const Fe=b.getLanguageId(re);if(i!==Fe){if(s&&a&&Re&&se!==be){const it=St.findPrevBracketInRange(s.reversedRegex,h,X,se,be);if(it)return this._toFoundBracket(a,it);Re=!1}i=Fe,s=this.languageConfigurationService.getLanguageConfiguration(i).brackets,a=this.languageConfigurationService.getLanguageConfiguration(i).bracketsNew}const Xe=!!s&&!O(b.getStandardTokenType(re));if(Xe)Re?se=b.getStartOffset(re):(se=b.getStartOffset(re),be=b.getEndOffset(re));else if(a&&s&&Re&&se!==be){const it=St.findPrevBracketInRange(s.reversedRegex,h,X,se,be);if(it)return this._toFoundBracket(a,it)}Re=Xe}if(a&&s&&Re&&se!==be){const Fe=St.findPrevBracketInRange(s.reversedRegex,h,X,se,be);if(Fe)return this._toFoundBracket(a,Fe)}}return null}findNextBracket(e){const t=this.textModel.validatePosition(e);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),this.bracketPairsTree.value?.object.getFirstBracketAfter(t)||null;const i=this.textModel.getLineCount();let s=null,a=null,h=null;for(let b=t.lineNumber;b<=i;b++){const N=this.textModel.tokenization.getLineTokens(b),X=N.getCount(),re=this.textModel.getLineContent(b);let se=0,be=0,Re=0;if(b===t.lineNumber){se=N.findTokenIndexAtOffset(t.column-1),be=t.column-1,Re=t.column-1;const Xe=N.getLanguageId(se);s!==Xe&&(s=Xe,a=this.languageConfigurationService.getLanguageConfiguration(s).brackets,h=this.languageConfigurationService.getLanguageConfiguration(s).bracketsNew)}let Fe=!0;for(;se<X;se++){const Xe=N.getLanguageId(se);if(s!==Xe){if(h&&a&&Fe&&be!==Re){const pt=St.findNextBracketInRange(a.forwardRegex,b,re,be,Re);if(pt)return this._toFoundBracket(h,pt);Fe=!1}s=Xe,a=this.languageConfigurationService.getLanguageConfiguration(s).brackets,h=this.languageConfigurationService.getLanguageConfiguration(s).bracketsNew}const it=!!a&&!O(N.getStandardTokenType(se));if(it)Fe||(be=N.getStartOffset(se)),Re=N.getEndOffset(se);else if(h&&a&&Fe&&be!==Re){const pt=St.findNextBracketInRange(a.forwardRegex,b,re,be,Re);if(pt)return this._toFoundBracket(h,pt)}Fe=it}if(h&&a&&Fe&&be!==Re){const Xe=St.findNextBracketInRange(a.forwardRegex,b,re,be,Re);if(Xe)return this._toFoundBracket(h,Xe)}}return null}findEnclosingBrackets(e,t){const i=this.textModel.validatePosition(e);if(this.canBuildAST){const Re=M.Q.fromPositions(i),Fe=this.getBracketPairsInRange(M.Q.fromPositions(i,i)).findLast(Xe=>void 0!==Xe.closingBracketRange&&Xe.range.strictContainsRange(Re));return Fe?[Fe.openingBracketRange,Fe.closingBracketRange]:null}const s=Wn(t),a=this.textModel.getLineCount(),h=new Map;let b=[];const N=(Re,Fe)=>{if(!h.has(Re)){const Xe=[];for(let it=0,pt=Fe?Fe.brackets.length:0;it<pt;it++)Xe[it]=0;h.set(Re,Xe)}b=h.get(Re)};let X=0;const re=(Re,Fe,Xe,it,pt)=>{for(;;){if(s&&++X%100==0&&!s())return oi.INSTANCE;const wt=St.findNextBracketInRange(Re.forwardRegex,Fe,Xe,it,pt);if(!wt)break;const Mt=Xe.substring(wt.startColumn-1,wt.endColumn-1).toLowerCase(),Qt=Re.textIsBracket[Mt];if(Qt&&(Qt.isOpen(Mt)?b[Qt.index]++:Qt.isClose(Mt)&&b[Qt.index]--,-1===b[Qt.index]))return this._matchFoundBracket(wt,Qt,!1,s);it=wt.endColumn-1}return null};let se=null,be=null;for(let Re=i.lineNumber;Re<=a;Re++){const Fe=this.textModel.tokenization.getLineTokens(Re),Xe=Fe.getCount(),it=this.textModel.getLineContent(Re);let pt=0,wt=0,Mt=0;if(Re===i.lineNumber){pt=Fe.findTokenIndexAtOffset(i.column-1),wt=i.column-1,Mt=i.column-1;const yn=Fe.getLanguageId(pt);se!==yn&&(se=yn,be=this.languageConfigurationService.getLanguageConfiguration(se).brackets,N(se,be))}let Qt=!0;for(;pt<Xe;pt++){const yn=Fe.getLanguageId(pt);if(se!==yn){if(be&&Qt&&wt!==Mt){const fn=re(be,Re,it,wt,Mt);if(fn)return ai(fn);Qt=!1}se=yn,be=this.languageConfigurationService.getLanguageConfiguration(se).brackets,N(se,be)}const Dn=!!be&&!O(Fe.getStandardTokenType(pt));if(Dn)Qt||(wt=Fe.getStartOffset(pt)),Mt=Fe.getEndOffset(pt);else if(be&&Qt&&wt!==Mt){const fn=re(be,Re,it,wt,Mt);if(fn)return ai(fn)}Qt=Dn}if(be&&Qt&&wt!==Mt){const yn=re(be,Re,it,wt,Mt);if(yn)return ai(yn)}}return null}_toFoundBracket(e,t){if(!t)return null;let i=this.textModel.getValueInRange(t);i=i.toLowerCase();const s=e.getBracketInfo(i);return s?{range:t,bracketInfo:s}:null}}function Wn(g){if(typeof g>"u")return()=>!0;{const e=Date.now();return()=>Date.now()-e<=g}}class oi{static{this.INSTANCE=new oi}constructor(){this._searchCanceledBrand=void 0}}function ai(g){return g instanceof oi?null:g}var mi=I(976),ar=I(7464);class lr extends Z.jG{constructor(e){super(),this.textModel=e,this.colorProvider=new Qi,this.onDidChangeEmitter=new W.vl,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=e.getOptions().bracketPairColorizationOptions,this._register(e.bracketPairs.onDidChange(t=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(e){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(e,t,i,s){return s||void 0===t?[]:this.colorizationOptions.enabled?this.textModel.bracketPairs.getBracketsInRange(e,!0).map(h=>({id:`bracket${h.range.toString()}-${h.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(h,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:h.range})).toArray():[]}getAllDecorations(e,t){return void 0===e?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new M.Q(1,1,this.textModel.getLineCount(),1),e,t):[]}}class Qi{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(e,t){return e.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(t?e.nestingLevelOfEqualBracketType:e.nestingLevel)}getInlineClassNameOfLevel(e){return"bracket-highlighting-"+e%30}}(0,ar.zy)((g,e)=>{const t=[mi.sN,mi.lQ,mi.ss,mi.l5,mi.sH,mi.zp],i=new Qi;e.addRule(`.monaco-editor .${i.unexpectedClosingBracketClassName} { color: ${g.getColor(mi.s7)}; }`);const s=t.map(a=>g.getColor(a)).filter(a=>!!a).filter(a=>!a.isTransparent());for(let a=0;a<30;a++){const h=s[a%s.length];e.addRule(`.monaco-editor .${i.getInlineClassNameOfLevel(a)} { color: ${h}; }`)}});var Un=I(1913);function Ji(g){return g.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class An{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(e,t,i,s){this.oldPosition=e,this.oldText=t,this.newPosition=i,this.newText=s}toString(){return 0===this.oldText.length?`(insert@${this.oldPosition} "${Ji(this.newText)}")`:0===this.newText.length?`(delete@${this.oldPosition} "${Ji(this.oldText)}")`:`(replace@${this.oldPosition} "${Ji(this.oldText)}" with "${Ji(this.newText)}")`}static _writeStringSize(e){return 4+2*e.length}static _writeString(e,t,i){const s=t.length;G.Sw(e,s,i),i+=4;for(let a=0;a<s;a++)G.gN(e,t.charCodeAt(a),i),i+=2;return i}static _readString(e,t){const i=G.bb(e,t);return function ie(g,e,t){const i=new Uint16Array(g.buffer,e,t);return t>0&&(65279===i[0]||65534===i[0])?function Ae(g,e,t){const i=[];let s=0;for(let a=0;a<t;a++){const h=G.$l(g,e);e+=2,i[s++]=String.fromCharCode(h)}return i.join("")}(g,e,t):z().decode(i)}(e,t+=4,i)}writeSize(){return 8+An._writeStringSize(this.oldText)+An._writeStringSize(this.newText)}write(e,t){return G.Sw(e,this.oldPosition,t),G.Sw(e,this.newPosition,t+=4),t=An._writeString(e,this.oldText,t+=4),An._writeString(e,this.newText,t)}static read(e,t,i){const s=G.bb(e,t),a=G.bb(e,t+=4),h=An._readString(e,t+=4);t+=An._writeStringSize(h);const b=An._readString(e,t);return t+=An._writeStringSize(b),i.push(new An(s,h,a,b)),t}}class li{constructor(e,t){this._prevEdits=e,this._currEdits=t,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let e=0,t=0,i=this._getPrev(e),s=this._getCurr(t);for(;e<this._prevLen||t<this._currLen;){if(null===i){this._acceptCurr(s),s=this._getCurr(++t);continue}if(null===s){this._acceptPrev(i),i=this._getPrev(++e);continue}if(s.oldEnd<=i.newPosition){this._acceptCurr(s),s=this._getCurr(++t);continue}if(i.newEnd<=s.oldPosition){this._acceptPrev(i),i=this._getPrev(++e);continue}if(s.oldPosition<i.newPosition){const[X,re]=li._splitCurr(s,i.newPosition-s.oldPosition);this._acceptCurr(X),s=re;continue}if(i.newPosition<s.oldPosition){const[X,re]=li._splitPrev(i,s.oldPosition-i.newPosition);this._acceptPrev(X),i=re;continue}let b,N;if(s.oldEnd===i.newEnd)b=i,N=s,i=this._getPrev(++e),s=this._getCurr(++t);else if(s.oldEnd<i.newEnd){const[X,re]=li._splitPrev(i,s.oldLength);b=X,N=s,i=re,s=this._getCurr(++t)}else{const[X,re]=li._splitCurr(s,i.newLength);b=i,N=X,i=this._getPrev(++e),s=re}this._result[this._resultLen++]=new An(b.oldPosition,b.oldText,N.newPosition,N.newText),this._prevDeltaOffset+=b.newLength-b.oldLength,this._currDeltaOffset+=N.newLength-N.oldLength}const a=li._merge(this._result);return li._removeNoOps(a)}_acceptCurr(e){this._result[this._resultLen++]=li._rebaseCurr(this._prevDeltaOffset,e),this._currDeltaOffset+=e.newLength-e.oldLength}_getCurr(e){return e<this._currLen?this._currEdits[e]:null}_acceptPrev(e){this._result[this._resultLen++]=li._rebasePrev(this._currDeltaOffset,e),this._prevDeltaOffset+=e.newLength-e.oldLength}_getPrev(e){return e<this._prevLen?this._prevEdits[e]:null}static _rebaseCurr(e,t){return new An(t.oldPosition-e,t.oldText,t.newPosition,t.newText)}static _rebasePrev(e,t){return new An(t.oldPosition,t.oldText,t.newPosition+e,t.newText)}static _splitPrev(e,t){const i=e.newText.substr(0,t),s=e.newText.substr(t);return[new An(e.oldPosition,e.oldText,e.newPosition,i),new An(e.oldEnd,"",e.newPosition+t,s)]}static _splitCurr(e,t){const i=e.oldText.substr(0,t),s=e.oldText.substr(t);return[new An(e.oldPosition,i,e.newPosition,e.newText),new An(e.oldPosition+t,s,e.newEnd,"")]}static _merge(e){if(0===e.length)return e;const t=[];let i=0,s=e[0];for(let a=1;a<e.length;a++){const h=e[a];s.oldEnd===h.oldPosition?s=new An(s.oldPosition,s.oldText+h.oldText,s.newPosition,s.newText+h.newText):(t[i++]=s,s=h)}return t[i++]=s,t}static _removeNoOps(e){if(0===e.length)return e;const t=[];let i=0;for(let s=0;s<e.length;s++){const a=e[s];a.oldText!==a.newText&&(t[i++]=a)}return t}}var Fr=I(6698);function Di(g){return g.toString()}class En{static create(e,t){const i=e.getAlternativeVersionId(),s=ur(e);return new En(i,i,s,s,t,t,[])}constructor(e,t,i,s,a,h,b){this.beforeVersionId=e,this.afterVersionId=t,this.beforeEOL=i,this.afterEOL=s,this.beforeCursorState=a,this.afterCursorState=h,this.changes=b}append(e,t,i,s,a){t.length>0&&(this.changes=function Pr(g,e){return null===g||0===g.length?e:new li(g,e).compress()}(this.changes,t)),this.afterEOL=i,this.afterVersionId=s,this.afterCursorState=a}static _writeSelectionsSize(e){return 4+16*(e?e.length:0)}static _writeSelections(e,t,i){if(G.Sw(e,t?t.length:0,i),i+=4,t)for(const s of t)G.Sw(e,s.selectionStartLineNumber,i),G.Sw(e,s.selectionStartColumn,i+=4),G.Sw(e,s.positionLineNumber,i+=4),G.Sw(e,s.positionColumn,i+=4),i+=4;return i}static _readSelections(e,t,i){const s=G.bb(e,t);t+=4;for(let a=0;a<s;a++){const h=G.bb(e,t),b=G.bb(e,t+=4),N=G.bb(e,t+=4),X=G.bb(e,t+=4);t+=4,i.push(new E.L(h,b,N,X))}return t}serialize(){let e=10+En._writeSelectionsSize(this.beforeCursorState)+En._writeSelectionsSize(this.afterCursorState)+4;for(const s of this.changes)e+=s.writeSize();const t=new Uint8Array(e);let i=0;G.Sw(t,this.beforeVersionId,i),i+=4,G.Sw(t,this.afterVersionId,i),i+=4,G.Gs(t,this.beforeEOL,i),i+=1,G.Gs(t,this.afterEOL,i),i+=1,i=En._writeSelections(t,this.beforeCursorState,i),i=En._writeSelections(t,this.afterCursorState,i),G.Sw(t,this.changes.length,i),i+=4;for(const s of this.changes)i=s.write(t,i);return t.buffer}static deserialize(e){const t=new Uint8Array(e);let i=0;const s=G.bb(t,i);i+=4;const a=G.bb(t,i);i+=4;const h=G.pJ(t,i);i+=1;const b=G.pJ(t,i);i+=1;const N=[];i=En._readSelections(t,i,N);const X=[];i=En._readSelections(t,i,X);const re=G.bb(t,i);i+=4;const se=[];for(let be=0;be<re;be++)i=An.read(t,i,se);return new En(s,a,h,b,N,X,se)}}class Cr{get type(){return 0}get resource(){return B.r.isUri(this.model)?this.model:this.model.uri}constructor(e,t,i,s){this.label=e,this.code=t,this.model=i,this._data=En.create(i,s)}toString(){return(this._data instanceof En?this._data:En.deserialize(this._data)).changes.map(t=>t.toString()).join(", ")}matchesResource(e){return(B.r.isUri(this.model)?this.model:this.model.uri).toString()===e.toString()}setModel(e){this.model=e}canAppend(e){return this.model===e&&this._data instanceof En}append(e,t,i,s,a){this._data instanceof En&&this._data.append(e,t,i,s,a)}close(){this._data instanceof En&&(this._data=this._data.serialize())}open(){this._data instanceof En||(this._data=En.deserialize(this._data))}undo(){if(B.r.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof En&&(this._data=this._data.serialize());const e=En.deserialize(this._data);this.model._applyUndo(e.changes,e.beforeEOL,e.beforeVersionId,e.beforeCursorState)}redo(){if(B.r.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof En&&(this._data=this._data.serialize());const e=En.deserialize(this._data);this.model._applyRedo(e.changes,e.afterEOL,e.afterVersionId,e.afterCursorState)}heapSize(){return this._data instanceof En&&(this._data=this._data.serialize()),this._data.byteLength+168}}class Vr{get resources(){return this._editStackElementsArr.map(e=>e.resource)}constructor(e,t,i){this.label=e,this.code=t,this.type=1,this._isOpen=!0,this._editStackElementsArr=i.slice(0),this._editStackElementsMap=new Map;for(const s of this._editStackElementsArr){const a=Di(s.resource);this._editStackElementsMap.set(a,s)}this._delegate=null}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(e){const t=Di(e);return this._editStackElementsMap.has(t)}setModel(e){const t=Di(B.r.isUri(e)?e:e.uri);this._editStackElementsMap.has(t)&&this._editStackElementsMap.get(t).setModel(e)}canAppend(e){if(!this._isOpen)return!1;const t=Di(e.uri);return!!this._editStackElementsMap.has(t)&&this._editStackElementsMap.get(t).canAppend(e)}append(e,t,i,s,a){const h=Di(e.uri);this._editStackElementsMap.get(h).append(e,t,i,s,a)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const e of this._editStackElementsArr)e.undo()}redo(){for(const e of this._editStackElementsArr)e.redo()}heapSize(e){const t=Di(e);return this._editStackElementsMap.has(t)?this._editStackElementsMap.get(t).heapSize():0}split(){return this._editStackElementsArr}toString(){const e=[];for(const t of this._editStackElementsArr)e.push(`${(0,Fr.P8)(t.resource)}: ${t}`);return`{${e.join(", ")}}`}}function ur(g){return"\n"===g.getEOL()?0:1}function ui(g){return!!g&&(g instanceof Cr||g instanceof Vr)}class Xi{constructor(e,t){this._model=e,this._undoRedoService=t}pushStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);ui(e)&&e.close()}popStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);ui(e)&&e.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(e,t){const i=this._undoRedoService.getLastElement(this._model.uri);if(ui(i)&&i.canAppend(this._model))return i;const s=new Cr(Un.kg("edit","Typing"),"undoredo.textBufferEdit",this._model,e);return this._undoRedoService.pushElement(s,t),s}pushEOL(e){const t=this._getOrCreateEditStackElement(null,void 0);this._model.setEOL(e),t.append(this._model,[],ur(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(e,t,i,s){const a=this._getOrCreateEditStackElement(e,s),h=this._model.applyEdits(t,!0),b=Xi._computeCursorState(i,h),N=h.map((X,re)=>({index:re,textChange:X.textChange}));return N.sort((X,re)=>X.textChange.oldPosition===re.textChange.oldPosition?X.index-re.index:X.textChange.oldPosition-re.textChange.oldPosition),a.append(this._model,N.map(X=>X.textChange),ur(this._model),this._model.getAlternativeVersionId(),b),b}static _computeCursorState(e,t){try{return e?e(t):null}catch(i){return(0,$.dz)(i),null}}}var Ki=I(2210);class cr extends Z.jG{constructor(){super(...arguments),this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}var Yi=function(g){return g[g.Disabled=0]="Disabled",g[g.EnabledForActive=1]="EnabledForActive",g[g.Enabled=2]="Enabled",g}(Yi||{});class ki{constructor(e,t,i,s,a,h){if(this.visibleColumn=e,this.column=t,this.className=i,this.horizontalLine=s,this.forWrappedLinesAfterColumn=a,this.forWrappedLinesBeforeOrAtColumn=h,-1!==e==(-1!==t))throw new Error}}class Zi{constructor(e,t){this.top=e,this.endColumn=t}}class In extends cr{constructor(e,t){super(),this.textModel=e,this.languageConfigurationService=t}getLanguageConfiguration(e){return this.languageConfigurationService.getLanguageConfiguration(e)}_computeIndentLevel(e){return function Wr(g,e){let t=0,i=0;const s=g.length;for(;i<s;){const a=g.charCodeAt(i);if(32===a)t++;else{if(9!==a)break;t=t-t%e+e}i++}return i===s?-1:t}(this.textModel.getLineContent(e+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(e,t,i){this.assertNotDisposed();const s=this.textModel.getLineCount();if(e<1||e>s)throw new $.D7("Illegal value for lineNumber");const a=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,h=!(!a||!a.offSide);let b=-2,N=-1,X=-2,re=-1;const se=fn=>{if(-1!==b&&(-2===b||b>fn-1)){b=-1,N=-1;for(let ln=fn-2;ln>=0;ln--){const cn=this._computeIndentLevel(ln);if(cn>=0){b=ln,N=cn;break}}}if(-2===X){X=-1,re=-1;for(let ln=fn;ln<s;ln++){const cn=this._computeIndentLevel(ln);if(cn>=0){X=ln,re=cn;break}}}};let be=-2,Re=-1,Fe=-2,Xe=-1;const it=fn=>{if(-2===be){be=-1,Re=-1;for(let ln=fn-2;ln>=0;ln--){const cn=this._computeIndentLevel(ln);if(cn>=0){be=ln,Re=cn;break}}}if(-1!==Fe&&(-2===Fe||Fe<fn-1)){Fe=-1,Xe=-1;for(let ln=fn;ln<s;ln++){const cn=this._computeIndentLevel(ln);if(cn>=0){Fe=ln,Xe=cn;break}}}};let pt=0,wt=!0,Mt=0,Qt=!0,yn=0,Dn=0;for(let fn=0;wt||Qt;fn++){const ln=e-fn,cn=e+fn;fn>1&&(ln<1||ln<t)&&(wt=!1),fn>1&&(cn>s||cn>i)&&(Qt=!1),fn>5e4&&(wt=!1,Qt=!1);let qn=-1;if(wt&&ln>=1){const yi=this._computeIndentLevel(ln-1);yi>=0?(X=ln-1,re=yi,qn=Math.ceil(yi/this.textModel.getOptions().indentSize)):(se(ln),qn=this._getIndentLevelForWhitespaceLine(h,N,re))}let fi=-1;if(Qt&&cn<=s){const yi=this._computeIndentLevel(cn-1);yi>=0?(be=cn-1,Re=yi,fi=Math.ceil(yi/this.textModel.getOptions().indentSize)):(it(cn),fi=this._getIndentLevelForWhitespaceLine(h,Re,Xe))}if(0!==fn){if(1===fn){if(cn<=s&&fi>=0&&Dn+1===fi){wt=!1,pt=cn,Mt=cn,yn=fi;continue}if(ln>=1&&qn>=0&&qn-1===Dn){Qt=!1,pt=ln,Mt=ln,yn=qn;continue}if(pt=e,Mt=e,yn=Dn,0===yn)return{startLineNumber:pt,endLineNumber:Mt,indent:yn}}wt&&(qn>=yn?pt=ln:wt=!1),Qt&&(fi>=yn?Mt=cn:Qt=!1)}else Dn=qn}return{startLineNumber:pt,endLineNumber:Mt,indent:yn}}getLinesBracketGuides(e,t,i,s){const a=[];for(let se=e;se<=t;se++)a.push([]);const b=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new M.Q(e,1,t,this.textModel.getLineMaxColumn(t))).toArray();let N;if(i&&b.length>0){const se=(e<=i.lineNumber&&i.lineNumber<=t?b:this.textModel.bracketPairs.getBracketPairsInRange(M.Q.fromPositions(i)).toArray()).filter(be=>M.Q.strictContainsPosition(be.range,i));N=(0,Ki.Uk)(se,be=>true)?.range}const X=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,re=new Ur;for(const se of b){if(!se.closingBracketRange)continue;const be=N&&se.range.equalsRange(N);if(!be&&!s.includeInactive)continue;const Re=re.getInlineClassName(se.nestingLevel,se.nestingLevelOfEqualBracketType,X)+(s.highlightActive&&be?" "+re.activeClassName:""),Fe=se.openingBracketRange.getStartPosition(),Xe=se.closingBracketRange.getStartPosition(),it=s.horizontalGuides===Yi.Enabled||s.horizontalGuides===Yi.EnabledForActive&&be;if(se.range.startLineNumber===se.range.endLineNumber){it&&a[se.range.startLineNumber-e].push(new ki(-1,se.openingBracketRange.getEndPosition().column,Re,new Zi(!1,Xe.column),-1,-1));continue}const pt=this.getVisibleColumnFromPosition(Xe),wt=this.getVisibleColumnFromPosition(se.openingBracketRange.getStartPosition()),Mt=Math.min(wt,pt,se.minVisibleColumnIndentation+1);let Qt=!1;f.HG(this.textModel.getLineContent(se.closingBracketRange.startLineNumber))<se.closingBracketRange.startColumn-1&&(Qt=!0);const fn=Math.max(Fe.lineNumber,e),ln=Math.min(Xe.lineNumber,t),cn=Qt?1:0;for(let qn=fn;qn<ln+cn;qn++)a[qn-e].push(new ki(Mt,-1,Re,null,qn===Fe.lineNumber?Fe.column:-1,qn===Xe.lineNumber?Xe.column:-1));it&&(Fe.lineNumber>=e&&wt>Mt&&a[Fe.lineNumber-e].push(new ki(Mt,-1,Re,new Zi(!1,Fe.column),-1,-1)),Xe.lineNumber<=t&&pt>Mt&&a[Xe.lineNumber-e].push(new ki(Mt,-1,Re,new Zi(!Qt,Xe.column),-1,-1)))}for(const se of a)se.sort((be,Re)=>be.visibleColumn-Re.visibleColumn);return a}getVisibleColumnFromPosition(e){return ae.visibleColumnFromColumn(this.textModel.getLineContent(e.lineNumber),e.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(e,t){this.assertNotDisposed();const i=this.textModel.getLineCount();if(e<1||e>i)throw new Error("Illegal value for startLineNumber");if(t<1||t>i)throw new Error("Illegal value for endLineNumber");const s=this.textModel.getOptions(),a=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,h=!(!a||!a.offSide),b=new Array(t-e+1);let N=-2,X=-1,re=-2,se=-1;for(let be=e;be<=t;be++){const Re=be-e,Fe=this._computeIndentLevel(be-1);if(Fe>=0)N=be-1,X=Fe,b[Re]=Math.ceil(Fe/s.indentSize);else{if(-2===N){N=-1,X=-1;for(let Xe=be-2;Xe>=0;Xe--){const it=this._computeIndentLevel(Xe);if(it>=0){N=Xe,X=it;break}}}if(-1!==re&&(-2===re||re<be-1)){re=-1,se=-1;for(let Xe=be;Xe<i;Xe++){const it=this._computeIndentLevel(Xe);if(it>=0){re=Xe,se=it;break}}}b[Re]=this._getIndentLevelForWhitespaceLine(h,X,se)}}return b}_getIndentLevelForWhitespaceLine(e,t,i){const s=this.textModel.getOptions();return-1===t||-1===i?0:t<i?1+Math.floor(t/s.indentSize):t===i||e?Math.ceil(i/s.indentSize):1+Math.floor(i/s.indentSize)}}class Ur{constructor(){this.activeClassName="indent-active"}getInlineClassName(e,t,i){return this.getInlineClassNameOfLevel(i?t:e)}getInlineClassNameOfLevel(e){return"bracket-indent-guide lvl-"+e%30}}class zr{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function Li(g,e,t,i,s){let a;for(s.spacesDiff=0,s.looksLikeAlignment=!1,a=0;a<e&&a<i&&g.charCodeAt(a)===t.charCodeAt(a);a++);let h=0,b=0;for(let be=a;be<e;be++)32===g.charCodeAt(be)?h++:b++;let N=0,X=0;for(let be=a;be<i;be++)32===t.charCodeAt(be)?N++:X++;if(h>0&&b>0||N>0&&X>0)return;const re=Math.abs(b-X),se=Math.abs(h-N);if(0===re)return s.spacesDiff=se,void(se>0&&0<=N-1&&N-1<g.length&&N<t.length&&32!==t.charCodeAt(N)&&32===g.charCodeAt(N-1)&&44===g.charCodeAt(g.length-1)&&(s.looksLikeAlignment=!0));se%re!=0||(s.spacesDiff=se/re)}function hr(g,e,t){const i=Math.min(g.getLineCount(),1e4);let s=0,a=0,h="",b=0;const N=[2,4,6,8,3,5,7],re=[0,0,0,0,0,0,0,0,0],se=new zr;for(let Fe=1;Fe<=i;Fe++){const Xe=g.getLineLength(Fe),it=g.getLineContent(Fe),pt=Xe<=65536;let wt=!1,Mt=0,Qt=0,yn=0;for(let fn=0,ln=Xe;fn<ln;fn++){const cn=pt?it.charCodeAt(fn):g.getLineCharCode(Fe,fn);if(9===cn)yn++;else{if(32!==cn){wt=!0,Mt=fn;break}Qt++}}if(!wt||(yn>0?s++:Qt>1&&a++,Li(h,b,it,Mt,se),se.looksLikeAlignment&&(!t||e!==se.spacesDiff)))continue;const Dn=se.spacesDiff;Dn<=8&&re[Dn]++,h=it,b=Mt}let be=t;s!==a&&(be=s<a);let Re=e;if(be){let Fe=be?0:.1*i;N.forEach(Xe=>{const it=re[Xe];it>Fe&&(Fe=it,Re=Xe)}),4===Re&&re[4]>0&&re[2]>0&&re[2]>=re[4]/2&&(Re=2)}return{insertSpaces:be,tabSize:Re}}function zn(g){return(1&g.metadata)>>>0}function un(g,e){g.metadata=254&g.metadata|e}function Nn(g){return(2&g.metadata)>>>1==1}function Kt(g,e){g.metadata=253&g.metadata|(e?1:0)<<1}function jr(g){return(4&g.metadata)>>>2==1}function xr(g,e){g.metadata=251&g.metadata|(e?1:0)<<2}function zi(g){return(64&g.metadata)>>>6==1}function yr(g,e){g.metadata=191&g.metadata|(e?1:0)<<6}function fr(g,e){g.metadata=231&g.metadata|e<<3}function gr(g,e){g.metadata=223&g.metadata|(e?1:0)<<5}class Bi{constructor(e,t,i){this.metadata=0,this.parent=this,this.left=this,this.right=this,un(this,1),this.start=t,this.end=i,this.delta=0,this.maxEnd=i,this.id=e,this.ownerId=0,this.options=null,xr(this,!1),yr(this,!1),fr(this,1),gr(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=i,this.range=null,Kt(this,!1)}reset(e,t,i,s){this.start=t,this.end=i,this.maxEnd=i,this.cachedVersionId=e,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=i,this.range=s}setOptions(e){this.options=e;const t=this.options.className;xr(this,"squiggly-error"===t||"squiggly-warning"===t||"squiggly-info"===t),yr(this,null!==this.options.glyphMarginClassName),fr(this,this.options.stickiness),gr(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(e,t,i){this.cachedVersionId!==i&&(this.range=null),this.cachedVersionId=i,this.cachedAbsoluteStart=e,this.cachedAbsoluteEnd=t}detach(){this.parent=null,this.left=null,this.right=null}}const Ft=new Bi(null,0,0);Ft.parent=Ft,Ft.left=Ft,Ft.right=Ft,un(Ft,0);class ci{constructor(){this.root=Ft,this.requestNormalizeDelta=!1}intervalSearch(e,t,i,s,a,h){return this.root===Ft?[]:function Gr(g,e,t,i,s,a,h){let b=g.root,N=0,X=0,re=0,se=0;const be=[];let Re=0;for(;b!==Ft;)if(Nn(b))Kt(b.left,!1),Kt(b.right,!1),b===b.parent.right&&(N-=b.parent.delta),b=b.parent;else{if(!Nn(b.left)){if(X=N+b.maxEnd,X<e){Kt(b,!0);continue}if(b.left!==Ft){b=b.left;continue}}if(re=N+b.start,re>t)Kt(b,!0);else{if(se=N+b.end,se>=e){b.setCachedOffsets(re,se,a);let Fe=!0;i&&b.ownerId&&b.ownerId!==i&&(Fe=!1),s&&jr(b)&&(Fe=!1),h&&!zi(b)&&(Fe=!1),Fe&&(be[Re++]=b)}Kt(b,!0),b.right===Ft||Nn(b.right)||(N+=b.delta,b=b.right)}}return Kt(g.root,!1),be}(this,e,t,i,s,a,h)}search(e,t,i,s){return this.root===Ft?[]:function $r(g,e,t,i,s){let a=g.root,h=0,b=0,N=0;const X=[];let re=0;for(;a!==Ft;){if(Nn(a)){Kt(a.left,!1),Kt(a.right,!1),a===a.parent.right&&(h-=a.parent.delta),a=a.parent;continue}if(a.left!==Ft&&!Nn(a.left)){a=a.left;continue}b=h+a.start,N=h+a.end,a.setCachedOffsets(b,N,i);let se=!0;e&&a.ownerId&&a.ownerId!==e&&(se=!1),t&&jr(a)&&(se=!1),s&&!zi(a)&&(se=!1),se&&(X[re++]=a),Kt(a,!0),a.right===Ft||Nn(a.right)||(h+=a.delta,a=a.right)}return Kt(g.root,!1),X}(this,e,t,i,s)}collectNodesFromOwner(e){return function Pn(g,e){let t=g.root;const i=[];let s=0;for(;t!==Ft;)Nn(t)?(Kt(t.left,!1),Kt(t.right,!1),t=t.parent):t.left===Ft||Nn(t.left)?(t.ownerId===e&&(i[s++]=t),Kt(t,!0),t.right===Ft||Nn(t.right)||(t=t.right)):t=t.left;return Kt(g.root,!1),i}(this,e)}collectNodesPostOrder(){return function er(g){let e=g.root;const t=[];let i=0;for(;e!==Ft;)Nn(e)?(Kt(e.left,!1),Kt(e.right,!1),e=e.parent):e.left===Ft||Nn(e.left)?e.right===Ft||Nn(e.right)?(t[i++]=e,Kt(e,!0)):e=e.right:e=e.left;return Kt(g.root,!1),t}(this)}insert(e){wr(this,e),this._normalizeDeltaIfNecessary()}delete(e){Er(this,e),this._normalizeDeltaIfNecessary()}resolveNode(e,t){const i=e;let s=0;for(;e!==this.root;)e===e.parent.right&&(s+=e.parent.delta),e=e.parent;i.setCachedOffsets(i.start+s,i.end+s,t)}acceptReplace(e,t,i,s){const a=function ji(g,e,t){let i=g.root,s=0,a=0,h=0,b=0;const N=[];let X=0;for(;i!==Ft;)if(Nn(i))Kt(i.left,!1),Kt(i.right,!1),i===i.parent.right&&(s-=i.parent.delta),i=i.parent;else{if(!Nn(i.left)){if(a=s+i.maxEnd,a<e){Kt(i,!0);continue}if(i.left!==Ft){i=i.left;continue}}h=s+i.start,h>t?Kt(i,!0):(b=s+i.end,b>=e&&(i.setCachedOffsets(h,b,0),N[X++]=i),Kt(i,!0),i.right===Ft||Nn(i.right)||(s+=i.delta,i=i.right))}return Kt(g.root,!1),N}(this,e,e+t);for(let h=0,b=a.length;h<b;h++)Er(this,a[h]);this._normalizeDeltaIfNecessary(),function mr(g,e,t,i){let s=g.root,a=0,h=0,b=0;const N=i-(t-e);for(;s!==Ft;)if(Nn(s))Kt(s.left,!1),Kt(s.right,!1),s===s.parent.right&&(a-=s.parent.delta),Ci(s),s=s.parent;else{if(!Nn(s.left)){if(h=a+s.maxEnd,h<e){Kt(s,!0);continue}if(s.left!==Ft){s=s.left;continue}}b=a+s.start,b>t?(s.start+=N,s.end+=N,s.delta+=N,(s.delta<-1073741824||s.delta>1073741824)&&(g.requestNormalizeDelta=!0),Kt(s,!0)):(Kt(s,!0),s.right===Ft||Nn(s.right)||(a+=s.delta,s=s.right))}Kt(g.root,!1)}(this,e,e+t,i),this._normalizeDeltaIfNecessary();for(let h=0,b=a.length;h<b;h++){const N=a[h];N.start=N.cachedAbsoluteStart,N.end=N.cachedAbsoluteEnd,Hr(N,e,e+t,i,s),N.maxEnd=N.end,wr(this,N)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,function Sr(g){let e=g.root,t=0;for(;e!==Ft;)e.left===Ft||Nn(e.left)?e.right===Ft||Nn(e.right)?(e.start=t+e.start,e.end=t+e.end,e.delta=0,Ci(e),Kt(e,!0),Kt(e.left,!1),Kt(e.right,!1),e===e.parent.right&&(t-=e.parent.delta),e=e.parent):(t+=e.delta,e=e.right):e=e.left;Kt(g.root,!1)}(this))}}function ei(g,e,t,i){return g<t||!(g>t||1===i)&&(2===i||e)}function Hr(g,e,t,i,s){const a=function dr(g){return(24&g.metadata)>>>3}(g),h=0===a||2===a,b=1===a||2===a,N=t-e,X=i,re=Math.min(N,X),se=g.start;let be=!1;const Re=g.end;let Fe=!1;e<=se&&Re<=t&&function Mi(g){return(32&g.metadata)>>>5==1}(g)&&(g.start=e,be=!0,g.end=e,Fe=!0);{const it=s?1:N>0?2:0;!be&&ei(se,h,e,it)&&(be=!0),!Fe&&ei(Re,b,e,it)&&(Fe=!0)}if(re>0&&!s){const it=N>X?2:0;!be&&ei(se,h,e+re,it)&&(be=!0),!Fe&&ei(Re,b,e+re,it)&&(Fe=!0)}{const it=s?1:0;!be&&ei(se,h,t,it)&&(g.start=e+X,be=!0),!Fe&&ei(Re,b,t,it)&&(g.end=e+X,Fe=!0)}const Xe=X-N;be||(g.start=Math.max(0,se+Xe)),Fe||(g.end=Math.max(0,Re+Xe)),g.start>g.end&&(g.end=g.start)}function wr(g,e){if(g.root===Ft)return e.parent=Ft,e.left=Ft,e.right=Ft,un(e,0),g.root=e,g.root;(function qr(g,e){let t=0,i=g.root;const s=e.start,a=e.end;for(;;)if(Qr(s,a,i.start+t,i.end+t)<0){if(i.left===Ft){e.start-=t,e.end-=t,e.maxEnd-=t,i.left=e;break}i=i.left}else{if(i.right===Ft){e.start-=t+i.delta,e.end-=t+i.delta,e.maxEnd-=t+i.delta,i.right=e;break}t+=i.delta,i=i.right}e.parent=i,e.left=Ft,e.right=Ft,un(e,1)})(g,e),hi(e.parent);let t=e;for(;t!==g.root&&1===zn(t.parent);)if(t.parent===t.parent.parent.left){const i=t.parent.parent.right;1===zn(i)?(un(t.parent,0),un(i,0),un(t.parent.parent,1),t=t.parent.parent):(t===t.parent.right&&(t=t.parent,Ri(g,t)),un(t.parent,0),un(t.parent.parent,1),Hi(g,t.parent.parent))}else{const i=t.parent.parent.left;1===zn(i)?(un(t.parent,0),un(i,0),un(t.parent.parent,1),t=t.parent.parent):(t===t.parent.left&&(t=t.parent,Hi(g,t)),un(t.parent,0),un(t.parent.parent,1),Ri(g,t.parent.parent))}return un(g.root,0),e}function Er(g,e){let t,i;if(e.left===Ft?(t=e.right,i=e,t.delta+=e.delta,(t.delta<-1073741824||t.delta>1073741824)&&(g.requestNormalizeDelta=!0),t.start+=e.delta,t.end+=e.delta):e.right===Ft?(t=e.left,i=e):(i=function Ar(g){for(;g.left!==Ft;)g=g.left;return g}(e.right),t=i.right,t.start+=i.delta,t.end+=i.delta,t.delta+=i.delta,(t.delta<-1073741824||t.delta>1073741824)&&(g.requestNormalizeDelta=!0),i.start+=e.delta,i.end+=e.delta,i.delta=e.delta,(i.delta<-1073741824||i.delta>1073741824)&&(g.requestNormalizeDelta=!0)),i===g.root)return g.root=t,un(t,0),e.detach(),tr(),Ci(t),void(g.root.parent=Ft);const s=1===zn(i);if(i===i.parent.left?i.parent.left=t:i.parent.right=t,i===e?t.parent=i.parent:(t.parent=i.parent===e?i:i.parent,i.left=e.left,i.right=e.right,i.parent=e.parent,un(i,zn(e)),e===g.root?g.root=i:e===e.parent.left?e.parent.left=i:e.parent.right=i,i.left!==Ft&&(i.left.parent=i),i.right!==Ft&&(i.right.parent=i)),e.detach(),s)return hi(t.parent),i!==e&&(hi(i),hi(i.parent)),void tr();let a;for(hi(t),hi(t.parent),i!==e&&(hi(i),hi(i.parent));t!==g.root&&0===zn(t);)t===t.parent.left?(a=t.parent.right,1===zn(a)&&(un(a,0),un(t.parent,1),Ri(g,t.parent),a=t.parent.right),0===zn(a.left)&&0===zn(a.right)?(un(a,1),t=t.parent):(0===zn(a.right)&&(un(a.left,0),un(a,1),Hi(g,a),a=t.parent.right),un(a,zn(t.parent)),un(t.parent,0),un(a.right,0),Ri(g,t.parent),t=g.root)):(a=t.parent.left,1===zn(a)&&(un(a,0),un(t.parent,1),Hi(g,t.parent),a=t.parent.left),0===zn(a.left)&&0===zn(a.right)?(un(a,1),t=t.parent):(0===zn(a.left)&&(un(a.right,0),un(a,1),Ri(g,a),a=t.parent.left),un(a,zn(t.parent)),un(t.parent,0),un(a.left,0),Hi(g,t.parent),t=g.root));un(t,0),tr()}function tr(){Ft.parent=Ft,Ft.delta=0,Ft.start=0,Ft.end=0}function Ri(g,e){const t=e.right;t.delta+=e.delta,(t.delta<-1073741824||t.delta>1073741824)&&(g.requestNormalizeDelta=!0),t.start+=e.delta,t.end+=e.delta,e.right=t.left,t.left!==Ft&&(t.left.parent=e),t.parent=e.parent,e.parent===Ft?g.root=t:e===e.parent.left?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t,Ci(e),Ci(t)}function Hi(g,e){const t=e.left;e.delta-=t.delta,(e.delta<-1073741824||e.delta>1073741824)&&(g.requestNormalizeDelta=!0),e.start-=t.delta,e.end-=t.delta,e.left=t.right,t.right!==Ft&&(t.right.parent=e),t.parent=e.parent,e.parent===Ft?g.root=t:e===e.parent.right?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t,Ci(e),Ci(t)}function Ir(g){let e=g.end;if(g.left!==Ft){const t=g.left.maxEnd;t>e&&(e=t)}if(g.right!==Ft){const t=g.right.maxEnd+g.delta;t>e&&(e=t)}return e}function Ci(g){g.maxEnd=Ir(g)}function hi(g){for(;g!==Ft;){const e=Ir(g);if(g.maxEnd===e)return;g.maxEnd=e,g=g.parent}}function Qr(g,e,t,i){return g===t?e-i:g-t}class pr{constructor(e,t){this.piece=e,this.color=t,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==It)return nr(this.right);let e=this;for(;e.parent!==It&&e.parent.left!==e;)e=e.parent;return e.parent===It?It:e.parent}prev(){if(this.left!==It)return Si(this.left);let e=this;for(;e.parent!==It&&e.parent.right!==e;)e=e.parent;return e.parent===It?It:e.parent}detach(){this.parent=null,this.left=null,this.right=null}}const It=new pr(null,0);function nr(g){for(;g.left!==It;)g=g.left;return g}function Si(g){for(;g.right!==It;)g=g.right;return g}function Oi(g){return g===It?0:g.size_left+g.piece.length+Oi(g.right)}function Pi(g){return g===It?0:g.lf_left+g.piece.lineFeedCnt+Pi(g.right)}function _r(){It.parent=It}function $i(g,e){const t=e.right;t.size_left+=e.size_left+(e.piece?e.piece.length:0),t.lf_left+=e.lf_left+(e.piece?e.piece.lineFeedCnt:0),e.right=t.left,t.left!==It&&(t.left.parent=e),t.parent=e.parent,e.parent===It?g.root=t:e.parent.left===e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t}function Fi(g,e){const t=e.left;e.left=t.right,t.right!==It&&(t.right.parent=e),t.parent=e.parent,e.size_left-=t.size_left+(t.piece?t.piece.length:0),e.lf_left-=t.lf_left+(t.piece?t.piece.lineFeedCnt:0),e.parent===It?g.root=t:e===e.parent.right?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t}function ir(g,e){let t,i;if(e.left===It?(i=e,t=i.right):e.right===It?(i=e,t=i.left):(i=nr(e.right),t=i.right),i===g.root)return g.root=t,t.color=0,e.detach(),_r(),void(g.root.parent=It);const s=1===i.color;if(i===i.parent.left?i.parent.left=t:i.parent.right=t,i===e?(t.parent=i.parent,c(g,t)):(t.parent=i.parent===e?i:i.parent,c(g,t),i.left=e.left,i.right=e.right,i.parent=e.parent,i.color=e.color,e===g.root?g.root=i:e===e.parent.left?e.parent.left=i:e.parent.right=i,i.left!==It&&(i.left.parent=i),i.right!==It&&(i.right.parent=i),i.size_left=e.size_left,i.lf_left=e.lf_left,c(g,i)),e.detach(),t.parent.left===t){const h=Oi(t),b=Pi(t);if(h!==t.parent.size_left||b!==t.parent.lf_left){const N=h-t.parent.size_left,X=b-t.parent.lf_left;t.parent.size_left=h,t.parent.lf_left=b,l(g,t.parent,N,X)}}if(c(g,t.parent),s)return void _r();let a;for(;t!==g.root&&0===t.color;)t===t.parent.left?(a=t.parent.right,1===a.color&&(a.color=0,t.parent.color=1,$i(g,t.parent),a=t.parent.right),0===a.left.color&&0===a.right.color?(a.color=1,t=t.parent):(0===a.right.color&&(a.left.color=0,a.color=1,Fi(g,a),a=t.parent.right),a.color=t.parent.color,t.parent.color=0,a.right.color=0,$i(g,t.parent),t=g.root)):(a=t.parent.left,1===a.color&&(a.color=0,t.parent.color=1,Fi(g,t.parent),a=t.parent.left),0===a.left.color&&0===a.right.color?(a.color=1,t=t.parent):(0===a.left.color&&(a.right.color=0,a.color=1,$i(g,a),a=t.parent.left),a.color=t.parent.color,t.parent.color=0,a.left.color=0,Fi(g,t.parent),t=g.root));t.color=0,_r()}function r(g,e){for(c(g,e);e!==g.root&&1===e.parent.color;)if(e.parent===e.parent.parent.left){const t=e.parent.parent.right;1===t.color?(e.parent.color=0,t.color=0,e.parent.parent.color=1,e=e.parent.parent):(e===e.parent.right&&$i(g,e=e.parent),e.parent.color=0,e.parent.parent.color=1,Fi(g,e.parent.parent))}else{const t=e.parent.parent.left;1===t.color?(e.parent.color=0,t.color=0,e.parent.parent.color=1,e=e.parent.parent):(e===e.parent.left&&Fi(g,e=e.parent),e.parent.color=0,e.parent.parent.color=1,$i(g,e.parent.parent))}g.root.color=0}function l(g,e,t,i){for(;e!==g.root&&e!==It;)e.parent.left===e&&(e.parent.size_left+=t,e.parent.lf_left+=i),e=e.parent}function c(g,e){let t=0,i=0;if(e!==g.root){for(;e!==g.root&&e===e.parent.right;)e=e.parent;if(e!==g.root)for(t=Oi((e=e.parent).left)-e.size_left,i=Pi(e.left)-e.lf_left,e.size_left+=t,e.lf_left+=i;e!==g.root&&(0!==t||0!==i);)e.parent.left===e&&(e.parent.size_left+=t,e.parent.lf_left+=i),e=e.parent}}It.parent=It,It.left=It,It.right=It,It.color=0;var u=I(9966);const d=65535;function L(g){let e;return e=g[g.length-1]<65536?new Uint16Array(g.length):new Uint32Array(g.length),e.set(g,0),e}class q{constructor(e,t,i,s,a){this.lineStarts=e,this.cr=t,this.lf=i,this.crlf=s,this.isBasicASCII=a}}function Ee(g,e=!0){const t=[0];let i=1;for(let s=0,a=g.length;s<a;s++){const h=g.charCodeAt(s);13===h?s+1<a&&10===g.charCodeAt(s+1)?(t[i++]=s+2,s++):t[i++]=s+1:10===h&&(t[i++]=s+1)}return e?L(t):t}class de{constructor(e,t,i,s,a){this.bufferIndex=e,this.start=t,this.end=i,this.lineFeedCnt=s,this.length=a}}class Le{constructor(e,t){this.buffer=e,this.lineStarts=t}}class fe{constructor(e,t){this._pieces=[],this._tree=e,this._BOM=t,this._index=0,e.root!==It&&e.iterate(e.root,i=>(i!==It&&this._pieces.push(i.piece),!0))}read(){return 0===this._pieces.length?0===this._index?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:0===this._index?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class ye{constructor(e){this._limit=e,this._cache=[]}get(e){for(let t=this._cache.length-1;t>=0;t--){const i=this._cache[t];if(i.nodeStartOffset<=e&&i.nodeStartOffset+i.node.piece.length>=e)return i}return null}get2(e){for(let t=this._cache.length-1;t>=0;t--){const i=this._cache[t];if(i.nodeStartLineNumber&&i.nodeStartLineNumber<e&&i.nodeStartLineNumber+i.node.piece.lineFeedCnt>=e)return i}return null}set(e){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(e)}validate(e){let t=!1;const i=this._cache;for(let s=0;s<i.length;s++){const a=i[s];(null===a.node.parent||a.nodeStartOffset>=e)&&(i[s]=null,t=!0)}if(t){const s=[];for(const a of i)null!==a&&s.push(a);this._cache=s}}}class Ne{constructor(e,t,i){this.create(e,t,i)}create(e,t,i){this._buffers=[new Le("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=It,this._lineCnt=1,this._length=0,this._EOL=t,this._EOLLength=t.length,this._EOLNormalized=i;let s=null;for(let a=0,h=e.length;a<h;a++)if(e[a].buffer.length>0){e[a].lineStarts||(e[a].lineStarts=Ee(e[a].buffer));const b=new de(a+1,{line:0,column:0},{line:e[a].lineStarts.length-1,column:e[a].buffer.length-e[a].lineStarts[e[a].lineStarts.length-1]},e[a].lineStarts.length-1,e[a].buffer.length);this._buffers.push(e[a]),s=this.rbInsertRight(s,b)}this._searchCache=new ye(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(e){const i=d-Math.floor(d/3),s=2*i;let a="",h=0;const b=[];if(this.iterate(this.root,N=>{const X=this.getNodeContent(N),re=X.length;if(h<=i||h+re<s)return a+=X,h+=re,!0;const se=a.replace(/\r\n|\r|\n/g,e);return b.push(new Le(se,Ee(se))),a=X,h=re,!0}),h>0){const N=a.replace(/\r\n|\r|\n/g,e);b.push(new Le(N,Ee(N)))}this.create(b,e,!0)}getEOL(){return this._EOL}setEOL(e){this._EOL=e,this._EOLLength=this._EOL.length,this.normalizeEOL(e)}createSnapshot(e){return new fe(this,e)}getOffsetAt(e,t){let i=0,s=this.root;for(;s!==It;)if(s.left!==It&&s.lf_left+1>=e)s=s.left;else{if(s.lf_left+s.piece.lineFeedCnt+1>=e)return i+=s.size_left,i+(this.getAccumulatedValue(s,e-s.lf_left-2)+t-1);e-=s.lf_left+s.piece.lineFeedCnt,i+=s.size_left+s.piece.length,s=s.right}return i}getPositionAt(e){e=Math.floor(e),e=Math.max(0,e);let t=this.root,i=0;const s=e;for(;t!==It;)if(0!==t.size_left&&t.size_left>=e)t=t.left;else{if(t.size_left+t.piece.length>=e){const a=this.getIndexOf(t,e-t.size_left);if(i+=t.lf_left+a.index,0===a.index){const h=this.getOffsetAt(i+1,1);return new S.y(i+1,s-h+1)}return new S.y(i+1,a.remainder+1)}if(e-=t.size_left+t.piece.length,i+=t.lf_left+t.piece.lineFeedCnt,t.right===It){const a=this.getOffsetAt(i+1,1);return new S.y(i+1,s-e-a+1)}t=t.right}return new S.y(1,1)}getValueInRange(e,t){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return"";const i=this.nodeAt2(e.startLineNumber,e.startColumn),s=this.nodeAt2(e.endLineNumber,e.endColumn),a=this.getValueInRange2(i,s);return t?t===this._EOL&&this._EOLNormalized&&t===this.getEOL()&&this._EOLNormalized?a:a.replace(/\r\n|\r|\n/g,t):a}getValueInRange2(e,t){if(e.node===t.node){const b=e.node,N=this._buffers[b.piece.bufferIndex].buffer,X=this.offsetInBuffer(b.piece.bufferIndex,b.piece.start);return N.substring(X+e.remainder,X+t.remainder)}let i=e.node;const s=this._buffers[i.piece.bufferIndex].buffer,a=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);let h=s.substring(a+e.remainder,a+i.piece.length);for(i=i.next();i!==It;){const b=this._buffers[i.piece.bufferIndex].buffer,N=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(i===t.node){h+=b.substring(N,N+t.remainder);break}h+=b.substr(N,i.piece.length),i=i.next()}return h}getLinesContent(){const e=[];let t=0,i="",s=!1;return this.iterate(this.root,a=>{if(a===It)return!0;const h=a.piece;let b=h.length;if(0===b)return!0;const N=this._buffers[h.bufferIndex].buffer,X=this._buffers[h.bufferIndex].lineStarts,re=h.start.line,se=h.end.line;let be=X[re]+h.start.column;if(s&&(10===N.charCodeAt(be)&&(be++,b--),e[t++]=i,i="",s=!1,0===b))return!0;if(re===se)return this._EOLNormalized||13!==N.charCodeAt(be+b-1)?i+=N.substr(be,b):(s=!0,i+=N.substr(be,b-1)),!0;i+=this._EOLNormalized?N.substring(be,Math.max(be,X[re+1]-this._EOLLength)):N.substring(be,X[re+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=i;for(let Re=re+1;Re<se;Re++)i=this._EOLNormalized?N.substring(X[Re],X[Re+1]-this._EOLLength):N.substring(X[Re],X[Re+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=i;return this._EOLNormalized||13!==N.charCodeAt(X[se]+h.end.column-1)?i=N.substr(X[se],h.end.column):(s=!0,0===h.end.column?t--:i=N.substr(X[se],h.end.column-1)),!0}),s&&(e[t++]=i,i=""),e[t++]=i,e}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(e){return this._lastVisitedLine.lineNumber===e||(this._lastVisitedLine.lineNumber=e,this._lastVisitedLine.value=e===this._lineCnt?this.getLineRawContent(e):this._EOLNormalized?this.getLineRawContent(e,this._EOLLength):this.getLineRawContent(e).replace(/(\r\n|\r|\n)$/,"")),this._lastVisitedLine.value}_getCharCode(e){if(e.remainder===e.node.piece.length){const t=e.node.next();if(!t)return 0;const i=this._buffers[t.piece.bufferIndex],s=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);return i.buffer.charCodeAt(s)}{const t=this._buffers[e.node.piece.bufferIndex],s=this.offsetInBuffer(e.node.piece.bufferIndex,e.node.piece.start)+e.remainder;return t.buffer.charCodeAt(s)}}getLineCharCode(e,t){const i=this.nodeAt2(e,t+1);return this._getCharCode(i)}getLineLength(e){if(e===this.getLineCount()){const t=this.getOffsetAt(e,1);return this.getLength()-t}return this.getOffsetAt(e+1,1)-this.getOffsetAt(e,1)-this._EOLLength}findMatchesInNode(e,t,i,s,a,h,b,N,X,re,se){const be=this._buffers[e.piece.bufferIndex],Re=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start),Fe=this.offsetInBuffer(e.piece.bufferIndex,a),Xe=this.offsetInBuffer(e.piece.bufferIndex,h);let it;const pt={line:0,column:0};let wt,Mt;t._wordSeparators?(wt=be.buffer.substring(Fe,Xe),Mt=Qt=>Qt+Fe,t.reset(0)):(wt=be.buffer,Mt=Qt=>Qt,t.reset(Fe));do{if(it=t.next(wt),it){if(Mt(it.index)>=Xe)return re;this.positionInBuffer(e,Mt(it.index)-Re,pt);const Qt=this.getLineFeedCnt(e.piece.bufferIndex,a,pt),yn=pt.line===a.line?pt.column-a.column+s:pt.column+1;if(se[re++]=(0,u.dr)(new M.Q(i+Qt,yn,i+Qt,yn+it[0].length),it,N),Mt(it.index)+it[0].length>=Xe||re>=X)return re}}while(it);return re}findMatchesLineByLine(e,t,i,s){const a=[];let h=0;const b=new u.W5(t.wordSeparators,t.regex);let N=this.nodeAt2(e.startLineNumber,e.startColumn);if(null===N)return[];const X=this.nodeAt2(e.endLineNumber,e.endColumn);if(null===X)return[];let re=this.positionInBuffer(N.node,N.remainder);const se=this.positionInBuffer(X.node,X.remainder);if(N.node===X.node)return this.findMatchesInNode(N.node,b,e.startLineNumber,e.startColumn,re,se,t,i,s,h,a),a;let be=e.startLineNumber,Re=N.node;for(;Re!==X.node;){const Xe=this.getLineFeedCnt(Re.piece.bufferIndex,re,Re.piece.end);if(Xe>=1){const pt=this._buffers[Re.piece.bufferIndex].lineStarts,wt=this.offsetInBuffer(Re.piece.bufferIndex,Re.piece.start);if(h=this.findMatchesInNode(Re,b,be,be===e.startLineNumber?e.startColumn:1,re,this.positionInBuffer(Re,pt[re.line+Xe]-wt),t,i,s,h,a),h>=s)return a;be+=Xe}const it=be===e.startLineNumber?e.startColumn-1:0;if(be===e.endLineNumber){const pt=this.getLineContent(be).substring(it,e.endColumn-1);return h=this._findMatchesInLine(t,b,pt,e.endLineNumber,it,h,a,i,s),a}if(h=this._findMatchesInLine(t,b,this.getLineContent(be).substr(it),be,it,h,a,i,s),h>=s)return a;be++,N=this.nodeAt2(be,1),Re=N.node,re=this.positionInBuffer(N.node,N.remainder)}if(be===e.endLineNumber){const Xe=be===e.startLineNumber?e.startColumn-1:0,it=this.getLineContent(be).substring(Xe,e.endColumn-1);return h=this._findMatchesInLine(t,b,it,e.endLineNumber,Xe,h,a,i,s),a}return h=this.findMatchesInNode(X.node,b,be,be===e.startLineNumber?e.startColumn:1,re,se,t,i,s,h,a),a}_findMatchesInLine(e,t,i,s,a,h,b,N,X){const re=e.wordSeparators;if(!N&&e.simpleSearch){const be=e.simpleSearch,Re=be.length,Fe=i.length;let Xe=-Re;for(;-1!==(Xe=i.indexOf(be,Xe+Re));)if((!re||(0,u.wC)(re,i,Fe,Xe,Re))&&(b[h++]=new Rn.Dg(new M.Q(s,Xe+1+a,s,Xe+1+Re+a),null),h>=X))return h;return h}let se;t.reset(0);do{if(se=t.next(i),se&&(b[h++]=(0,u.dr)(new M.Q(s,se.index+1+a,s,se.index+1+se[0].length+a),se,N),h>=X))return h}while(se);return h}insert(e,t,i=!1){if(this._EOLNormalized=this._EOLNormalized&&i,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==It){const{node:s,remainder:a,nodeStartOffset:h}=this.nodeAt(e),b=s.piece,N=b.bufferIndex,X=this.positionInBuffer(s,a);if(0===s.piece.bufferIndex&&b.end.line===this._lastChangeBufferPos.line&&b.end.column===this._lastChangeBufferPos.column&&h+b.length===e&&t.length<d)return this.appendToNode(s,t),void this.computeBufferMetadata();if(h===e)this.insertContentToNodeLeft(t,s),this._searchCache.validate(e);else if(h+s.piece.length>e){const re=[];let se=new de(b.bufferIndex,X,b.end,this.getLineFeedCnt(b.bufferIndex,X,b.end),this.offsetInBuffer(N,b.end)-this.offsetInBuffer(N,X));if(this.shouldCheckCRLF()&&this.endWithCR(t)&&10===this.nodeCharCodeAt(s,a)){const Xe={line:se.start.line+1,column:0};se=new de(se.bufferIndex,Xe,se.end,this.getLineFeedCnt(se.bufferIndex,Xe,se.end),se.length-1),t+="\n"}if(this.shouldCheckCRLF()&&this.startWithLF(t))if(13===this.nodeCharCodeAt(s,a-1)){const Xe=this.positionInBuffer(s,a-1);this.deleteNodeTail(s,Xe),t="\r"+t,0===s.piece.length&&re.push(s)}else this.deleteNodeTail(s,X);else this.deleteNodeTail(s,X);const be=this.createNewPieces(t);se.length>0&&this.rbInsertRight(s,se);let Re=s;for(let Fe=0;Fe<be.length;Fe++)Re=this.rbInsertRight(Re,be[Fe]);this.deleteNodes(re)}else this.insertContentToNodeRight(t,s)}else{const s=this.createNewPieces(t);let a=this.rbInsertLeft(null,s[0]);for(let h=1;h<s.length;h++)a=this.rbInsertRight(a,s[h])}this.computeBufferMetadata()}delete(e,t){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",t<=0||this.root===It)return;const i=this.nodeAt(e),s=this.nodeAt(e+t),a=i.node,h=s.node;if(a===h){const be=this.positionInBuffer(a,i.remainder),Re=this.positionInBuffer(a,s.remainder);if(i.nodeStartOffset===e){if(t===a.piece.length){const Fe=a.next();return ir(this,a),this.validateCRLFWithPrevNode(Fe),void this.computeBufferMetadata()}return this.deleteNodeHead(a,Re),this._searchCache.validate(e),this.validateCRLFWithPrevNode(a),void this.computeBufferMetadata()}return i.nodeStartOffset+a.piece.length===e+t?(this.deleteNodeTail(a,be),this.validateCRLFWithNextNode(a),void this.computeBufferMetadata()):(this.shrinkNode(a,be,Re),void this.computeBufferMetadata())}const b=[],N=this.positionInBuffer(a,i.remainder);this.deleteNodeTail(a,N),this._searchCache.validate(e),0===a.piece.length&&b.push(a);const X=this.positionInBuffer(h,s.remainder);this.deleteNodeHead(h,X),0===h.piece.length&&b.push(h);for(let be=a.next();be!==It&&be!==h;be=be.next())b.push(be);const se=0===a.piece.length?a.prev():a;this.deleteNodes(b),this.validateCRLFWithNextNode(se),this.computeBufferMetadata()}insertContentToNodeLeft(e,t){const i=[];if(this.shouldCheckCRLF()&&this.endWithCR(e)&&this.startWithLF(t)){const h=t.piece,b={line:h.start.line+1,column:0},N=new de(h.bufferIndex,b,h.end,this.getLineFeedCnt(h.bufferIndex,b,h.end),h.length-1);t.piece=N,e+="\n",l(this,t,-1,-1),0===t.piece.length&&i.push(t)}const s=this.createNewPieces(e);let a=this.rbInsertLeft(t,s[s.length-1]);for(let h=s.length-2;h>=0;h--)a=this.rbInsertLeft(a,s[h]);this.validateCRLFWithPrevNode(a),this.deleteNodes(i)}insertContentToNodeRight(e,t){this.adjustCarriageReturnFromNext(e,t)&&(e+="\n");const i=this.createNewPieces(e),s=this.rbInsertRight(t,i[0]);let a=s;for(let h=1;h<i.length;h++)a=this.rbInsertRight(a,i[h]);this.validateCRLFWithPrevNode(s)}positionInBuffer(e,t,i){const s=e.piece,h=this._buffers[e.piece.bufferIndex].lineStarts,N=h[s.start.line]+s.start.column+t;let X=s.start.line,re=s.end.line,se=0,be=0,Re=0;for(;X<=re&&(se=X+(re-X)/2|0,Re=h[se],se!==re);)if(be=h[se+1],N<Re)re=se-1;else{if(!(N>=be))break;X=se+1}return i?(i.line=se,i.column=N-Re,null):{line:se,column:N-Re}}getLineFeedCnt(e,t,i){if(0===i.column)return i.line-t.line;const s=this._buffers[e].lineStarts;if(i.line===s.length-1)return i.line-t.line;const h=s[i.line]+i.column;return s[i.line+1]>h+1?i.line-t.line:13===this._buffers[e].buffer.charCodeAt(h-1)?i.line-t.line+1:i.line-t.line}offsetInBuffer(e,t){return this._buffers[e].lineStarts[t.line]+t.column}deleteNodes(e){for(let t=0;t<e.length;t++)ir(this,e[t])}createNewPieces(e){if(e.length>d){const re=[];for(;e.length>d;){const be=e.charCodeAt(d-1);let Re;13===be||be>=55296&&be<=56319?(Re=e.substring(0,d-1),e=e.substring(d-1)):(Re=e.substring(0,d),e=e.substring(d));const Fe=Ee(Re);re.push(new de(this._buffers.length,{line:0,column:0},{line:Fe.length-1,column:Re.length-Fe[Fe.length-1]},Fe.length-1,Re.length)),this._buffers.push(new Le(Re,Fe))}const se=Ee(e);return re.push(new de(this._buffers.length,{line:0,column:0},{line:se.length-1,column:e.length-se[se.length-1]},se.length-1,e.length)),this._buffers.push(new Le(e,se)),re}let t=this._buffers[0].buffer.length;const i=Ee(e,!1);let s=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===t&&0!==t&&this.startWithLF(e)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},s=this._lastChangeBufferPos;for(let re=0;re<i.length;re++)i[re]+=t+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+="_"+e,t+=1}else{if(0!==t)for(let re=0;re<i.length;re++)i[re]+=t;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+=e}const a=this._buffers[0].buffer.length,h=this._buffers[0].lineStarts.length-1,N={line:h,column:a-this._buffers[0].lineStarts[h]},X=new de(0,s,N,this.getLineFeedCnt(0,s,N),a-t);return this._lastChangeBufferPos=N,[X]}getLineRawContent(e,t=0){let i=this.root,s="";const a=this._searchCache.get2(e);if(a){i=a.node;const h=this.getAccumulatedValue(i,e-a.nodeStartLineNumber-1),b=this._buffers[i.piece.bufferIndex].buffer,N=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(a.nodeStartLineNumber+i.piece.lineFeedCnt!==e){const X=this.getAccumulatedValue(i,e-a.nodeStartLineNumber);return b.substring(N+h,N+X-t)}s=b.substring(N+h,N+i.piece.length)}else{let h=0;const b=e;for(;i!==It;)if(i.left!==It&&i.lf_left>=e-1)i=i.left;else{if(i.lf_left+i.piece.lineFeedCnt>e-1){const N=this.getAccumulatedValue(i,e-i.lf_left-2),X=this.getAccumulatedValue(i,e-i.lf_left-1),re=this._buffers[i.piece.bufferIndex].buffer,se=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return h+=i.size_left,this._searchCache.set({node:i,nodeStartOffset:h,nodeStartLineNumber:b-(e-1-i.lf_left)}),re.substring(se+N,se+X-t)}if(i.lf_left+i.piece.lineFeedCnt===e-1){const N=this.getAccumulatedValue(i,e-i.lf_left-2),X=this._buffers[i.piece.bufferIndex].buffer,re=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);s=X.substring(re+N,re+i.piece.length);break}e-=i.lf_left+i.piece.lineFeedCnt,h+=i.size_left+i.piece.length,i=i.right}}for(i=i.next();i!==It;){const h=this._buffers[i.piece.bufferIndex].buffer;if(i.piece.lineFeedCnt>0){const b=this.getAccumulatedValue(i,0),N=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return s+=h.substring(N,N+b-t),s}{const b=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);s+=h.substr(b,i.piece.length)}i=i.next()}return s}computeBufferMetadata(){let e=this.root,t=1,i=0;for(;e!==It;)t+=e.lf_left+e.piece.lineFeedCnt,i+=e.size_left+e.piece.length,e=e.right;this._lineCnt=t,this._length=i,this._searchCache.validate(this._length)}getIndexOf(e,t){const i=e.piece,s=this.positionInBuffer(e,t),a=s.line-i.start.line;if(this.offsetInBuffer(i.bufferIndex,i.end)-this.offsetInBuffer(i.bufferIndex,i.start)===t){const h=this.getLineFeedCnt(e.piece.bufferIndex,i.start,s);if(h!==a)return{index:h,remainder:0}}return{index:a,remainder:s.column}}getAccumulatedValue(e,t){if(t<0)return 0;const i=e.piece,s=this._buffers[i.bufferIndex].lineStarts,a=i.start.line+t+1;return a>i.end.line?s[i.end.line]+i.end.column-s[i.start.line]-i.start.column:s[a]-s[i.start.line]-i.start.column}deleteNodeTail(e,t){const i=e.piece,s=i.lineFeedCnt,a=this.offsetInBuffer(i.bufferIndex,i.end),h=t,b=this.offsetInBuffer(i.bufferIndex,h),N=this.getLineFeedCnt(i.bufferIndex,i.start,h),X=N-s,re=b-a;e.piece=new de(i.bufferIndex,i.start,h,N,i.length+re),l(this,e,re,X)}deleteNodeHead(e,t){const i=e.piece,s=i.lineFeedCnt,a=this.offsetInBuffer(i.bufferIndex,i.start),h=t,b=this.getLineFeedCnt(i.bufferIndex,h,i.end),X=b-s,re=a-this.offsetInBuffer(i.bufferIndex,h);e.piece=new de(i.bufferIndex,h,i.end,b,i.length+re),l(this,e,re,X)}shrinkNode(e,t,i){const s=e.piece,a=s.start,h=s.end,b=s.length,N=s.lineFeedCnt,X=t,re=this.getLineFeedCnt(s.bufferIndex,s.start,X),se=this.offsetInBuffer(s.bufferIndex,t)-this.offsetInBuffer(s.bufferIndex,a);e.piece=new de(s.bufferIndex,s.start,X,re,se),l(this,e,se-b,re-N);const be=new de(s.bufferIndex,i,h,this.getLineFeedCnt(s.bufferIndex,i,h),this.offsetInBuffer(s.bufferIndex,h)-this.offsetInBuffer(s.bufferIndex,i)),Re=this.rbInsertRight(e,be);this.validateCRLFWithPrevNode(Re)}appendToNode(e,t){this.adjustCarriageReturnFromNext(t,e)&&(t+="\n");const i=this.shouldCheckCRLF()&&this.startWithLF(t)&&this.endWithCR(e),s=this._buffers[0].buffer.length;this._buffers[0].buffer+=t;const a=Ee(t,!1);for(let Re=0;Re<a.length;Re++)a[Re]+=s;if(i){const Re=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:s-Re}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(a.slice(1));const h=this._buffers[0].lineStarts.length-1,N={line:h,column:this._buffers[0].buffer.length-this._buffers[0].lineStarts[h]},X=e.piece.length+t.length,re=e.piece.lineFeedCnt,se=this.getLineFeedCnt(0,e.piece.start,N),be=se-re;e.piece=new de(e.piece.bufferIndex,e.piece.start,N,se,X),this._lastChangeBufferPos=N,l(this,e,t.length,be)}nodeAt(e){let t=this.root;const i=this._searchCache.get(e);if(i)return{node:i.node,nodeStartOffset:i.nodeStartOffset,remainder:e-i.nodeStartOffset};let s=0;for(;t!==It;)if(t.size_left>e)t=t.left;else{if(t.size_left+t.piece.length>=e){s+=t.size_left;const a={node:t,remainder:e-t.size_left,nodeStartOffset:s};return this._searchCache.set(a),a}e-=t.size_left+t.piece.length,s+=t.size_left+t.piece.length,t=t.right}return null}nodeAt2(e,t){let i=this.root,s=0;for(;i!==It;)if(i.left!==It&&i.lf_left>=e-1)i=i.left;else{if(i.lf_left+i.piece.lineFeedCnt>e-1){const a=this.getAccumulatedValue(i,e-i.lf_left-2),h=this.getAccumulatedValue(i,e-i.lf_left-1);return s+=i.size_left,{node:i,remainder:Math.min(a+t-1,h),nodeStartOffset:s}}if(i.lf_left+i.piece.lineFeedCnt===e-1){const a=this.getAccumulatedValue(i,e-i.lf_left-2);if(a+t-1<=i.piece.length)return{node:i,remainder:a+t-1,nodeStartOffset:s};t-=i.piece.length-a;break}e-=i.lf_left+i.piece.lineFeedCnt,s+=i.size_left+i.piece.length,i=i.right}for(i=i.next();i!==It;){if(i.piece.lineFeedCnt>0){const a=this.getAccumulatedValue(i,0),h=this.offsetOfNode(i);return{node:i,remainder:Math.min(t-1,a),nodeStartOffset:h}}if(i.piece.length>=t-1)return{node:i,remainder:t-1,nodeStartOffset:this.offsetOfNode(i)};t-=i.piece.length,i=i.next()}return null}nodeCharCodeAt(e,t){if(e.piece.lineFeedCnt<1)return-1;const i=this._buffers[e.piece.bufferIndex],s=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start)+t;return i.buffer.charCodeAt(s)}offsetOfNode(e){if(!e)return 0;let t=e.size_left;for(;e!==this.root;)e.parent.right===e&&(t+=e.parent.size_left+e.parent.piece.length),e=e.parent;return t}shouldCheckCRLF(){return!(this._EOLNormalized&&"\n"===this._EOL)}startWithLF(e){if("string"==typeof e)return 10===e.charCodeAt(0);if(e===It||0===e.piece.lineFeedCnt)return!1;const t=e.piece,i=this._buffers[t.bufferIndex].lineStarts,s=t.start.line,a=i[s]+t.start.column;return!(s===i.length-1||i[s+1]>a+1)&&10===this._buffers[t.bufferIndex].buffer.charCodeAt(a)}endWithCR(e){return"string"==typeof e?13===e.charCodeAt(e.length-1):e!==It&&0!==e.piece.lineFeedCnt&&13===this.nodeCharCodeAt(e,e.piece.length-1)}validateCRLFWithPrevNode(e){if(this.shouldCheckCRLF()&&this.startWithLF(e)){const t=e.prev();this.endWithCR(t)&&this.fixCRLF(t,e)}}validateCRLFWithNextNode(e){if(this.shouldCheckCRLF()&&this.endWithCR(e)){const t=e.next();this.startWithLF(t)&&this.fixCRLF(e,t)}}fixCRLF(e,t){const i=[],s=this._buffers[e.piece.bufferIndex].lineStarts;let a;a=0===e.piece.end.column?{line:e.piece.end.line-1,column:s[e.piece.end.line]-s[e.piece.end.line-1]-1}:{line:e.piece.end.line,column:e.piece.end.column-1},e.piece=new de(e.piece.bufferIndex,e.piece.start,a,e.piece.lineFeedCnt-1,e.piece.length-1),l(this,e,-1,-1),0===e.piece.length&&i.push(e);const N={line:t.piece.start.line+1,column:0},X=t.piece.length-1,re=this.getLineFeedCnt(t.piece.bufferIndex,N,t.piece.end);t.piece=new de(t.piece.bufferIndex,N,t.piece.end,re,X),l(this,t,-1,-1),0===t.piece.length&&i.push(t);const se=this.createNewPieces("\r\n");this.rbInsertRight(e,se[0]);for(let be=0;be<i.length;be++)ir(this,i[be])}adjustCarriageReturnFromNext(e,t){if(this.shouldCheckCRLF()&&this.endWithCR(e)){const i=t.next();if(this.startWithLF(i)){if(e+="\n",1===i.piece.length)ir(this,i);else{const s=i.piece,a={line:s.start.line+1,column:0},h=s.length-1,b=this.getLineFeedCnt(s.bufferIndex,a,s.end);i.piece=new de(s.bufferIndex,a,s.end,b,h),l(this,i,-1,-1)}return!0}}return!1}iterate(e,t){return e===It?t(It):this.iterate(e.left,t)&&t(e)&&this.iterate(e.right,t)}getNodeContent(e){if(e===It)return"";const t=this._buffers[e.piece.bufferIndex],i=e.piece,s=this.offsetInBuffer(i.bufferIndex,i.start),a=this.offsetInBuffer(i.bufferIndex,i.end);return t.buffer.substring(s,a)}getPieceContent(e){const t=this._buffers[e.bufferIndex],i=this.offsetInBuffer(e.bufferIndex,e.start),s=this.offsetInBuffer(e.bufferIndex,e.end);return t.buffer.substring(i,s)}rbInsertRight(e,t){const i=new pr(t,1);if(i.left=It,i.right=It,i.parent=It,i.size_left=0,i.lf_left=0,this.root===It)this.root=i,i.color=0;else if(e.right===It)e.right=i,i.parent=e;else{const a=nr(e.right);a.left=i,i.parent=a}return r(this,i),i}rbInsertLeft(e,t){const i=new pr(t,1);if(i.left=It,i.right=It,i.parent=It,i.size_left=0,i.lf_left=0,this.root===It)this.root=i,i.color=0;else if(e.left===It)e.left=i,i.parent=e;else{const s=Si(e.left);s.right=i,i.parent=s}return r(this,i),i}}class Me extends Z.jG{constructor(e,t,i,s,a,h,b){super(),this._onDidChangeContent=this._register(new W.vl),this._BOM=t,this._mightContainNonBasicASCII=!h,this._mightContainRTL=s,this._mightContainUnusualLineTerminators=a,this._pieceTree=new Ne(e,i,b)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(e){return this._pieceTree.createSnapshot(e?this._BOM:"")}getOffsetAt(e,t){return this._pieceTree.getOffsetAt(e,t)}getPositionAt(e){return this._pieceTree.getPositionAt(e)}getRangeAt(e,t){const i=e+t,s=this.getPositionAt(e),a=this.getPositionAt(i);return new M.Q(s.lineNumber,s.column,a.lineNumber,a.column)}getValueInRange(e,t=0){if(e.isEmpty())return"";const i=this._getEndOfLine(t);return this._pieceTree.getValueInRange(e,i)}getValueLengthInRange(e,t=0){if(e.isEmpty())return 0;if(e.startLineNumber===e.endLineNumber)return e.endColumn-e.startColumn;const i=this.getOffsetAt(e.startLineNumber,e.startColumn),s=this.getOffsetAt(e.endLineNumber,e.endColumn);let a=0;const h=this._getEndOfLine(t),b=this.getEOL();return h.length!==b.length&&(a=(h.length-b.length)*(e.endLineNumber-e.startLineNumber)),s-i+a}getCharacterCountInRange(e,t=0){if(this._mightContainNonBasicASCII){let i=0;const s=e.startLineNumber,a=e.endLineNumber;for(let h=s;h<=a;h++){const b=this.getLineContent(h),X=h===a?e.endColumn-1:b.length;for(let re=h===s?e.startColumn-1:0;re<X;re++)f.pc(b.charCodeAt(re))?(i+=1,re+=1):i+=1}return i+=this._getEndOfLine(t).length*(a-s),i}return this.getValueLengthInRange(e,t)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(e){return this._pieceTree.getLineContent(e)}getLineCharCode(e,t){return this._pieceTree.getLineCharCode(e,t)}getLineLength(e){return this._pieceTree.getLineLength(e)}getLineFirstNonWhitespaceColumn(e){const t=f.HG(this.getLineContent(e));return-1===t?0:t+1}getLineLastNonWhitespaceColumn(e){const t=f.lT(this.getLineContent(e));return-1===t?0:t+2}_getEndOfLine(e){switch(e){case 1:return"\n";case 2:return"\r\n";case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(e){this._pieceTree.setEOL(e)}applyEdits(e,t,i){let s=this._mightContainRTL,a=this._mightContainUnusualLineTerminators,h=this._mightContainNonBasicASCII,b=!0,N=[];for(let Xe=0;Xe<e.length;Xe++){const it=e[Xe];b&&it._isTracked&&(b=!1);const pt=it.range;if(it.text){let Dn=!0;h||(Dn=!f.aC(it.text),h=Dn),!s&&Dn&&(s=f.E_(it.text)),!a&&Dn&&(a=f.$X(it.text))}let wt="",Mt=0,Qt=0,yn=0;if(it.text){let Dn;[Mt,Qt,yn,Dn]=(0,F.W)(it.text);const fn=this.getEOL();wt=0===Dn||Dn===("\r\n"===fn?2:1)?it.text:it.text.replace(/\r\n|\r|\n/g,fn)}N[Xe]={sortIndex:Xe,identifier:it.identifier||null,range:pt,rangeOffset:this.getOffsetAt(pt.startLineNumber,pt.startColumn),rangeLength:this.getValueLengthInRange(pt),text:wt,eolCount:Mt,firstLineLength:Qt,lastLineLength:yn,forceMoveMarkers:!!it.forceMoveMarkers,isAutoWhitespaceEdit:it.isAutoWhitespaceEdit||!1}}N.sort(Me._sortOpsAscending);let X=!1;for(let Xe=0,it=N.length-1;Xe<it;Xe++){const pt=N[Xe].range.getEndPosition(),wt=N[Xe+1].range.getStartPosition();if(wt.isBeforeOrEqual(pt)){if(wt.isBefore(pt))throw new Error("Overlapping ranges are not allowed!");X=!0}}b&&(N=this._reduceOperations(N));const re=i||t?Me._getInverseEditRanges(N):[],se=[];if(t)for(let Xe=0;Xe<N.length;Xe++){const it=N[Xe],pt=re[Xe];if(it.isAutoWhitespaceEdit&&it.range.isEmpty())for(let wt=pt.startLineNumber;wt<=pt.endLineNumber;wt++){let Mt="";wt===pt.startLineNumber&&(Mt=this.getLineContent(it.range.startLineNumber),-1!==f.HG(Mt))||se.push({lineNumber:wt,oldContent:Mt})}}let be=null;if(i){let Xe=0;be=[];for(let it=0;it<N.length;it++){const pt=N[it],wt=re[it],Mt=this.getValueInRange(pt.range),Qt=pt.rangeOffset+Xe;Xe+=pt.text.length-Mt.length,be[it]={sortIndex:pt.sortIndex,identifier:pt.identifier,range:wt,text:Mt,textChange:new An(pt.rangeOffset,Mt,Qt,pt.text)}}X||be.sort((it,pt)=>it.sortIndex-pt.sortIndex)}this._mightContainRTL=s,this._mightContainUnusualLineTerminators=a,this._mightContainNonBasicASCII=h;const Re=this._doApplyEdits(N);let Fe=null;if(t&&se.length>0){se.sort((Xe,it)=>it.lineNumber-Xe.lineNumber),Fe=[];for(let Xe=0,it=se.length;Xe<it;Xe++){const pt=se[Xe].lineNumber;if(Xe>0&&se[Xe-1].lineNumber===pt)continue;const wt=se[Xe].oldContent,Mt=this.getLineContent(pt);0===Mt.length||Mt===wt||-1!==f.HG(Mt)||Fe.push(pt)}}return this._onDidChangeContent.fire(),new Rn.F4(be,Re,Fe)}_reduceOperations(e){return e.length<1e3?e:[this._toSingleEditOperation(e)]}_toSingleEditOperation(e){let t=!1;const i=e[0].range,s=e[e.length-1].range,a=new M.Q(i.startLineNumber,i.startColumn,s.endLineNumber,s.endColumn);let h=i.startLineNumber,b=i.startColumn;const N=[];for(let Re=0,Fe=e.length;Re<Fe;Re++){const Xe=e[Re],it=Xe.range;t=t||Xe.forceMoveMarkers,N.push(this.getValueInRange(new M.Q(h,b,it.startLineNumber,it.startColumn))),Xe.text.length>0&&N.push(Xe.text),h=it.endLineNumber,b=it.endColumn}const X=N.join(""),[re,se,be]=(0,F.W)(X);return{sortIndex:0,identifier:e[0].identifier,range:a,rangeOffset:this.getOffsetAt(a.startLineNumber,a.startColumn),rangeLength:this.getValueLengthInRange(a,0),text:X,eolCount:re,firstLineLength:se,lastLineLength:be,forceMoveMarkers:t,isAutoWhitespaceEdit:!1}}_doApplyEdits(e){e.sort(Me._sortOpsDescending);const t=[];for(let i=0;i<e.length;i++){const s=e[i],a=s.range.startLineNumber,h=s.range.startColumn,b=s.range.endLineNumber,N=s.range.endColumn;if(a===b&&h===N&&0===s.text.length)continue;s.text?(this._pieceTree.delete(s.rangeOffset,s.rangeLength),this._pieceTree.insert(s.rangeOffset,s.text,!0)):this._pieceTree.delete(s.rangeOffset,s.rangeLength);const X=new M.Q(a,h,b,N);t.push({range:X,rangeLength:s.rangeLength,text:s.text,rangeOffset:s.rangeOffset,forceMoveMarkers:s.forceMoveMarkers})}return t}findMatchesLineByLine(e,t,i,s){return this._pieceTree.findMatchesLineByLine(e,t,i,s)}static _getInverseEditRanges(e){const t=[];let i=0,s=0,a=null;for(let h=0,b=e.length;h<b;h++){const N=e[h];let X,re,se;if(a?a.range.endLineNumber===N.range.startLineNumber?(X=i,re=s+(N.range.startColumn-a.range.endColumn)):(X=i+(N.range.startLineNumber-a.range.endLineNumber),re=N.range.startColumn):(X=N.range.startLineNumber,re=N.range.startColumn),N.text.length>0){const be=N.eolCount+1;se=1===be?new M.Q(X,re,X,re+N.firstLineLength):new M.Q(X,re,X+be-1,N.lastLineLength+1)}else se=new M.Q(X,re,X,re);i=se.endLineNumber,s=se.endColumn,t.push(se),a=N}return t}static _sortOpsAscending(e,t){const i=M.Q.compareRangesUsingEnds(e.range,t.range);return 0===i?e.sortIndex-t.sortIndex:i}static _sortOpsDescending(e,t){const i=M.Q.compareRangesUsingEnds(e.range,t.range);return 0===i?t.sortIndex-e.sortIndex:-i}}class He{constructor(e,t,i,s,a,h,b,N,X){this._chunks=e,this._bom=t,this._cr=i,this._lf=s,this._crlf=a,this._containsRTL=h,this._containsUnusualLineTerminators=b,this._isBasicASCII=N,this._normalizeEOL=X}_getEOL(e){const t=this._cr+this._lf+this._crlf;return 0===t?1===e?"\n":"\r\n":this._cr+this._crlf>t/2?"\r\n":"\n"}create(e){const t=this._getEOL(e),i=this._chunks;if(this._normalizeEOL&&("\r\n"===t&&(this._cr>0||this._lf>0)||"\n"===t&&(this._cr>0||this._crlf>0)))for(let a=0,h=i.length;a<h;a++){const b=i[a].buffer.replace(/\r\n|\r|\n/g,t),N=Ee(b);i[a]=new Le(b,N)}const s=new Me(i,this._bom,t,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:s,disposable:s}}}class Ze{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(e){if(0===e.length)return;0===this.chunks.length&&f.LU(e)&&(this.BOM=f.r_,e=e.substr(1));const t=e.charCodeAt(e.length-1);13===t||t>=55296&&t<=56319?(this._acceptChunk1(e.substr(0,e.length-1),!1),this._hasPreviousChar=!0,this._previousChar=t):(this._acceptChunk1(e,!1),this._hasPreviousChar=!1,this._previousChar=t)}_acceptChunk1(e,t){!t&&0===e.length||this._acceptChunk2(this._hasPreviousChar?String.fromCharCode(this._previousChar)+e:e)}_acceptChunk2(e){const t=function oe(g,e){g.length=0,g[0]=0;let t=1,i=0,s=0,a=0,h=!0;for(let N=0,X=e.length;N<X;N++){const re=e.charCodeAt(N);13===re?N+1<X&&10===e.charCodeAt(N+1)?(a++,g[t++]=N+2,N++):(i++,g[t++]=N+1):10===re?(s++,g[t++]=N+1):h&&9!==re&&(re<32||re>126)&&(h=!1)}const b=new q(L(g),i,s,a,h);return g.length=0,b}(this._tmpLineStarts,e);this.chunks.push(new Le(e,t.lineStarts)),this.cr+=t.cr,this.lf+=t.lf,this.crlf+=t.crlf,t.isBasicASCII||(this.isBasicASCII=!1,this.containsRTL||(this.containsRTL=f.E_(e)),this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=f.$X(e)))}finish(e=!0){return this._finish(),new He(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,e)}_finish(){if(0===this.chunks.length&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const e=this.chunks[this.chunks.length-1];e.buffer+=String.fromCharCode(this._previousChar);const t=Ee(e.buffer);e.lineStarts=t,13===this._previousChar&&this.cr++}}}var ut=I(4132),at=I(1489),$e=I(795),lt=I(2588),Qe=I(1639);const xt=new class{clone(){return this}equals(g){return this===g}};class jt{constructor(e){this._default=e,this._store=[]}get(e){return e<this._store.length?this._store[e]:this._default}set(e,t){for(;e>=this._store.length;)this._store[this._store.length]=this._default;this._store[e]=t}replace(e,t,i){if(e>=this._store.length)return;if(0===t)return void this.insert(e,i);if(0===i)return void this.delete(e,t);const s=this._store.slice(0,e),a=this._store.slice(e+t),h=function Yt(g,e){const t=[];for(let i=0;i<g;i++)t[i]=e;return t}(i,this._default);this._store=s.concat(h,a)}delete(e,t){0===t||e>=this._store.length||this._store.splice(e,t)}insert(e,t){if(0===t||e>=this._store.length)return;const i=[];for(let s=0;s<t;s++)i[s]=this._default;this._store=(0,D.nK)(this._store,e,i)}}class Ct{get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}constructor(e,t){this._startLineNumber=e,this._tokens=t}getLineTokens(e){return this._tokens[e-this._startLineNumber]}appendLineTokens(e){this._tokens.push(e)}}class Ye{constructor(){this._tokens=[]}add(e,t){if(this._tokens.length>0){const i=this._tokens[this._tokens.length-1];if(i.endLineNumber+1===e)return void i.appendLineTokens(t)}this._tokens.push(new Ct(e,[t]))}finalize(){return this._tokens}}let vt=(()=>{class g{static{this.defaultTokenMetadata=33587200}static createEmpty(t,i){const s=g.defaultTokenMetadata,a=new Uint32Array(2);return a[0]=t.length,a[1]=s,new g(a,t,i)}static createFromTextAndMetadata(t,i){let s=0,a="";const h=new Array;for(const{text:b,metadata:N}of t)h.push(s+b.length,N),s+=b.length,a+=b;return new g(new Uint32Array(h),a,i)}constructor(t,i,s){this._lineTokensBrand=void 0,this._tokens=t,this._tokensCount=this._tokens.length>>>1,this._text=i,this.languageIdCodec=s}equals(t){return t instanceof g&&this.slicedEquals(t,0,this._tokensCount)}slicedEquals(t,i,s){if(this._text!==t._text||this._tokensCount!==t._tokensCount)return!1;const a=i<<1,h=a+(s<<1);for(let b=a;b<h;b++)if(this._tokens[b]!==t._tokens[b])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(t){return t>0?this._tokens[t-1<<1]:0}getMetadata(t){return this._tokens[1+(t<<1)]}getLanguageId(t){const s=Y.x.getLanguageId(this._tokens[1+(t<<1)]);return this.languageIdCodec.decodeLanguageId(s)}getStandardTokenType(t){return Y.x.getTokenType(this._tokens[1+(t<<1)])}getForeground(t){return Y.x.getForeground(this._tokens[1+(t<<1)])}getClassName(t){return Y.x.getClassNameFromMetadata(this._tokens[1+(t<<1)])}getInlineStyle(t,i){return Y.x.getInlineStyleFromMetadata(this._tokens[1+(t<<1)],i)}getPresentation(t){return Y.x.getPresentationFromMetadata(this._tokens[1+(t<<1)])}getEndOffset(t){return this._tokens[t<<1]}findTokenIndexAtOffset(t){return g.findIndexInTokensArray(this._tokens,t)}inflate(){return this}sliceAndInflate(t,i,s){return new Et(this,t,i,s)}static convertToEndOffset(t,i){const a=(t.length>>>1)-1;for(let h=0;h<a;h++)t[h<<1]=t[h+1<<1];t[a<<1]=i}static findIndexInTokensArray(t,i){if(t.length<=2)return 0;let s=0,a=(t.length>>>1)-1;for(;s<a;){const h=s+Math.floor((a-s)/2),b=t[h<<1];if(b===i)return h+1;b<i?s=h+1:b>i&&(a=h)}return s}withInserted(t){if(0===t.length)return this;let i=0,s=0,a="";const h=new Array;let b=0;for(;;){const N=i<this._tokensCount?this._tokens[i<<1]:-1,X=s<t.length?t[s]:null;if(-1!==N&&(null===X||N<=X.offset))a+=this._text.substring(b,N),h.push(a.length,this._tokens[1+(i<<1)]),i++,b=N;else{if(!X)break;X.offset>b&&(a+=this._text.substring(b,X.offset),h.push(a.length,this._tokens[1+(i<<1)]),b=X.offset),a+=X.text,h.push(a.length,X.tokenMetadata),s++}}return new g(new Uint32Array(h),a,this.languageIdCodec)}getTokenText(t){const i=this.getStartOffset(t),s=this.getEndOffset(t);return this._text.substring(i,s)}forEach(t){const i=this.getCount();for(let s=0;s<i;s++)t(s)}}return g})();class Et{constructor(e,t,i,s){this._source=e,this._startOffset=t,this._endOffset=i,this._deltaOffset=s,this._firstTokenIndex=e.findTokenIndexAtOffset(t),this.languageIdCodec=e.languageIdCodec,this._tokensCount=0;for(let a=this._firstTokenIndex,h=e.getCount();a<h&&!(e.getStartOffset(a)>=i);a++)this._tokensCount++}getMetadata(e){return this._source.getMetadata(this._firstTokenIndex+e)}getLanguageId(e){return this._source.getLanguageId(this._firstTokenIndex+e)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(e){return e instanceof Et&&this._startOffset===e._startOffset&&this._endOffset===e._endOffset&&this._deltaOffset===e._deltaOffset&&this._source.slicedEquals(e._source,this._firstTokenIndex,this._tokensCount)}getCount(){return this._tokensCount}getStandardTokenType(e){return this._source.getStandardTokenType(this._firstTokenIndex+e)}getForeground(e){return this._source.getForeground(this._firstTokenIndex+e)}getEndOffset(e){const t=this._source.getEndOffset(this._firstTokenIndex+e);return Math.min(this._endOffset,t)-this._startOffset+this._deltaOffset}getClassName(e){return this._source.getClassName(this._firstTokenIndex+e)}getInlineStyle(e,t){return this._source.getInlineStyle(this._firstTokenIndex+e,t)}getPresentation(e){return this._source.getPresentation(this._firstTokenIndex+e)}findTokenIndexAtOffset(e){return this._source.findTokenIndexAtOffset(e+this._startOffset-this._deltaOffset)-this._firstTokenIndex}getTokenText(e){const t=this._firstTokenIndex+e,i=this._source.getStartOffset(t),s=this._source.getEndOffset(t);let a=this._source.getTokenText(t);return i<this._startOffset&&(a=a.substring(this._startOffset-i)),s>this._endOffset&&(a=a.substring(0,a.length-(s-this._endOffset))),a}forEach(e){for(let t=0;t<this.getCount();t++)e(t)}}class on{constructor(e,t){this.tokenizationSupport=t,this.initialState=this.tokenizationSupport.getInitialState(),this.store=new ti(e)}getStartState(e){return this.store.getStartState(e,this.initialState)}getFirstInvalidLine(){return this.store.getFirstInvalidLine(this.initialState)}}class en extends on{constructor(e,t,i,s){super(e,t),this._textModel=i,this._languageIdCodec=s}updateTokensUntilLine(e,t){const i=this._textModel.getLanguageId();for(;;){const s=this.getFirstInvalidLine();if(!s||s.lineNumber>t)break;const a=this._textModel.getLineContent(s.lineNumber),h=di(this._languageIdCodec,i,this.tokenizationSupport,a,!0,s.startState);e.add(s.lineNumber,h.tokens),this.store.setEndState(s.lineNumber,h.endState)}}getTokenTypeIfInsertingCharacter(e,t){const i=this.getStartState(e.lineNumber);if(!i)return 0;const s=this._textModel.getLanguageId(),a=this._textModel.getLineContent(e.lineNumber),h=a.substring(0,e.column-1)+t+a.substring(e.column-1),b=di(this._languageIdCodec,s,this.tokenizationSupport,h,!0,i),N=new vt(b.tokens,h,this._languageIdCodec);if(0===N.getCount())return 0;const X=N.findTokenIndexAtOffset(e.column-1);return N.getStandardTokenType(X)}tokenizeLineWithEdit(e,t,i){const s=e.lineNumber,a=e.column,h=this.getStartState(s);if(!h)return null;const b=this._textModel.getLineContent(s),N=b.substring(0,a-1)+i+b.substring(a-1+t),X=this._textModel.getLanguageIdAtPosition(s,0),re=di(this._languageIdCodec,X,this.tokenizationSupport,N,!0,h);return new vt(re.tokens,N,this._languageIdCodec)}hasAccurateTokensForLine(e){return e<this.store.getFirstInvalidEndStateLineNumberOrMax()}isCheapToTokenize(e){const t=this.store.getFirstInvalidEndStateLineNumberOrMax();return e<t||e===t&&this._textModel.getLineLength(e)<2048}tokenizeHeuristically(e,t,i){if(i<=this.store.getFirstInvalidEndStateLineNumberOrMax())return{heuristicTokens:!1};if(t<=this.store.getFirstInvalidEndStateLineNumberOrMax())return this.updateTokensUntilLine(e,i),{heuristicTokens:!1};let s=this.guessStartState(t);const a=this._textModel.getLanguageId();for(let h=t;h<=i;h++){const b=this._textModel.getLineContent(h),N=di(this._languageIdCodec,a,this.tokenizationSupport,b,!0,s);e.add(h,N.tokens),s=N.endState}return{heuristicTokens:!0}}guessStartState(e){let t=this._textModel.getLineFirstNonWhitespaceColumn(e);const i=[];let s=null;for(let b=e-1;t>1&&b>=1;b--){const N=this._textModel.getLineFirstNonWhitespaceColumn(b);if(0!==N&&N<t&&(i.push(this._textModel.getLineContent(b)),t=N,s=this.getStartState(b),s))break}s||(s=this.tokenizationSupport.getInitialState()),i.reverse();const a=this._textModel.getLanguageId();let h=s;for(const b of i)h=di(this._languageIdCodec,a,this.tokenizationSupport,b,!1,h).endState;return h}}class ti{constructor(e){this.lineCount=e,this._tokenizationStateStore=new ni,this._invalidEndStatesLineNumbers=new Fn,this._invalidEndStatesLineNumbers.addRange(new Qe.L(1,e+1))}getEndState(e){return this._tokenizationStateStore.getEndState(e)}setEndState(e,t){if(!t)throw new $.D7("Cannot set null/undefined state");this._invalidEndStatesLineNumbers.delete(e);const i=this._tokenizationStateStore.setEndState(e,t);return i&&e<this.lineCount&&this._invalidEndStatesLineNumbers.addRange(new Qe.L(e+1,e+2)),i}acceptChange(e,t){this.lineCount+=t-e.length,this._tokenizationStateStore.acceptChange(e,t),this._invalidEndStatesLineNumbers.addRangeAndResize(new Qe.L(e.startLineNumber,e.endLineNumberExclusive),t)}acceptChanges(e){for(const t of e){const[i]=(0,F.W)(t.text);this.acceptChange(new ut.M(t.range.startLineNumber,t.range.endLineNumber+1),i+1)}}invalidateEndStateRange(e){this._invalidEndStatesLineNumbers.addRange(new Qe.L(e.startLineNumber,e.endLineNumberExclusive))}getFirstInvalidEndStateLineNumber(){return this._invalidEndStatesLineNumbers.min}getFirstInvalidEndStateLineNumberOrMax(){return this.getFirstInvalidEndStateLineNumber()||Number.MAX_SAFE_INTEGER}allStatesValid(){return null===this._invalidEndStatesLineNumbers.min}getStartState(e,t){return 1===e?t:this.getEndState(e-1)}getFirstInvalidLine(e){const t=this.getFirstInvalidEndStateLineNumber();if(null===t)return null;const i=this.getStartState(t,e);if(!i)throw new $.D7("Start state must be defined");return{lineNumber:t,startState:i}}}class ni{constructor(){this._lineEndStates=new jt(null)}getEndState(e){return this._lineEndStates.get(e)}setEndState(e,t){const i=this._lineEndStates.get(e);return!(i&&i.equals(t)||(this._lineEndStates.set(e,t),0))}acceptChange(e,t){let i=e.length;t>0&&i>0&&(i--,t--),this._lineEndStates.replace(e.startLineNumber,i,t)}}class Fn{constructor(){this._ranges=[]}get min(){return 0===this._ranges.length?null:this._ranges[0].start}delete(e){const t=this._ranges.findIndex(i=>i.contains(e));if(-1!==t){const i=this._ranges[t];i.start===e?i.endExclusive===e+1?this._ranges.splice(t,1):this._ranges[t]=new Qe.L(e+1,i.endExclusive):i.endExclusive===e+1?this._ranges[t]=new Qe.L(i.start,e):this._ranges.splice(t,1,new Qe.L(i.start,e),new Qe.L(e+1,i.endExclusive))}}addRange(e){Qe.L.addRange(e,this._ranges)}addRangeAndResize(e,t){let i=0;for(;!(i>=this._ranges.length||e.start<=this._ranges[i].endExclusive);)i++;let s=i;for(;!(s>=this._ranges.length||e.endExclusive<this._ranges[s].start);)s++;const a=t-e.length;for(let h=s;h<this._ranges.length;h++)this._ranges[h]=this._ranges[h].delta(a);if(i===s){const h=new Qe.L(e.start,e.start+t);h.isEmpty||this._ranges.splice(i,0,h)}else{const h=Math.min(e.start,this._ranges[i].start),b=Math.max(e.endExclusive,this._ranges[s-1].endExclusive),N=new Qe.L(h,b+a);N.isEmpty?this._ranges.splice(i,s-i):this._ranges.splice(i,s-i,N)}}toString(){return this._ranges.map(e=>e.toString()).join(" + ")}}function di(g,e,t,i,s,a){let h=null;if(t)try{h=t.tokenizeEncoded(i,s,a.clone())}catch(b){(0,$.dz)(b)}return h||(h=function Rt(g,e){const t=new Uint32Array(2);return t[0]=0,t[1]=(33587200|g)>>>0,new at.rY(t,null===e?xt:e)}(g.encodeLanguageId(e),a)),vt.convertToEndOffset(h.tokens,i.length),h}class ms{constructor(e,t){this._tokenizerWithStateStore=e,this._backgroundTokenStore=t,this._isDisposed=!1,this._isScheduled=!1}dispose(){this._isDisposed=!0}handleChanges(){this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,(0,$e.$6)(e=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(e)}))}_backgroundTokenizeWithDeadline(e){const t=Date.now()+e.timeRemaining(),i=()=>{this._isDisposed||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<t?(0,o._p)(i):this._beginBackgroundTokenization())};i()}_backgroundTokenizeForAtLeast1ms(){const e=this._tokenizerWithStateStore._textModel.getLineCount(),t=new Ye,i=lt.W.create(!1);do{if(i.elapsed()>1||this._tokenizeOneInvalidLine(t)>=e)break}while(this._hasLinesToTokenize());this._backgroundTokenStore.setTokens(t.finalize()),this.checkFinished()}_hasLinesToTokenize(){return!!this._tokenizerWithStateStore&&!this._tokenizerWithStateStore.store.allStatesValid()}_tokenizeOneInvalidLine(e){const t=this._tokenizerWithStateStore?.getFirstInvalidLine();return t?(this._tokenizerWithStateStore.updateTokensUntilLine(e,t.lineNumber),t.lineNumber):this._tokenizerWithStateStore._textModel.getLineCount()+1}checkFinished(){this._isDisposed||this._tokenizerWithStateStore.store.allStatesValid()&&this._backgroundTokenStore.backgroundTokenizationFinished()}requestTokens(e,t){this._tokenizerWithStateStore.store.invalidateEndStateRange(new ut.M(e,t))}}class ps{constructor(){this._onDidChangeVisibleRanges=new W.vl,this.onDidChangeVisibleRanges=this._onDidChangeVisibleRanges.event,this._views=new Set}attachView(){const e=new _s(t=>{this._onDidChangeVisibleRanges.fire({view:e,state:t})});return this._views.add(e),e}detachView(e){this._views.delete(e),this._onDidChangeVisibleRanges.fire({view:e,state:void 0})}}class _s{constructor(e){this.handleStateChange=e}setVisibleLines(e,t){const i=e.map(s=>new ut.M(s.startLineNumber,s.endLineNumber+1));this.handleStateChange({visibleLineRanges:i,stabilized:t})}}class bs extends Z.jG{get lineRanges(){return this._lineRanges}constructor(e){super(),this._refreshTokens=e,this.runner=this._register(new $e.uC(()=>this.update(),50)),this._computedLineRanges=[],this._lineRanges=[]}update(){(0,D.aI)(this._computedLineRanges,this._lineRanges,(e,t)=>e.equals(t))||(this._computedLineRanges=this._lineRanges,this._refreshTokens())}handleStateChange(e){this._lineRanges=e.visibleLineRanges,e.stabilized?(this.runner.cancel(),this.update()):this.runner.schedule()}}class ns extends Z.jG{get backgroundTokenizationState(){return this._backgroundTokenizationState}constructor(e,t,i){super(),this._languageIdCodec=e,this._textModel=t,this.getLanguageId=i,this._backgroundTokenizationState=1,this._onDidChangeBackgroundTokenizationState=this._register(new W.vl),this.onDidChangeBackgroundTokenizationState=this._onDidChangeBackgroundTokenizationState.event,this._onDidChangeTokens=this._register(new W.vl),this.onDidChangeTokens=this._onDidChangeTokens.event}tokenizeIfCheap(e){this.isCheapToTokenize(e)&&this.forceTokenization(e)}}class is extends ns{constructor(e,t,i,s){super(t,i,s),this._treeSitterService=e,this._tokenizationSupport=null,this._initialize()}_initialize(){const e=this.getLanguageId();(!this._tokenizationSupport||this._lastLanguageId!==e)&&(this._lastLanguageId=e,this._tokenizationSupport=at.OB.get(e))}getLineTokens(e){const t=this._textModel.getLineContent(e);if(this._tokenizationSupport){const i=this._tokenizationSupport.tokenizeEncoded(e,this._textModel);if(i)return new vt(i,t,this._languageIdCodec)}return vt.createEmpty(t,this._languageIdCodec)}resetTokenization(e=!0){e&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]}),this._initialize()}handleDidChangeAttached(){}handleDidChangeContent(e){e.isFlush&&this.resetTokenization(!1)}forceTokenization(e){}hasAccurateTokensForLine(e){return!0}isCheapToTokenize(e){return!0}getTokenTypeIfInsertingCharacter(e,t,i){return 0}tokenizeLineWithEdit(e,t,i){return null}get hasTokens(){return void 0!==this._treeSitterService.getParseResult(this._textModel)}}var Ot=I(2291);const $t=new Uint32Array(0).buffer;class an{static deleteBeginning(e,t){return null===e||e===$t?e:an.delete(e,0,t)}static deleteEnding(e,t){if(null===e||e===$t)return e;const i=kn(e);return an.delete(e,t,i[i.length-2])}static delete(e,t,i){if(null===e||e===$t||t===i)return e;const s=kn(e),a=s.length>>>1;if(0===t&&s[s.length-2]===i)return $t;const h=vt.findIndexInTokensArray(s,t),b=h>0?s[h-1<<1]:0;if(i<s[h<<1]){const Re=i-t;for(let Fe=h;Fe<a;Fe++)s[Fe<<1]-=Re;return e}let X,re;b!==t?(s[h<<1]=t,X=h+1<<1,re=t):(X=h<<1,re=b);const se=i-t;for(let Re=h+1;Re<a;Re++){const Fe=s[Re<<1]-se;Fe>re&&(s[X++]=Fe,s[X++]=s[1+(Re<<1)],re=Fe)}if(X===s.length)return e;const be=new Uint32Array(X);return be.set(s.subarray(0,X),0),be.buffer}static append(e,t){if(t===$t)return e;if(e===$t)return t;if(null===e)return e;if(null===t)return null;const i=kn(e),s=kn(t),a=s.length>>>1,h=new Uint32Array(i.length+s.length);h.set(i,0);let b=i.length;const N=i[i.length-2];for(let X=0;X<a;X++)h[b++]=s[X<<1]+N,h[b++]=s[1+(X<<1)];return h.buffer}static insert(e,t,i){if(null===e||e===$t)return e;const s=kn(e),a=s.length>>>1;let h=vt.findIndexInTokensArray(s,t);h>0&&s[h-1<<1]===t&&h--;for(let b=h;b<a;b++)s[b<<1]+=i;return e}}function kn(g){return g instanceof Uint32Array?g:new Uint32Array(g)}class ii{constructor(e){this._lineTokens=[],this._len=0,this._languageIdCodec=e}flush(){this._lineTokens=[],this._len=0}get hasTokens(){return this._lineTokens.length>0}getTokens(e,t,i){let s=null;if(t<this._len&&(s=this._lineTokens[t]),null!==s&&s!==$t)return new vt(kn(s),i,this._languageIdCodec);const a=new Uint32Array(2);return a[0]=i.length,a[1]=Vi(this._languageIdCodec.encodeLanguageId(e)),new vt(a,i,this._languageIdCodec)}static _massageTokens(e,t,i){const s=i?kn(i):null;if(0===t){let a=!1;if(s&&s.length>1&&(a=Y.x.getLanguageId(s[1])!==e),!a)return $t}if(!s||0===s.length){const a=new Uint32Array(2);return a[0]=t,a[1]=Vi(e),a.buffer}return s[s.length-2]=t,0===s.byteOffset&&s.byteLength===s.buffer.byteLength?s.buffer:s}_ensureLine(e){for(;e>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(e,t){0!==t&&(e+t>this._len&&(t=this._len-e),this._lineTokens.splice(e,t),this._len-=t)}_insertLines(e,t){if(0===t)return;const i=[];for(let s=0;s<t;s++)i[s]=null;this._lineTokens=D.nK(this._lineTokens,e,i),this._len+=t}setTokens(e,t,i,s,a){const h=ii._massageTokens(this._languageIdCodec.encodeLanguageId(e),i,s);this._ensureLine(t);const b=this._lineTokens[t];return this._lineTokens[t]=h,!!a&&!ii._equals(b,h)}static _equals(e,t){if(!e||!t)return!e&&!t;const i=kn(e),s=kn(t);if(i.length!==s.length)return!1;for(let a=0,h=i.length;a<h;a++)if(i[a]!==s[a])return!1;return!0}acceptEdit(e,t,i){this._acceptDeleteRange(e),this._acceptInsertText(new S.y(e.startLineNumber,e.startColumn),t,i)}_acceptDeleteRange(e){const t=e.startLineNumber-1;if(t>=this._len)return;if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;return void(this._lineTokens[t]=an.delete(this._lineTokens[t],e.startColumn-1,e.endColumn-1))}this._lineTokens[t]=an.deleteEnding(this._lineTokens[t],e.startColumn-1);const i=e.endLineNumber-1;let s=null;i<this._len&&(s=an.deleteBeginning(this._lineTokens[i],e.endColumn-1)),this._lineTokens[t]=an.append(this._lineTokens[t],s),this._deleteLines(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t,i){if(0===t&&0===i)return;const s=e.lineNumber-1;if(!(s>=this._len)){if(0===t)return void(this._lineTokens[s]=an.insert(this._lineTokens[s],e.column-1,i));this._lineTokens[s]=an.deleteEnding(this._lineTokens[s],e.column-1),this._lineTokens[s]=an.insert(this._lineTokens[s],e.column-1,i),this._insertLines(e.lineNumber,t)}}setMultilineTokens(e,t){if(0===e.length)return{changes:[]};const i=[];for(let s=0,a=e.length;s<a;s++){const h=e[s];let b=0,N=0,X=!1;for(let re=h.startLineNumber;re<=h.endLineNumber;re++)X?(this.setTokens(t.getLanguageId(),re-1,t.getLineLength(re),h.getLineTokens(re),!1),N=re):this.setTokens(t.getLanguageId(),re-1,t.getLineLength(re),h.getLineTokens(re),!0)&&(X=!0,b=re,N=re);X&&i.push({fromLineNumber:b,toLineNumber:N})}return{changes:i}}}function Vi(g){return(33588224|g)>>>0}class Tr{constructor(e){this._pieces=[],this._isComplete=!1,this._languageIdCodec=e}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return 0===this._pieces.length}set(e,t){this._pieces=e||[],this._isComplete=t}setPartial(e,t){let i=e;if(t.length>0){const a=t[0].getRange(),h=t[t.length-1].getRange();if(!a||!h)return e;i=e.plusRange(a).plusRange(h)}let s=null;for(let a=0,h=this._pieces.length;a<h;a++){const b=this._pieces[a];if(b.endLineNumber<i.startLineNumber)continue;if(b.startLineNumber>i.endLineNumber){s=s||{index:a};break}if(b.removeTokens(i),b.isEmpty()){this._pieces.splice(a,1),a--,h--;continue}if(b.endLineNumber<i.startLineNumber)continue;if(b.startLineNumber>i.endLineNumber){s=s||{index:a};continue}const[N,X]=b.split(i);N.isEmpty()?s=s||{index:a}:X.isEmpty()||(this._pieces.splice(a,1,N,X),a++,h++,s=s||{index:a})}return s=s||{index:this._pieces.length},t.length>0&&(this._pieces=D.nK(this._pieces,s.index,t)),i}isComplete(){return this._isComplete}addSparseTokens(e,t){if(0===t.getLineContent().length)return t;const i=this._pieces;if(0===i.length)return t;const a=i[Tr._findFirstPieceWithLine(i,e)].getLineTokens(e);if(!a)return t;const h=t.getCount(),b=a.getCount();let N=0;const X=[];let re=0,se=0;const be=(Re,Fe)=>{Re!==se&&(se=Re,X[re++]=Re,X[re++]=Fe)};for(let Re=0;Re<b;Re++){const Fe=a.getStartCharacter(Re),Xe=a.getEndCharacter(Re),it=a.getMetadata(Re),pt=((1&it?2048:0)|(2&it?4096:0)|(4&it?8192:0)|(8&it?16384:0)|(16&it?16744448:0)|(32&it?4278190080:0))>>>0,wt=~pt>>>0;for(;N<h&&t.getEndOffset(N)<=Fe;)be(t.getEndOffset(N),t.getMetadata(N)),N++;for(N<h&&t.getStartOffset(N)<Fe&&be(Fe,t.getMetadata(N));N<h&&t.getEndOffset(N)<Xe;)be(t.getEndOffset(N),t.getMetadata(N)&wt|it&pt),N++;if(N<h)be(Xe,t.getMetadata(N)&wt|it&pt),t.getEndOffset(N)===Xe&&N++;else{const Mt=Math.min(Math.max(0,N-1),h-1);be(Xe,t.getMetadata(Mt)&wt|it&pt)}}for(;N<h;)be(t.getEndOffset(N),t.getMetadata(N)),N++;return new vt(new Uint32Array(X),t.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(e,t){let i=0,s=e.length-1;for(;i<s;){let a=i+Math.floor((s-i)/2);if(e[a].endLineNumber<t)i=a+1;else{if(!(e[a].startLineNumber>t)){for(;a>i&&e[a-1].startLineNumber<=t&&t<=e[a-1].endLineNumber;)a--;return a}s=a-1}}return i}acceptEdit(e,t,i,s,a){for(const h of this._pieces)h.acceptEdit(e,t,i,s,a)}}var Jr,rs=function(g,e){return function(t,i){e(t,i,g)}};let ss=Jr=class extends cr{constructor(e,t,i,s,a,h,b){super(),this._textModel=e,this._bracketPairsTextModelPart=t,this._languageId=i,this._attachedViews=s,this._languageService=a,this._languageConfigurationService=h,this._treeSitterService=b,this._semanticTokens=new Tr(this._languageService.languageIdCodec),this._onDidChangeLanguage=this._register(new W.vl),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new W.vl),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new W.vl),this.onDidChangeTokens=this._onDidChangeTokens.event,this._tokensDisposables=this._register(new Z.Cm),this._register(this._languageConfigurationService.onDidChange(N=>{N.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})),this._register(W.Jh.filter(at.OB.onDidChange,N=>N.changedLanguages.includes(this._languageId))(()=>{this.createPreferredTokenProvider()})),this.createPreferredTokenProvider()}createGrammarTokens(){return this._register(new vs(this._languageService.languageIdCodec,this._textModel,()=>this._languageId,this._attachedViews))}createTreeSitterTokens(){return this._register(new is(this._treeSitterService,this._languageService.languageIdCodec,this._textModel,()=>this._languageId))}createTokens(e){const t=void 0!==this._tokens;this._tokens?.dispose(),this._tokens=e?this.createTreeSitterTokens():this.createGrammarTokens(),this._tokensDisposables.clear(),this._tokensDisposables.add(this._tokens.onDidChangeTokens(i=>{this._emitModelTokensChangedEvent(i)})),this._tokensDisposables.add(this._tokens.onDidChangeBackgroundTokenizationState(i=>{this._bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState()})),t&&this._tokens.resetTokenization()}createPreferredTokenProvider(){at.OB.get(this._languageId)?this._tokens instanceof is||this.createTokens(!0):this._tokens instanceof vs||this.createTokens(!1)}handleLanguageConfigurationServiceChange(e){e.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})}handleDidChangeContent(e){if(e.isFlush)this._semanticTokens.flush();else if(!e.isEolChange)for(const t of e.changes){const[i,s,a]=(0,F.W)(t.text);this._semanticTokens.acceptEdit(t.range,i,s,a,t.text.length>0?t.text.charCodeAt(0):0)}this._tokens.handleDidChangeContent(e)}handleDidChangeAttached(){this._tokens.handleDidChangeAttached()}getLineTokens(e){this.validateLineNumber(e);const t=this._tokens.getLineTokens(e);return this._semanticTokens.addSparseTokens(e,t)}_emitModelTokensChangedEvent(e){this._textModel._isDisposing()||(this._bracketPairsTextModelPart.handleDidChangeTokens(e),this._onDidChangeTokens.fire(e))}validateLineNumber(e){if(e<1||e>this._textModel.getLineCount())throw new $.D7("Illegal value for lineNumber")}get hasTokens(){return this._tokens.hasTokens}resetTokenization(){this._tokens.resetTokenization()}get backgroundTokenizationState(){return this._tokens.backgroundTokenizationState}forceTokenization(e){this.validateLineNumber(e),this._tokens.forceTokenization(e)}hasAccurateTokensForLine(e){return this.validateLineNumber(e),this._tokens.hasAccurateTokensForLine(e)}isCheapToTokenize(e){return this.validateLineNumber(e),this._tokens.isCheapToTokenize(e)}tokenizeIfCheap(e){this.validateLineNumber(e),this._tokens.tokenizeIfCheap(e)}getTokenTypeIfInsertingCharacter(e,t,i){return this._tokens.getTokenTypeIfInsertingCharacter(e,t,i)}tokenizeLineWithEdit(e,t,i){return this._tokens.tokenizeLineWithEdit(e,t,i)}setSemanticTokens(e,t){this._semanticTokens.set(e,t),this._emitModelTokensChangedEvent({semanticTokensApplied:null!==e,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(e,t){if(this.hasCompleteSemanticTokens())return;const i=this._textModel.validateRange(this._semanticTokens.setPartial(e,t));this._emitModelTokensChangedEvent({semanticTokensApplied:!0,ranges:[{fromLineNumber:i.startLineNumber,toLineNumber:i.endLineNumber}]})}getWordAtPosition(e){this.assertNotDisposed();const t=this._textModel.validatePosition(e),i=this._textModel.getLineContent(t.lineNumber),s=this.getLineTokens(t.lineNumber),a=s.findTokenIndexAtOffset(t.column-1),[h,b]=Jr._findLanguageBoundaries(s,a),N=(0,me.Th)(t.column,this.getLanguageConfiguration(s.getLanguageId(a)).getWordDefinition(),i.substring(h,b),h);if(N&&N.startColumn<=e.column&&e.column<=N.endColumn)return N;if(a>0&&h===t.column-1){const[X,re]=Jr._findLanguageBoundaries(s,a-1),se=(0,me.Th)(t.column,this.getLanguageConfiguration(s.getLanguageId(a-1)).getWordDefinition(),i.substring(X,re),X);if(se&&se.startColumn<=e.column&&e.column<=se.endColumn)return se}return null}getLanguageConfiguration(e){return this._languageConfigurationService.getLanguageConfiguration(e)}static _findLanguageBoundaries(e,t){const i=e.getLanguageId(t);let s=0;for(let h=t;h>=0&&e.getLanguageId(h)===i;h--)s=e.getStartOffset(h);let a=e.getLineContent().length;for(let h=t,b=e.getCount();h<b&&e.getLanguageId(h)===i;h++)a=e.getEndOffset(h);return[s,a]}getWordUntilPosition(e){const t=this.getWordAtPosition(e);return t?{word:t.word.substr(0,e.column-t.startColumn),startColumn:t.startColumn,endColumn:e.column}:{word:"",startColumn:e.column,endColumn:e.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(e,t){const i=this._textModel.validatePosition(new S.y(e,t)),s=this.getLineTokens(i.lineNumber);return s.getLanguageId(s.findTokenIndexAtOffset(i.column-1))}setLanguageId(e,t="api"){if(this._languageId===e)return;const i={oldLanguage:this._languageId,newLanguage:e,source:t};this._languageId=e,this._bracketPairsTextModelPart.handleDidChangeLanguage(i),this._tokens.resetTokenization(),this.createPreferredTokenProvider(),this._onDidChangeLanguage.fire(i),this._onDidChangeLanguageConfiguration.fire({})}};ss=Jr=function(g,e,t,i){var h,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(g,e,t,i);else for(var b=g.length-1;b>=0;b--)(h=g[b])&&(a=(s<3?h(a):s>3?h(e,t,a):h(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([rs(4,Ce.L),rs(5,kt),rs(6,Ot.ITreeSitterParserService)],ss);class vs extends ns{constructor(e,t,i,s){super(e,t,i),this._tokenizer=null,this._defaultBackgroundTokenizer=null,this._backgroundTokenizer=this._register(new Z.HE),this._tokens=new ii(this._languageIdCodec),this._debugBackgroundTokenizer=this._register(new Z.HE),this._attachedViewStates=this._register(new Z.$w),this._register(at.dG.onDidChange(a=>{const h=this.getLanguageId();-1!==a.changedLanguages.indexOf(h)&&this.resetTokenization()})),this.resetTokenization(),this._register(s.onDidChangeVisibleRanges(({view:a,state:h})=>{if(h){let b=this._attachedViewStates.get(a);b||(b=new bs(()=>this.refreshRanges(b.lineRanges)),this._attachedViewStates.set(a,b)),b.handleStateChange(h)}else this._attachedViewStates.deleteAndDispose(a)}))}resetTokenization(e=!0){this._tokens.flush(),this._debugBackgroundTokens?.flush(),this._debugBackgroundStates&&(this._debugBackgroundStates=new ti(this._textModel.getLineCount())),e&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]});const[i,s]=(()=>{if(this._textModel.isTooLargeForTokenization())return[null,null];const a=at.dG.get(this.getLanguageId());if(!a)return[null,null];let h;try{h=a.getInitialState()}catch(b){return(0,$.dz)(b),[null,null]}return[a,h]})();if(this._tokenizer=i&&s?new en(this._textModel.getLineCount(),i,this._textModel,this._languageIdCodec):null,this._backgroundTokenizer.clear(),this._defaultBackgroundTokenizer=null,this._tokenizer){const a={setTokens:h=>{this.setTokens(h)},backgroundTokenizationFinished:()=>{2!==this._backgroundTokenizationState&&(this._backgroundTokenizationState=2,this._onDidChangeBackgroundTokenizationState.fire())},setEndState:(h,b)=>{if(!this._tokenizer)return;const N=this._tokenizer.store.getFirstInvalidEndStateLineNumber();null!==N&&h>=N&&this._tokenizer?.store.setEndState(h,b)}};i&&i.createBackgroundTokenizer&&!i.backgroundTokenizerShouldOnlyVerifyTokens&&(this._backgroundTokenizer.value=i.createBackgroundTokenizer(this._textModel,a)),!this._backgroundTokenizer.value&&!this._textModel.isTooLargeForTokenization()&&(this._backgroundTokenizer.value=this._defaultBackgroundTokenizer=new ms(this._tokenizer,a),this._defaultBackgroundTokenizer.handleChanges()),i?.backgroundTokenizerShouldOnlyVerifyTokens&&i.createBackgroundTokenizer?(this._debugBackgroundTokens=new ii(this._languageIdCodec),this._debugBackgroundStates=new ti(this._textModel.getLineCount()),this._debugBackgroundTokenizer.clear(),this._debugBackgroundTokenizer.value=i.createBackgroundTokenizer(this._textModel,{setTokens:h=>{this._debugBackgroundTokens?.setMultilineTokens(h,this._textModel)},backgroundTokenizationFinished(){},setEndState:(h,b)=>{this._debugBackgroundStates?.setEndState(h,b)}})):(this._debugBackgroundTokens=void 0,this._debugBackgroundStates=void 0,this._debugBackgroundTokenizer.value=void 0)}this.refreshAllVisibleLineTokens()}handleDidChangeAttached(){this._defaultBackgroundTokenizer?.handleChanges()}handleDidChangeContent(e){if(e.isFlush)this.resetTokenization(!1);else if(!e.isEolChange){for(const t of e.changes){const[i,s]=(0,F.W)(t.text);this._tokens.acceptEdit(t.range,i,s),this._debugBackgroundTokens?.acceptEdit(t.range,i,s)}this._debugBackgroundStates?.acceptChanges(e.changes),this._tokenizer&&this._tokenizer.store.acceptChanges(e.changes),this._defaultBackgroundTokenizer?.handleChanges()}}setTokens(e){const{changes:t}=this._tokens.setMultilineTokens(e,this._textModel);return t.length>0&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:t}),{changes:t}}refreshAllVisibleLineTokens(){const e=ut.M.joinMany([...this._attachedViewStates].map(([t,i])=>i.lineRanges));this.refreshRanges(e)}refreshRanges(e){for(const t of e)this.refreshRange(t.startLineNumber,t.endLineNumberExclusive-1)}refreshRange(e,t){if(!this._tokenizer)return;e=Math.max(1,Math.min(this._textModel.getLineCount(),e)),t=Math.min(this._textModel.getLineCount(),t);const i=new Ye,{heuristicTokens:s}=this._tokenizer.tokenizeHeuristically(i,e,t),a=this.setTokens(i.finalize());if(s)for(const h of a.changes)this._backgroundTokenizer.value?.requestTokens(h.fromLineNumber,h.toLineNumber+1);this._defaultBackgroundTokenizer?.checkFinished()}forceTokenization(e){const t=new Ye;this._tokenizer?.updateTokensUntilLine(t,e),this.setTokens(t.finalize()),this._defaultBackgroundTokenizer?.checkFinished()}hasAccurateTokensForLine(e){return!this._tokenizer||this._tokenizer.hasAccurateTokensForLine(e)}isCheapToTokenize(e){return!this._tokenizer||this._tokenizer.isCheapToTokenize(e)}getLineTokens(e){const t=this._textModel.getLineContent(e),i=this._tokens.getTokens(this._textModel.getLanguageId(),e-1,t);if(this._debugBackgroundTokens&&this._debugBackgroundStates&&this._tokenizer&&this._debugBackgroundStates.getFirstInvalidEndStateLineNumberOrMax()>e&&this._tokenizer.store.getFirstInvalidEndStateLineNumberOrMax()>e){const s=this._debugBackgroundTokens.getTokens(this._textModel.getLanguageId(),e-1,t);!i.equals(s)&&this._debugBackgroundTokenizer.value?.reportMismatchingTokens&&this._debugBackgroundTokenizer.value.reportMismatchingTokens(e)}return i}getTokenTypeIfInsertingCharacter(e,t,i){if(!this._tokenizer)return 0;const s=this._textModel.validatePosition(new S.y(e,t));return this.forceTokenization(s.lineNumber),this._tokenizer.getTokenTypeIfInsertingCharacter(s,i)}tokenizeLineWithEdit(e,t,i){if(!this._tokenizer)return null;const s=this._textModel.validatePosition(e);return this.forceTokenization(s.lineNumber),this._tokenizer.tokenizeLineWithEdit(s,t,i)}get hasTokens(){return this._tokens.hasTokens}}class Ns{constructor(){this.changeType=1}}class Nr{static applyInjectedText(e,t){if(!t||0===t.length)return e;let i="",s=0;for(const a of t)i+=e.substring(s,a.column-1),s=a.column-1,i+=a.options.content;return i+=e.substring(s),i}static fromDecorations(e){const t=[];for(const i of e)i.options.before&&i.options.before.content.length>0&&t.push(new Nr(i.ownerId,i.range.startLineNumber,i.range.startColumn,i.options.before,0)),i.options.after&&i.options.after.content.length>0&&t.push(new Nr(i.ownerId,i.range.endLineNumber,i.range.endColumn,i.options.after,1));return t.sort((i,s)=>i.lineNumber===s.lineNumber?i.column===s.column?i.order-s.order:i.column-s.column:i.lineNumber-s.lineNumber),t}constructor(e,t,i,s,a){this.ownerId=e,this.lineNumber=t,this.column=i,this.options=s,this.order=a}}class ks{constructor(e,t,i){this.changeType=2,this.lineNumber=e,this.detail=t,this.injectedText=i}}class Ds{constructor(e,t){this.changeType=3,this.fromLineNumber=e,this.toLineNumber=t}}class Ms{constructor(e,t,i,s){this.changeType=4,this.injectedTexts=s,this.fromLineNumber=e,this.toLineNumber=t,this.detail=i}}class Bs{constructor(){this.changeType=5}}class vr{constructor(e,t,i,s){this.changes=e,this.versionId=t,this.isUndoing=i,this.isRedoing=s,this.resultingSelection=null}containsEvent(e){for(let t=0,i=this.changes.length;t<i;t++)if(this.changes[t].changeType===e)return!0;return!1}static merge(e,t){const i=[].concat(e.changes).concat(t.changes);return new vr(i,t.versionId,e.isUndoing||t.isUndoing,e.isRedoing||t.isRedoing)}}class Rs{constructor(e){this.changes=e}}class Xr{constructor(e,t){this.rawContentChangedEvent=e,this.contentChangedEvent=t}merge(e){const t=vr.merge(this.rawContentChangedEvent,e.rawContentChangedEvent),i=Xr._mergeChangeEvents(this.contentChangedEvent,e.contentChangedEvent);return new Xr(t,i)}static _mergeChangeEvents(e,t){return{changes:[].concat(e.changes).concat(t.changes),eol:t.eol,isEolChange:e.isEolChange&&t.isEolChange,versionId:t.versionId,isUndoing:e.isUndoing||t.isUndoing,isRedoing:e.isRedoing||t.isRedoing,isFlush:e.isFlush||t.isFlush}}}const Ls=(0,Sn.u1)("undoRedoService");class os{static{this._ID=0}constructor(){this.id=os._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}static{this.None=new os}}class as{static{this._ID=0}constructor(){this.id=as._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}static{this.None=new as}}var rr,Kr=function(g,e){return function(t,i){e(t,i,g)}};function Cs(g,e){let t;return t="string"==typeof g?function Ps(g){const e=new Ze;return e.acceptChunk(g),e.finish()}(g):Rn.nk(g)?function Fs(g){const e=new Ze;let t;for(;"string"==typeof(t=g.read());)e.acceptChunk(t);return e.finish()}(g):g,t.create(e)}let Yr=0;class Us{constructor(e){this._source=e,this._eos=!1}read(){if(this._eos)return null;const e=[];let t=0,i=0;for(;;){const s=this._source.read();if(null===s)return this._eos=!0,0===t?null:e.join("");if(s.length>0&&(e[t++]=s,i+=s.length),i>=65536)return e.join("")}}}const Dr=()=>{throw new Error("Invalid change accessor")};let ls=class extends Z.jG{static{rr=this}static{this._MODEL_SYNC_LIMIT=52428800}static{this.LARGE_FILE_SIZE_THRESHOLD=20971520}static{this.LARGE_FILE_LINE_COUNT_THRESHOLD=3e5}static{this.LARGE_FILE_HEAP_OPERATION_THRESHOLD=268435456}static{this.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:p.tabSize,indentSize:p.indentSize,insertSpaces:p.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:p.trimAutoWhitespace,largeFileOptimizations:p.largeFileOptimizations,bracketPairColorizationOptions:p.bracketPairColorizationOptions}}static resolveOptions(e,t){if(t.detectIndentation){const i=hr(e,t.tabSize,t.insertSpaces);return new Rn.X2({tabSize:i.tabSize,indentSize:"tabSize",insertSpaces:i.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL,bracketPairColorizationOptions:t.bracketPairColorizationOptions})}return new Rn.X2(t)}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(e){return this._eventEmitter.slowEvent(t=>e(t.contentChangedEvent))}onDidChangeContentOrInjectedText(e){return(0,Z.qE)(this._eventEmitter.fastEvent(t=>e(t)),this._onDidChangeInjectedText.event(t=>e(t)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}constructor(e,t,i,s=null,a,h,b,N){super(),this._undoRedoService=a,this._languageService=h,this._languageConfigurationService=b,this.instantiationService=N,this._onWillDispose=this._register(new W.vl),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new qs(Fe=>this.handleBeforeFireDecorationsChangedEvent(Fe))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new W.vl),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new W.vl),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new W.vl),this._eventEmitter=this._register(new Qs),this._languageSelectionListener=this._register(new Z.HE),this._deltaDecorationCallCnt=0,this._attachedViews=new ps,Yr++,this.id="$model"+Yr,this.isForSimpleWidget=i.isForSimpleWidget,this._associatedResource=typeof s>"u"||null===s?B.r.parse("inmemory://model/"+Yr):s,this._attachedEditorCount=0;const{textBuffer:X,disposable:re}=Cs(e,i.defaultEOL);this._buffer=X,this._bufferDisposable=re,this._options=rr.resolveOptions(this._buffer,i);const se="string"==typeof t?t:t.languageId;"string"!=typeof t&&(this._languageSelectionListener.value=t.onDidChange(()=>this._setLanguage(t.languageId))),this._bracketPairs=this._register(new Or(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new In(this,this._languageConfigurationService)),this._decorationProvider=this._register(new lr(this)),this._tokenizationTextModelPart=this.instantiationService.createInstance(ss,this,this._bracketPairs,se,this._attachedViews);const be=this._buffer.getLineCount(),Re=this._buffer.getValueLengthInRange(new M.Q(1,1,be,this._buffer.getLineLength(be)+1),0);i.largeFileOptimizations?(this._isTooLargeForTokenization=Re>rr.LARGE_FILE_SIZE_THRESHOLD||be>rr.LARGE_FILE_LINE_COUNT_THRESHOLD,this._isTooLargeForHeapOperation=Re>rr.LARGE_FILE_HEAP_OPERATION_THRESHOLD):(this._isTooLargeForTokenization=!1,this._isTooLargeForHeapOperation=!1),this._isTooLargeForSyncing=Re>rr._MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=f.tk(Yr),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new xs,this._commandManager=new Xi(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()})),this._languageService.requestRichLanguageFeatures(se),this._register(this._languageConfigurationService.onDidChange(Fe=>{this._bracketPairs.handleLanguageConfigurationServiceChange(Fe),this._tokenizationTextModelPart.handleLanguageConfigurationServiceChange(Fe)}))}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const e=new Me([],"","\n",!1,!1,!0,!0);e.dispose(),this._buffer=e,this._bufferDisposable=Z.jG.None}_assertNotDisposed(){if(this._isDisposed)throw new $.D7("Model is disposed!")}_emitContentChangedEvent(e,t){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(t),this._bracketPairs.handleDidChangeContent(t),this._eventEmitter.fire(new Xr(e,t)))}setValue(e){if(this._assertNotDisposed(),null==e)throw(0,$.Qg)();const{textBuffer:t,disposable:i}=Cs(e,this._options.defaultEOL);this._setValueFromTextBuffer(t,i)}_createContentChanged2(e,t,i,s,a,h,b,N){return{changes:[{range:e,rangeOffset:t,rangeLength:i,text:s}],eol:this._buffer.getEOL(),isEolChange:N,versionId:this.getVersionId(),isUndoing:a,isRedoing:h,isFlush:b}}_setValueFromTextBuffer(e,t){this._assertNotDisposed();const i=this.getFullModelRange(),s=this.getValueLengthInRange(i),a=this.getLineCount(),h=this.getLineMaxColumn(a);this._buffer=e,this._bufferDisposable.dispose(),this._bufferDisposable=t,this._increaseVersionId(),this._decorations=Object.create(null),this._decorationsTree=new xs,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new vr([new Ns],this._versionId,!1,!1),this._createContentChanged2(new M.Q(1,1,a,h),0,s,this.getValue(),!1,!1,!0,!1))}setEOL(e){this._assertNotDisposed();const t=1===e?"\r\n":"\n";if(this._buffer.getEOL()===t)return;const i=this.getFullModelRange(),s=this.getValueLengthInRange(i),a=this.getLineCount(),h=this.getLineMaxColumn(a);this._onBeforeEOLChange(),this._buffer.setEOL(t),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new vr([new Bs],this._versionId,!1,!1),this._createContentChanged2(new M.Q(1,1,a,h),0,s,this.getValue(),!1,!1,!1,!0))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const e=this.getVersionId(),t=this._decorationsTree.collectNodesPostOrder();for(let i=0,s=t.length;i<s;i++){const a=t[i],h=a.range,b=a.cachedAbsoluteStart-a.start,N=this._buffer.getOffsetAt(h.startLineNumber,h.startColumn),X=this._buffer.getOffsetAt(h.endLineNumber,h.endColumn);a.cachedAbsoluteStart=N,a.cachedAbsoluteEnd=X,a.cachedVersionId=e,a.start=N-b,a.end=X-b,Ci(a)}}onBeforeAttached(){return this._attachedEditorCount++,1===this._attachedEditorCount&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.attachView()}onBeforeDetached(e){this._attachedEditorCount--,0===this._attachedEditorCount&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.detachView(e)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isTooLargeForHeapOperation(){return this._isTooLargeForHeapOperation}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let e=0,t=0;const i=this._buffer.getLineCount();for(let s=1;s<=i;s++){const a=this._buffer.getLineLength(s);a>=1e4?t+=a:e+=a}return t>e}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(e){this._assertNotDisposed();const b=new Rn.X2({tabSize:typeof e.tabSize<"u"?e.tabSize:this._options.tabSize,indentSize:typeof e.indentSize<"u"?e.indentSize:this._options.originalIndentSize,insertSpaces:typeof e.insertSpaces<"u"?e.insertSpaces:this._options.insertSpaces,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:typeof e.trimAutoWhitespace<"u"?e.trimAutoWhitespace:this._options.trimAutoWhitespace,bracketPairColorizationOptions:typeof e.bracketColorizationOptions<"u"?e.bracketColorizationOptions:this._options.bracketPairColorizationOptions});if(this._options.equals(b))return;const N=this._options.createChangeEvent(b);this._options=b,this._bracketPairs.handleDidChangeOptions(N),this._decorationProvider.handleDidChangeOptions(N),this._onDidChangeOptions.fire(N)}detectIndentation(e,t){this._assertNotDisposed();const i=hr(this._buffer,t,e);this.updateOptions({insertSpaces:i.insertSpaces,tabSize:i.tabSize,indentSize:i.tabSize})}normalizeIndentation(e){return this._assertNotDisposed(),function A(g,e,t){let i=f.HG(g);return-1===i&&(i=g.length),function K(g,e,t){let i=0;for(let a=0;a<g.length;a++)"\t"===g.charAt(a)?i=ae.nextIndentTabStop(i,e):i++;let s="";if(!t){const a=Math.floor(i/e);i%=e;for(let h=0;h<a;h++)s+="\t"}for(let a=0;a<i;a++)s+=" ";return s}(g.substring(0,i),e,t)+g.substring(i)}(e,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(e=null){const t=this.findMatches(f._J.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(e,t.map(i=>({range:i.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(e){this._assertNotDisposed();const t=this._validatePosition(e.lineNumber,e.column,0);return this._buffer.getOffsetAt(t.lineNumber,t.column)}getPositionAt(e){this._assertNotDisposed();const t=Math.min(this._buffer.getLength(),Math.max(0,e));return this._buffer.getPositionAt(t)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(e){this._versionId=e}_overwriteAlternativeVersionId(e){this._alternativeVersionId=e}_overwriteInitialUndoRedoSnapshot(e){this._initialUndoRedoSnapshot=e}getValue(e,t=!1){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new $.D7("Operation would exceed heap memory limits");const i=this.getFullModelRange(),s=this.getValueInRange(i,e);return t?this._buffer.getBOM()+s:s}createSnapshot(e=!1){return new Us(this._buffer.createSnapshot(e))}getValueLength(e,t=!1){this._assertNotDisposed();const i=this.getFullModelRange(),s=this.getValueLengthInRange(i,e);return t?this._buffer.getBOM().length+s:s}getValueInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(e),t)}getValueLengthInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(e),t)}getCharacterCountInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(e),t)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new $.D7("Illegal value for lineNumber");return this._buffer.getLineContent(e)}getLineLength(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new $.D7("Illegal value for lineNumber");return this._buffer.getLineLength(e)}getLinesContent(){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new $.D7("Operation would exceed heap memory limits");return this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),"\n"===this._buffer.getEOL()?0:1}getLineMinColumn(e){return this._assertNotDisposed(),1}getLineMaxColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new $.D7("Illegal value for lineNumber");return this._buffer.getLineLength(e)+1}getLineFirstNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new $.D7("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(e)}getLineLastNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new $.D7("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(e)}_validateRangeRelaxedNoAllocations(e){const t=this._buffer.getLineCount(),i=e.startLineNumber,s=e.startColumn;let a=Math.floor("number"!=typeof i||isNaN(i)?1:i),h=Math.floor("number"!=typeof s||isNaN(s)?1:s);if(a<1)a=1,h=1;else if(a>t)a=t,h=this.getLineMaxColumn(a);else if(h<=1)h=1;else{const se=this.getLineMaxColumn(a);h>=se&&(h=se)}const b=e.endLineNumber,N=e.endColumn;let X=Math.floor("number"!=typeof b||isNaN(b)?1:b),re=Math.floor("number"!=typeof N||isNaN(N)?1:N);if(X<1)X=1,re=1;else if(X>t)X=t,re=this.getLineMaxColumn(X);else if(re<=1)re=1;else{const se=this.getLineMaxColumn(X);re>=se&&(re=se)}return i===a&&s===h&&b===X&&N===re&&e instanceof M.Q&&!(e instanceof E.L)?e:new M.Q(a,h,X,re)}_isValidPosition(e,t,i){if("number"!=typeof e||"number"!=typeof t||isNaN(e)||isNaN(t)||e<1||t<1||(0|e)!==e||(0|t)!==t)return!1;if(e>this._buffer.getLineCount())return!1;if(1===t)return!0;if(t>this.getLineMaxColumn(e))return!1;if(1===i){const h=this._buffer.getLineCharCode(e,t-2);if(f.pc(h))return!1}return!0}_validatePosition(e,t,i){const s=Math.floor("number"!=typeof e||isNaN(e)?1:e),a=Math.floor("number"!=typeof t||isNaN(t)?1:t),h=this._buffer.getLineCount();if(s<1)return new S.y(1,1);if(s>h)return new S.y(h,this.getLineMaxColumn(h));if(a<=1)return new S.y(s,1);const b=this.getLineMaxColumn(s);if(a>=b)return new S.y(s,b);if(1===i){const N=this._buffer.getLineCharCode(s,a-2);if(f.pc(N))return new S.y(s,a-1)}return new S.y(s,a)}validatePosition(e){return this._assertNotDisposed(),e instanceof S.y&&this._isValidPosition(e.lineNumber,e.column,1)?e:this._validatePosition(e.lineNumber,e.column,1)}_isValidRange(e,t){const i=e.startLineNumber,s=e.startColumn,a=e.endLineNumber,h=e.endColumn;if(!this._isValidPosition(i,s,0)||!this._isValidPosition(a,h,0))return!1;if(1===t){const b=s>1?this._buffer.getLineCharCode(i,s-2):0,N=h>1&&h<=this._buffer.getLineLength(a)?this._buffer.getLineCharCode(a,h-2):0,X=f.pc(b),re=f.pc(N);return!X&&!re}return!0}validateRange(e){if(this._assertNotDisposed(),e instanceof M.Q&&!(e instanceof E.L)&&this._isValidRange(e,1))return e;const i=this._validatePosition(e.startLineNumber,e.startColumn,0),s=this._validatePosition(e.endLineNumber,e.endColumn,0),a=i.lineNumber,h=i.column,b=s.lineNumber,N=s.column;{const X=h>1?this._buffer.getLineCharCode(a,h-2):0,re=N>1&&N<=this._buffer.getLineLength(b)?this._buffer.getLineCharCode(b,N-2):0,se=f.pc(X),be=f.pc(re);return se||be?a===b&&h===N?new M.Q(a,h-1,b,N-1):se&&be?new M.Q(a,h-1,b,N+1):se?new M.Q(a,h-1,b,N):new M.Q(a,h,b,N+1):new M.Q(a,h,b,N)}}modifyPosition(e,t){this._assertNotDisposed();const i=this.getOffsetAt(e)+t;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,i)))}getFullModelRange(){this._assertNotDisposed();const e=this.getLineCount();return new M.Q(1,1,e,this.getLineMaxColumn(e))}findMatchesLineByLine(e,t,i,s){return this._buffer.findMatchesLineByLine(e,t,i,s)}findMatches(e,t,i,s,a,h,b=999){this._assertNotDisposed();let N=null;null!==t&&(Array.isArray(t)||(t=[t]),t.every(se=>M.Q.isIRange(se))&&(N=t.map(se=>this.validateRange(se)))),null===N&&(N=[this.getFullModelRange()]),N=N.sort((se,be)=>se.startLineNumber-be.startLineNumber||se.startColumn-be.startColumn);const X=[];let re;if(X.push(N.reduce((se,be)=>M.Q.areIntersecting(se,be)?se.plusRange(be):(X.push(se),be))),!i&&e.indexOf("\n")<0){const be=new u.lt(e,i,s,a).parseSearchRequest();if(!be)return[];re=Re=>this.findMatchesLineByLine(Re,be,h,b)}else re=se=>u.hB.findMatches(this,new u.lt(e,i,s,a),se,h,b);return X.map(re).reduce((se,be)=>se.concat(be),[])}findNextMatch(e,t,i,s,a,h){this._assertNotDisposed();const b=this.validatePosition(t);if(!i&&e.indexOf("\n")<0){const X=new u.lt(e,i,s,a).parseSearchRequest();if(!X)return null;const re=this.getLineCount();let se=new M.Q(b.lineNumber,b.column,re,this.getLineMaxColumn(re)),be=this.findMatchesLineByLine(se,X,h,1);return u.hB.findNextMatch(this,new u.lt(e,i,s,a),b,h),be.length>0||(se=new M.Q(1,1,b.lineNumber,this.getLineMaxColumn(b.lineNumber)),be=this.findMatchesLineByLine(se,X,h,1),be.length>0)?be[0]:null}return u.hB.findNextMatch(this,new u.lt(e,i,s,a),b,h)}findPreviousMatch(e,t,i,s,a,h){this._assertNotDisposed();const b=this.validatePosition(t);return u.hB.findPreviousMatch(this,new u.lt(e,i,s,a),b,h)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(e){if(("\n"===this.getEOL()?0:1)!==e)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(e)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(e){return e instanceof Rn.Wo?e:new Rn.Wo(e.identifier||null,this.validateRange(e.range),e.text,e.forceMoveMarkers||!1,e.isAutoWhitespaceEdit||!1,e._isTracked||!1)}_validateEditOperations(e){const t=[];for(let i=0,s=e.length;i<s;i++)t[i]=this._validateEditOperation(e[i]);return t}pushEditOperations(e,t,i,s){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(e,this._validateEditOperations(t),i,s)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(e,t,i,s){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const a=t.map(b=>({range:this.validateRange(b.range),text:b.text}));let h=!0;if(e)for(let b=0,N=e.length;b<N;b++){const X=e[b];let re=!1;for(let se=0,be=a.length;se<be;se++){const Re=a[se].range;if(!(Re.startLineNumber>X.endLineNumber||X.startLineNumber>Re.endLineNumber)){re=!0;break}}if(!re){h=!1;break}}if(h)for(let b=0,N=this._trimAutoWhitespaceLines.length;b<N;b++){const X=this._trimAutoWhitespaceLines[b],re=this.getLineMaxColumn(X);let se=!0;for(let be=0,Re=a.length;be<Re;be++){const Fe=a[be].range,Xe=a[be].text;if(!(X<Fe.startLineNumber||X>Fe.endLineNumber||X===Fe.startLineNumber&&Fe.startColumn===re&&Fe.isEmpty()&&Xe&&Xe.length>0&&"\n"===Xe.charAt(0)||X===Fe.startLineNumber&&1===Fe.startColumn&&Fe.isEmpty()&&Xe&&Xe.length>0&&"\n"===Xe.charAt(Xe.length-1))){se=!1;break}}if(se){const be=new M.Q(X,1,X,re);t.push(new Rn.Wo(null,be,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(e,t,i,s)}_applyUndo(e,t,i,s){const a=e.map(h=>{const b=this.getPositionAt(h.newPosition),N=this.getPositionAt(h.newEnd);return{range:new M.Q(b.lineNumber,b.column,N.lineNumber,N.column),text:h.oldText}});this._applyUndoRedoEdits(a,t,!0,!1,i,s)}_applyRedo(e,t,i,s){const a=e.map(h=>{const b=this.getPositionAt(h.oldPosition),N=this.getPositionAt(h.oldEnd);return{range:new M.Q(b.lineNumber,b.column,N.lineNumber,N.column),text:h.newText}});this._applyUndoRedoEdits(a,t,!1,!0,i,s)}_applyUndoRedoEdits(e,t,i,s,a,h){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=i,this._isRedoing=s,this.applyEdits(e,!1),this.setEOL(t),this._overwriteAlternativeVersionId(a)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(h),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(e,t=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const i=this._validateEditOperations(e);return this._doApplyEdits(i,t)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(e,t){const i=this._buffer.getLineCount(),s=this._buffer.applyEdits(e,this._options.trimAutoWhitespace,t),a=this._buffer.getLineCount(),h=s.changes;if(this._trimAutoWhitespaceLines=s.trimAutoWhitespaceLineNumbers,0!==h.length){for(let X=0,re=h.length;X<re;X++){const se=h[X];this._decorationsTree.acceptReplace(se.rangeOffset,se.rangeLength,se.text.length,se.forceMoveMarkers)}const b=[];this._increaseVersionId();let N=i;for(let X=0,re=h.length;X<re;X++){const se=h[X],[be]=(0,F.W)(se.text);this._onDidChangeDecorations.fire();const Re=se.range.startLineNumber,Fe=se.range.endLineNumber,Xe=Fe-Re,it=be,pt=Math.min(Xe,it),wt=it-Xe,Mt=a-N-wt+Re,yn=Mt+it,Dn=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new S.y(Mt,1)),this.getOffsetAt(new S.y(yn,this.getLineMaxColumn(yn))),0),fn=Nr.fromDecorations(Dn),ln=new D.j3(fn);for(let cn=pt;cn>=0;cn--){const qn=Re+cn,fi=Mt+cn;ln.takeFromEndWhile(Lr=>Lr.lineNumber>fi);const yi=ln.takeFromEndWhile(Lr=>Lr.lineNumber===fi);b.push(new ks(qn,this.getLineContent(fi),yi))}if(pt<Xe&&b.push(new Ds(Re+pt+1,Fe)),pt<it){const cn=new D.j3(fn),qn=Re+pt,fi=it-pt,yi=a-N-fi+qn+1,Lr=[],As=[];for(let Br=0;Br<fi;Br++){const hs=yi+Br;As[Br]=this.getLineContent(hs),cn.takeWhile(ds=>ds.lineNumber<hs),Lr[Br]=cn.takeWhile(ds=>ds.lineNumber===hs)}b.push(new Ms(qn+1,Re+it,As,Lr))}N+=wt}this._emitContentChangedEvent(new vr(b,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:h,eol:this._buffer.getEOL(),isEolChange:!1,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return null===s.reverseEdits?void 0:s.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(e){if(null===e||0===e.size)return;const i=Array.from(e).map(s=>new ks(s,this.getLineContent(s),this._getInjectedTextInLine(s)));this._onDidChangeInjectedText.fire(new Rs(i))}changeDecorations(e,t=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(t,e)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(e,t){const i={addDecoration:(a,h)=>this._deltaDecorationsImpl(e,[],[{range:a,options:h}])[0],changeDecoration:(a,h)=>{this._changeDecorationImpl(a,h)},changeDecorationOptions:(a,h)=>{this._changeDecorationOptionsImpl(a,ws(h))},removeDecoration:a=>{this._deltaDecorationsImpl(e,[a],[])},deltaDecorations:(a,h)=>0===a.length&&0===h.length?[]:this._deltaDecorationsImpl(e,a,h)};let s=null;try{s=t(i)}catch(a){(0,$.dz)(a)}return i.addDecoration=Dr,i.changeDecoration=Dr,i.changeDecorationOptions=Dr,i.removeDecoration=Dr,i.deltaDecorations=Dr,s}deltaDecorations(e,t,i=0){if(this._assertNotDisposed(),e||(e=[]),0===e.length&&0===t.length)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),(0,$.dz)(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(i,e,t)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(e){return this.getDecorationRange(e)}_setTrackedRange(e,t,i){const s=e?this._decorations[e]:null;if(!s)return t?this._deltaDecorationsImpl(0,[],[{range:t,options:Ss[i]}],!0)[0]:null;if(!t)return this._decorationsTree.delete(s),delete this._decorations[s.id],null;const a=this._validateRangeRelaxedNoAllocations(t),h=this._buffer.getOffsetAt(a.startLineNumber,a.startColumn),b=this._buffer.getOffsetAt(a.endLineNumber,a.endColumn);return this._decorationsTree.delete(s),s.reset(this.getVersionId(),h,b,a),s.setOptions(Ss[i]),this._decorationsTree.insert(s),s.id}removeAllDecorationsWithOwnerId(e){if(this._isDisposed)return;const t=this._decorationsTree.collectNodesFromOwner(e);for(let i=0,s=t.length;i<s;i++){const a=t[i];this._decorationsTree.delete(a),delete this._decorations[a.id]}}getDecorationOptions(e){const t=this._decorations[e];return t?t.options:null}getDecorationRange(e){const t=this._decorations[e];return t?this._decorationsTree.getNodeRange(this,t):null}getLineDecorations(e,t=0,i=!1){return e<1||e>this.getLineCount()?[]:this.getLinesDecorations(e,e,t,i)}getLinesDecorations(e,t,i=0,s=!1,a=!1){const h=this.getLineCount(),b=Math.min(h,Math.max(1,e)),N=Math.min(h,Math.max(1,t)),X=this.getLineMaxColumn(N),re=new M.Q(b,1,N,X),se=this._getDecorationsInRange(re,i,s,a);return(0,D.E4)(se,this._decorationProvider.getDecorationsInRange(re,i,s)),se}getDecorationsInRange(e,t=0,i=!1,s=!1,a=!1){const h=this.validateRange(e),b=this._getDecorationsInRange(h,t,i,a);return(0,D.E4)(b,this._decorationProvider.getDecorationsInRange(h,t,i,s)),b}getOverviewRulerDecorations(e=0,t=!1){return this._decorationsTree.getAll(this,e,t,!0,!1)}getInjectedTextDecorations(e=0){return this._decorationsTree.getAllInjectedText(this,e)}_getInjectedTextInLine(e){const t=this._buffer.getOffsetAt(e,1),i=t+this._buffer.getLineLength(e),s=this._decorationsTree.getInjectedTextInInterval(this,t,i,0);return Nr.fromDecorations(s).filter(a=>a.lineNumber===e)}getAllDecorations(e=0,t=!1){let i=this._decorationsTree.getAll(this,e,t,!1,!1);return i=i.concat(this._decorationProvider.getAllDecorations(e,t)),i}getAllMarginDecorations(e=0){return this._decorationsTree.getAll(this,e,!1,!1,!0)}_getDecorationsInRange(e,t,i,s){const a=this._buffer.getOffsetAt(e.startLineNumber,e.startColumn),h=this._buffer.getOffsetAt(e.endLineNumber,e.endColumn);return this._decorationsTree.getAllInInterval(this,a,h,t,i,s)}getRangeAt(e,t){return this._buffer.getRangeAt(e,t-e)}_changeDecorationImpl(e,t){const i=this._decorations[e];if(!i)return;if(i.options.after){const b=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(b.endLineNumber)}if(i.options.before){const b=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(b.startLineNumber)}const s=this._validateRangeRelaxedNoAllocations(t),a=this._buffer.getOffsetAt(s.startLineNumber,s.startColumn),h=this._buffer.getOffsetAt(s.endLineNumber,s.endColumn);this._decorationsTree.delete(i),i.reset(this.getVersionId(),a,h,s),this._decorationsTree.insert(i),this._onDidChangeDecorations.checkAffectedAndFire(i.options),i.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(s.endLineNumber),i.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(s.startLineNumber)}_changeDecorationOptionsImpl(e,t){const i=this._decorations[e];if(!i)return;const s=!(!i.options.overviewRuler||!i.options.overviewRuler.color),a=!(!t.overviewRuler||!t.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(i.options),this._onDidChangeDecorations.checkAffectedAndFire(t),i.options.after||t.after){const N=this._decorationsTree.getNodeRange(this,i);this._onDidChangeDecorations.recordLineAffectedByInjectedText(N.endLineNumber)}if(i.options.before||t.before){const N=this._decorationsTree.getNodeRange(this,i);this._onDidChangeDecorations.recordLineAffectedByInjectedText(N.startLineNumber)}const h=s!==a,b=function js(g){return!!g.after||!!g.before}(t)!==Zr(i);h||b?(this._decorationsTree.delete(i),i.setOptions(t),this._decorationsTree.insert(i)):i.setOptions(t)}_deltaDecorationsImpl(e,t,i,s=!1){const a=this.getVersionId(),h=t.length;let b=0;const N=i.length;let X=0;this._onDidChangeDecorations.beginDeferredEmit();try{const re=new Array(N);for(;b<h||X<N;){let se=null;if(b<h){do{se=this._decorations[t[b++]]}while(!se&&b<h);if(se){if(se.options.after){const be=this._decorationsTree.getNodeRange(this,se);this._onDidChangeDecorations.recordLineAffectedByInjectedText(be.endLineNumber)}if(se.options.before){const be=this._decorationsTree.getNodeRange(this,se);this._onDidChangeDecorations.recordLineAffectedByInjectedText(be.startLineNumber)}this._decorationsTree.delete(se),s||this._onDidChangeDecorations.checkAffectedAndFire(se.options)}}if(X<N){if(!se){const pt=++this._lastDecorationId,wt=`${this._instanceId};${pt}`;se=new Bi(wt,0,0),this._decorations[wt]=se}const be=i[X],Re=this._validateRangeRelaxedNoAllocations(be.range),Fe=ws(be.options),Xe=this._buffer.getOffsetAt(Re.startLineNumber,Re.startColumn),it=this._buffer.getOffsetAt(Re.endLineNumber,Re.endColumn);se.ownerId=e,se.reset(a,Xe,it,Re),se.setOptions(Fe),se.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Re.endLineNumber),se.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Re.startLineNumber),s||this._onDidChangeDecorations.checkAffectedAndFire(Fe),this._decorationsTree.insert(se),re[X]=se.id,X++}else se&&delete this._decorations[se.id]}return re}finally{this._onDidChangeDecorations.endDeferredEmit()}}getLanguageId(){return this.tokenization.getLanguageId()}setLanguage(e,t){"string"==typeof e?(this._languageSelectionListener.clear(),this._setLanguage(e,t)):(this._languageSelectionListener.value=e.onDidChange(()=>this._setLanguage(e.languageId,t)),this._setLanguage(e.languageId,t))}_setLanguage(e,t){this.tokenization.setLanguageId(e,t),this._languageService.requestRichLanguageFeatures(e)}getLanguageIdAtPosition(e,t){return this.tokenization.getLanguageIdAtPosition(e,t)}getWordAtPosition(e){return this._tokenizationTextModelPart.getWordAtPosition(e)}getWordUntilPosition(e){return this._tokenizationTextModelPart.getWordUntilPosition(e)}normalizePosition(e,t){return e}getLineIndentColumn(e){return function zs(g){let e=0;for(const t of g){if(" "!==t&&"\t"!==t)break;e++}return e}(this.getLineContent(e))+1}};function us(g){return!(!g.options.overviewRuler||!g.options.overviewRuler.color)}function Zr(g){return!!g.options.after||!!g.options.before}ls=rr=function(g,e,t,i){var h,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(g,e,t,i);else for(var b=g.length-1;b>=0;b--)(h=g[b])&&(a=(s<3?h(a):s>3?h(e,t,a):h(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([Kr(4,Ls),Kr(5,Ce.L),Kr(6,kt),Kr(7,Sn._Y)],ls);class xs{constructor(){this._decorationsTree0=new ci,this._decorationsTree1=new ci,this._injectedTextDecorationsTree=new ci}ensureAllNodesHaveRanges(e){this.getAll(e,0,!1,!1,!1)}_ensureNodesHaveRanges(e,t){for(const i of t)null===i.range&&(i.range=e.getRangeAt(i.cachedAbsoluteStart,i.cachedAbsoluteEnd));return t}getAllInInterval(e,t,i,s,a,h){const b=e.getVersionId(),N=this._intervalSearch(t,i,s,a,b,h);return this._ensureNodesHaveRanges(e,N)}_intervalSearch(e,t,i,s,a,h){const b=this._decorationsTree0.intervalSearch(e,t,i,s,a,h),N=this._decorationsTree1.intervalSearch(e,t,i,s,a,h),X=this._injectedTextDecorationsTree.intervalSearch(e,t,i,s,a,h);return b.concat(N).concat(X)}getInjectedTextInInterval(e,t,i,s){const a=e.getVersionId(),h=this._injectedTextDecorationsTree.intervalSearch(t,i,s,!1,a,!1);return this._ensureNodesHaveRanges(e,h).filter(b=>b.options.showIfCollapsed||!b.range.isEmpty())}getAllInjectedText(e,t){const i=e.getVersionId(),s=this._injectedTextDecorationsTree.search(t,!1,i,!1);return this._ensureNodesHaveRanges(e,s).filter(a=>a.options.showIfCollapsed||!a.range.isEmpty())}getAll(e,t,i,s,a){const h=e.getVersionId(),b=this._search(t,i,s,h,a);return this._ensureNodesHaveRanges(e,b)}_search(e,t,i,s,a){if(i)return this._decorationsTree1.search(e,t,s,a);{const h=this._decorationsTree0.search(e,t,s,a),b=this._decorationsTree1.search(e,t,s,a),N=this._injectedTextDecorationsTree.search(e,t,s,a);return h.concat(b).concat(N)}}collectNodesFromOwner(e){const t=this._decorationsTree0.collectNodesFromOwner(e),i=this._decorationsTree1.collectNodesFromOwner(e),s=this._injectedTextDecorationsTree.collectNodesFromOwner(e);return t.concat(i).concat(s)}collectNodesPostOrder(){const e=this._decorationsTree0.collectNodesPostOrder(),t=this._decorationsTree1.collectNodesPostOrder(),i=this._injectedTextDecorationsTree.collectNodesPostOrder();return e.concat(t).concat(i)}insert(e){Zr(e)?this._injectedTextDecorationsTree.insert(e):us(e)?this._decorationsTree1.insert(e):this._decorationsTree0.insert(e)}delete(e){Zr(e)?this._injectedTextDecorationsTree.delete(e):us(e)?this._decorationsTree1.delete(e):this._decorationsTree0.delete(e)}getNodeRange(e,t){const i=e.getVersionId();return t.cachedVersionId!==i&&this._resolveNode(t,i),null===t.range&&(t.range=e.getRangeAt(t.cachedAbsoluteStart,t.cachedAbsoluteEnd)),t.range}_resolveNode(e,t){Zr(e)?this._injectedTextDecorationsTree.resolveNode(e,t):us(e)?this._decorationsTree1.resolveNode(e,t):this._decorationsTree0.resolveNode(e,t)}acceptReplace(e,t,i,s){this._decorationsTree0.acceptReplace(e,t,i,s),this._decorationsTree1.acceptReplace(e,t,i,s),this._injectedTextDecorationsTree.acceptReplace(e,t,i,s)}}function wi(g){return g.replace(/[^a-z0-9\-_]/gi," ")}class ys{constructor(e){this.color=e.color||"",this.darkColor=e.darkColor||""}}class Hs extends ys{constructor(e){super(e),this._resolvedColor=null,this.position="number"==typeof e.position?e.position:Rn.A5.Center}getColor(e){return this._resolvedColor||(this._resolvedColor=this._resolveColor("light"!==e.type&&this.darkColor?this.darkColor:this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(e,t){if("string"==typeof e)return e;const i=e?t.getColor(e.id):null;return i?i.toString():""}}class $s{constructor(e){this.position=e?.position??Rn.ZS.Center,this.persistLane=e?.persistLane}}class Gs extends ys{constructor(e){super(e),this.position=e.position,this.sectionHeaderStyle=e.sectionHeaderStyle??null,this.sectionHeaderText=e.sectionHeaderText??null}getColor(e){return this._resolvedColor||(this._resolvedColor=this._resolveColor("light"!==e.type&&this.darkColor?this.darkColor:this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(e,t){return"string"==typeof e?C.Q1.fromHex(e):t.getColor(e.id)}}class Mr{static from(e){return e instanceof Mr?e:new Mr(e)}constructor(e){this.content=e.content||"",this.inlineClassName=e.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=e.attachedData||null,this.cursorStops=e.cursorStops||null}}class xi{static register(e){return new xi(e)}static createDynamic(e){return new xi(e)}constructor(e){this.description=e.description,this.blockClassName=e.blockClassName?wi(e.blockClassName):null,this.blockDoesNotCollapse=e.blockDoesNotCollapse??null,this.blockIsAfterEnd=e.blockIsAfterEnd??null,this.blockPadding=e.blockPadding??null,this.stickiness=e.stickiness||0,this.zIndex=e.zIndex||0,this.className=e.className?wi(e.className):null,this.shouldFillLineOnLineBreak=e.shouldFillLineOnLineBreak??null,this.hoverMessage=e.hoverMessage||null,this.glyphMarginHoverMessage=e.glyphMarginHoverMessage||null,this.lineNumberHoverMessage=e.lineNumberHoverMessage||null,this.isWholeLine=e.isWholeLine||!1,this.showIfCollapsed=e.showIfCollapsed||!1,this.collapseOnReplaceEdit=e.collapseOnReplaceEdit||!1,this.overviewRuler=e.overviewRuler?new Hs(e.overviewRuler):null,this.minimap=e.minimap?new Gs(e.minimap):null,this.glyphMargin=e.glyphMarginClassName?new $s(e.glyphMargin):null,this.glyphMarginClassName=e.glyphMarginClassName?wi(e.glyphMarginClassName):null,this.linesDecorationsClassName=e.linesDecorationsClassName?wi(e.linesDecorationsClassName):null,this.lineNumberClassName=e.lineNumberClassName?wi(e.lineNumberClassName):null,this.linesDecorationsTooltip=e.linesDecorationsTooltip?f.jy(e.linesDecorationsTooltip):null,this.firstLineDecorationClassName=e.firstLineDecorationClassName?wi(e.firstLineDecorationClassName):null,this.marginClassName=e.marginClassName?wi(e.marginClassName):null,this.inlineClassName=e.inlineClassName?wi(e.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=e.beforeContentClassName?wi(e.beforeContentClassName):null,this.afterContentClassName=e.afterContentClassName?wi(e.afterContentClassName):null,this.after=e.after?Mr.from(e.after):null,this.before=e.before?Mr.from(e.before):null,this.hideInCommentTokens=e.hideInCommentTokens??!1,this.hideInStringTokens=e.hideInStringTokens??!1}}xi.EMPTY=xi.register({description:"empty"});const Ss=[xi.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),xi.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),xi.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),xi.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function ws(g){return g instanceof xi?g:xi.createDynamic(g)}class qs extends Z.jG{constructor(e){super(),this.handleBeforeFire=e,this._actual=this._register(new W.vl),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._affectsLineNumber=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){this._deferredCnt--,0===this._deferredCnt&&(this._shouldFireDeferred&&this.doFire(),this._affectedInjectedTextLines?.clear(),this._affectedInjectedTextLines=null)}recordLineAffectedByInjectedText(e){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(e)}checkAffectedAndFire(e){this._affectsMinimap||=!!e.minimap?.position,this._affectsOverviewRuler||=!!e.overviewRuler?.color,this._affectsGlyphMargin||=!!e.glyphMarginClassName,this._affectsLineNumber||=!!e.lineNumberClassName,this.tryFire()}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._affectsGlyphMargin=!0,this.tryFire()}tryFire(){0===this._deferredCnt?this.doFire():this._shouldFireDeferred=!0}doFire(){this.handleBeforeFire(this._affectedInjectedTextLines);const e={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler,affectsGlyphMargin:this._affectsGlyphMargin,affectsLineNumber:this._affectsLineNumber};this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._actual.fire(e)}}class Qs extends Z.jG{constructor(){super(),this._fastEmitter=this._register(new W.vl),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new W.vl),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(e=null){if(this._deferredCnt--,0===this._deferredCnt&&null!==this._deferredEvent){this._deferredEvent.rawContentChangedEvent.resultingSelection=e;const t=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(t),this._slowEmitter.fire(t)}}fire(e){this._deferredCnt>0?this._deferredEvent=this._deferredEvent?this._deferredEvent.merge(e):e:(this._fastEmitter.fire(e),this._slowEmitter.fire(e))}}var kr,Js=I(1355),Xs=I(5763),es=I(5109),Ks=I(4311),ts=function(g,e){return function(t,i){e(t,i,g)}};function sr(g){return g.toString()}class Zs{constructor(e,t,i){this.model=e,this._modelEventListeners=new Z.Cm,this.model=e,this._modelEventListeners.add(e.onWillDispose(()=>t(e))),this._modelEventListeners.add(e.onDidChangeLanguage(s=>i(e,s)))}dispose(){this._modelEventListeners.dispose()}}const eo=o.j9||o.zx?1:2;class to{constructor(e,t,i,s,a,h,b,N){this.uri=e,this.initialUndoRedoSnapshot=t,this.time=i,this.sharesUndoRedoStack=s,this.heapSize=a,this.sha1=h,this.versionId=b,this.alternativeVersionId=N}}let cs=class extends Z.jG{static{kr=this}static{this.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20971520}constructor(t,i,s,a){super(),this._configurationService=t,this._resourcePropertiesService=i,this._undoRedoService=s,this._instantiationService=a,this._onModelAdded=this._register(new W.vl),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new W.vl),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new W.vl),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._register(this._configurationService.onDidChangeConfiguration(h=>this._updateModelOptions(h))),this._updateModelOptions(void 0)}static _readModelOptions(t,i){let s=p.tabSize;if(t.editor&&typeof t.editor.tabSize<"u"){const Re=parseInt(t.editor.tabSize,10);isNaN(Re)||(s=Re),s<1&&(s=1)}let a="tabSize";if(t.editor&&typeof t.editor.indentSize<"u"&&"tabSize"!==t.editor.indentSize){const Re=parseInt(t.editor.indentSize,10);isNaN(Re)||(a=Math.max(Re,1))}let h=p.insertSpaces;t.editor&&typeof t.editor.insertSpaces<"u"&&(h="false"!==t.editor.insertSpaces&&!!t.editor.insertSpaces);let b=eo;const N=t.eol;"\r\n"===N?b=2:"\n"===N&&(b=1);let X=p.trimAutoWhitespace;t.editor&&typeof t.editor.trimAutoWhitespace<"u"&&(X="false"!==t.editor.trimAutoWhitespace&&!!t.editor.trimAutoWhitespace);let re=p.detectIndentation;t.editor&&typeof t.editor.detectIndentation<"u"&&(re="false"!==t.editor.detectIndentation&&!!t.editor.detectIndentation);let se=p.largeFileOptimizations;t.editor&&typeof t.editor.largeFileOptimizations<"u"&&(se="false"!==t.editor.largeFileOptimizations&&!!t.editor.largeFileOptimizations);let be=p.bracketPairColorizationOptions;return t.editor?.bracketPairColorization&&"object"==typeof t.editor.bracketPairColorization&&(be={enabled:!!t.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!t.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:i,tabSize:s,indentSize:a,insertSpaces:h,detectIndentation:re,defaultEOL:b,trimAutoWhitespace:X,largeFileOptimizations:se,bracketPairColorizationOptions:be}}_getEOL(t,i){if(t)return this._resourcePropertiesService.getEOL(t,i);const s=this._configurationService.getValue("files.eol",{overrideIdentifier:i});return s&&"string"==typeof s&&"auto"!==s?s:3===o.OS||2===o.OS?"\n":"\r\n"}_shouldRestoreUndoStack(){const t=this._configurationService.getValue("files.restoreUndoStack");return"boolean"!=typeof t||t}getCreationOptions(t,i,s){const a="string"==typeof t?t:t.languageId;let h=this._modelCreationOptionsByLanguageAndResource[a+i];if(!h){const b=this._configurationService.getValue("editor",{overrideIdentifier:a,resource:i}),N=this._getEOL(i,a);h=kr._readModelOptions({editor:b,eol:N},s),this._modelCreationOptionsByLanguageAndResource[a+i]=h}return h}_updateModelOptions(t){const i=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const s=Object.keys(this._models);for(let a=0,h=s.length;a<h;a++){const N=this._models[s[a]],X=N.model.getLanguageId(),re=N.model.uri;if(t&&!t.affectsConfiguration("editor",{overrideIdentifier:X,resource:re})&&!t.affectsConfiguration("files.eol",{overrideIdentifier:X,resource:re}))continue;const se=i[X+re],be=this.getCreationOptions(X,re,N.model.isForSimpleWidget);kr._setModelOptionsForModel(N.model,be,se)}}static _setModelOptionsForModel(t,i,s){s&&s.defaultEOL!==i.defaultEOL&&1===t.getLineCount()&&t.setEOL(1===i.defaultEOL?0:1),(!s||s.detectIndentation!==i.detectIndentation||s.insertSpaces!==i.insertSpaces||s.tabSize!==i.tabSize||s.indentSize!==i.indentSize||s.trimAutoWhitespace!==i.trimAutoWhitespace||!(0,Ks.aI)(s.bracketPairColorizationOptions,i.bracketPairColorizationOptions))&&(i.detectIndentation?(t.detectIndentation(i.insertSpaces,i.tabSize),t.updateOptions({trimAutoWhitespace:i.trimAutoWhitespace,bracketColorizationOptions:i.bracketPairColorizationOptions})):t.updateOptions({insertSpaces:i.insertSpaces,tabSize:i.tabSize,indentSize:i.indentSize,trimAutoWhitespace:i.trimAutoWhitespace,bracketColorizationOptions:i.bracketPairColorizationOptions}))}_insertDisposedModel(t){this._disposedModels.set(sr(t.uri),t),this._disposedModelsHeapSize+=t.heapSize}_removeDisposedModel(t){const i=this._disposedModels.get(sr(t));return i&&(this._disposedModelsHeapSize-=i.heapSize),this._disposedModels.delete(sr(t)),i}_ensureDisposedModelsHeapSize(t){if(this._disposedModelsHeapSize>t){const i=[];for(this._disposedModels.forEach(s=>{s.sharesUndoRedoStack||i.push(s)}),i.sort((s,a)=>s.time-a.time);i.length>0&&this._disposedModelsHeapSize>t;){const s=i.shift();this._removeDisposedModel(s.uri),null!==s.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(s.initialUndoRedoSnapshot)}}}_createModelData(t,i,s,a){const h=this.getCreationOptions(i,s,a),b=this._instantiationService.createInstance(ls,t,i,h,s);if(s&&this._disposedModels.has(sr(s))){const re=this._removeDisposedModel(s),se=this._undoRedoService.getElements(s),be=this._getSHA1Computer(),Re=!!be.canComputeSHA1(b)&&be.computeSHA1(b)===re.sha1;if(Re||re.sharesUndoRedoStack){for(const Fe of se.past)ui(Fe)&&Fe.matchesResource(s)&&Fe.setModel(b);for(const Fe of se.future)ui(Fe)&&Fe.matchesResource(s)&&Fe.setModel(b);this._undoRedoService.setElementsValidFlag(s,!0,Fe=>ui(Fe)&&Fe.matchesResource(s)),Re&&(b._overwriteVersionId(re.versionId),b._overwriteAlternativeVersionId(re.alternativeVersionId),b._overwriteInitialUndoRedoSnapshot(re.initialUndoRedoSnapshot))}else null!==re.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(re.initialUndoRedoSnapshot)}const N=sr(b.uri);if(this._models[N])throw new Error("ModelService: Cannot add model because it already exists!");const X=new Zs(b,re=>this._onWillDispose(re),(re,se)=>this._onDidChangeLanguage(re,se));return this._models[N]=X,X}createModel(t,i,s,a=!1){let h;return h=this._createModelData(t,i||_t.vH,s,a),this._onModelAdded.fire(h.model),h.model}getModels(){const t=[],i=Object.keys(this._models);for(let s=0,a=i.length;s<a;s++)t.push(this._models[i[s]].model);return t}getModel(t){const i=sr(t),s=this._models[i];return s?s.model:null}_schemaShouldMaintainUndoRedoElements(t){return t.scheme===es.ny.file||t.scheme===es.ny.vscodeRemote||t.scheme===es.ny.vscodeUserData||t.scheme===es.ny.vscodeNotebookCell||"fake-fs"===t.scheme}_onWillDispose(t){const i=sr(t.uri),s=this._models[i],a=this._undoRedoService.getUriComparisonKey(t.uri)!==t.uri.toString();let h=!1,b=0;if(a||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(t.uri)){const re=this._undoRedoService.getElements(t.uri);if(re.past.length>0||re.future.length>0){for(const se of re.past)ui(se)&&se.matchesResource(t.uri)&&(h=!0,b+=se.heapSize(t.uri),se.setModel(t.uri));for(const se of re.future)ui(se)&&se.matchesResource(t.uri)&&(h=!0,b+=se.heapSize(t.uri),se.setModel(t.uri))}}const N=kr.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK,X=this._getSHA1Computer();if(h)if(a||!(b>N)&&X.canComputeSHA1(t))this._ensureDisposedModelsHeapSize(N-b),this._undoRedoService.setElementsValidFlag(t.uri,!1,re=>ui(re)&&re.matchesResource(t.uri)),this._insertDisposedModel(new to(t.uri,s.model.getInitialUndoRedoSnapshot(),Date.now(),a,b,X.computeSHA1(t),t.getVersionId(),t.getAlternativeVersionId()));else{const re=s.model.getInitialUndoRedoSnapshot();null!==re&&this._undoRedoService.restoreSnapshot(re)}else if(!a){const re=s.model.getInitialUndoRedoSnapshot();null!==re&&this._undoRedoService.restoreSnapshot(re)}delete this._models[i],s.dispose(),delete this._modelCreationOptionsByLanguageAndResource[t.getLanguageId()+t.uri],this._onModelRemoved.fire(t)}_onDidChangeLanguage(t,i){const s=i.oldLanguage,a=t.getLanguageId(),h=this.getCreationOptions(s,t.uri,t.isForSimpleWidget),b=this.getCreationOptions(a,t.uri,t.isForSimpleWidget);kr._setModelOptionsForModel(t,b,h),this._onModelModeChanged.fire({model:t,oldLanguageId:s})}_getSHA1Computer(){return new Es}};cs=kr=function(g,e,t,i){var h,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(g,e,t,i);else for(var b=g.length-1;b>=0;b--)(h=g[b])&&(a=(s<3?h(a):s>3?h(e,t,a):h(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}([ts(0,Bn.pG),ts(1,Js.ITextResourcePropertiesService),ts(2,Ls),ts(3,Sn._Y)],cs);let Es=(()=>{class g{static{this.MAX_MODEL_SIZE=10485760}canComputeSHA1(t){return t.getValueLength()<=g.MAX_MODEL_SIZE}computeSHA1(t){const i=new Xs.v7,s=t.createSnapshot();let a;for(;a=s.read();)i.update(a);return i.digest()}}return g})()},5425:(ft,Oe,I)=>{"use strict";I.r(Oe),I.d(Oe,{ITextModelService:()=>Z});const Z=(0,I(598).u1)("textModelService")},4567:(ft,Oe,I)=>{"use strict";I.r(Oe),I.d(Oe,{encodeSemanticTokensDto:()=>C});var W=I(3233),Z=I(1828);function C(f){const B=new Uint32Array(function $(f){let B=0;if(B+=2,"full"===f.type)B+=1+f.data.length;else{B+=1,B+=3*f.deltas.length;for(const F of f.deltas)F.data&&(B+=F.data.length)}return B}(f));let F=0;if(B[F++]=f.id,"full"===f.type)B[F++]=1,B[F++]=f.data.length,B.set(f.data,F),F+=f.data.length;else{B[F++]=2,B[F++]=f.deltas.length;for(const ae of f.deltas)B[F++]=ae.start,B[F++]=ae.deleteCount,ae.data?(B[F++]=ae.data.length,B.set(ae.data,F),F+=ae.data.length):B[F++]=0}return function D(f){const B=new Uint8Array(f.buffer,f.byteOffset,4*f.length);return Z.cm()||function o(f){for(let B=0,F=f.length;B<F;B+=4){const ae=f[B+0],K=f[B+1],A=f[B+2];f[B+0]=f[B+3],f[B+1]=A,f[B+2]=K,f[B+3]=ae}}(B),W.MB.wrap(B)}(B)}},7088:(ft,Oe,I)=>{"use strict";I.r(Oe),I.d(Oe,{SemanticTokensProviderStyling:()=>M,toMultilineTokens2:()=>E}),I(1861);var Z=I(7464),o=I(2124),D=I(3632),C=I(3678),$=I(5583);class f{static create(_,w){return new f(_,new B(w))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}constructor(_,w){this._startLineNumber=_,this._tokens=w,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(_){return this._startLineNumber<=_&&_<=this._endLineNumber?this._tokens.getLineTokens(_-this._startLineNumber):null}getRange(){const _=this._tokens.getRange();return _&&new C.Q(this._startLineNumber+_.startLineNumber,_.startColumn,this._startLineNumber+_.endLineNumber,_.endColumn)}removeTokens(_){this._startLineNumber+=this._tokens.removeTokens(_.startLineNumber-this._startLineNumber,_.startColumn-1,_.endLineNumber-this._startLineNumber,_.endColumn-1),this._updateEndLineNumber()}split(_){const w=_.startLineNumber-this._startLineNumber,k=_.endLineNumber-this._startLineNumber,[U,H,j]=this._tokens.split(w,_.startColumn-1,k,_.endColumn-1);return[new f(this._startLineNumber,U),new f(this._startLineNumber+j,H)]}applyEdit(_,w){const[k,U,H]=(0,$.W)(w);this.acceptEdit(_,k,U,H,w.length>0?w.charCodeAt(0):0)}acceptEdit(_,w,k,U,H){this._acceptDeleteRange(_),this._acceptInsertText(new D.y(_.startLineNumber,_.startColumn),w,k,U,H),this._updateEndLineNumber()}_acceptDeleteRange(_){if(_.startLineNumber===_.endLineNumber&&_.startColumn===_.endColumn)return;const w=_.startLineNumber-this._startLineNumber,k=_.endLineNumber-this._startLineNumber;if(k<0)return void(this._startLineNumber-=k-w);const U=this._tokens.getMaxDeltaLine();if(!(w>=U+1)){if(w<0&&k>=U+1)return this._startLineNumber=0,void this._tokens.clear();w<0?(this._startLineNumber-=-w,this._tokens.acceptDeleteRange(_.startColumn-1,0,0,k,_.endColumn-1)):this._tokens.acceptDeleteRange(0,w,_.startColumn-1,k,_.endColumn-1)}}_acceptInsertText(_,w,k,U,H){if(0===w&&0===k)return;const j=_.lineNumber-this._startLineNumber;j<0?this._startLineNumber+=w:j>=this._tokens.getMaxDeltaLine()+1||this._tokens.acceptInsertText(j,_.column-1,w,k,U,H)}}class B{constructor(_){this._tokens=_,this._tokenCount=_.length/4}toString(_){const w=[];for(let k=0;k<this._tokenCount;k++)w.push(`(${this._getDeltaLine(k)+_},${this._getStartCharacter(k)}-${this._getEndCharacter(k)})`);return`[${w.join(",")}]`}getMaxDeltaLine(){const _=this._getTokenCount();return 0===_?-1:this._getDeltaLine(_-1)}getRange(){const _=this._getTokenCount();if(0===_)return null;const w=this._getStartCharacter(0),k=this._getDeltaLine(_-1),U=this._getEndCharacter(_-1);return new C.Q(0,w+1,k,U+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(_){return this._tokens[4*_]}_getStartCharacter(_){return this._tokens[4*_+1]}_getEndCharacter(_){return this._tokens[4*_+2]}isEmpty(){return 0===this._getTokenCount()}getLineTokens(_){let w=0,k=this._getTokenCount()-1;for(;w<k;){const U=w+Math.floor((k-w)/2),H=this._getDeltaLine(U);if(H<_)w=U+1;else{if(!(H>_)){let j=U;for(;j>w&&this._getDeltaLine(j-1)===_;)j--;let y=U;for(;y<k&&this._getDeltaLine(y+1)===_;)y++;return new F(this._tokens.subarray(4*j,4*y+4))}k=U-1}}return this._getDeltaLine(w)===_?new F(this._tokens.subarray(4*w,4*w+4)):null}clear(){this._tokenCount=0}removeTokens(_,w,k,U){const H=this._tokens,j=this._tokenCount;let y=0,O=!1,G=0;for(let T=0;T<j;T++){const z=4*T,ee=H[z],he=H[z+1],pe=H[z+2],ne=H[z+3];if((ee>_||ee===_&&pe>=w)&&(ee<k||ee===k&&he<=U))O=!0;else{if(0===y&&(G=ee),O){const ie=4*y;H[ie]=ee-G,H[ie+1]=he,H[ie+2]=pe,H[ie+3]=ne}y++}}return this._tokenCount=y,G}split(_,w,k,U){const H=this._tokens,j=this._tokenCount,y=[],O=[];let G=y,T=0,z=0;for(let ee=0;ee<j;ee++){const he=4*ee,pe=H[he],ne=H[he+1],ie=H[he+2],Ae=H[he+3];if(pe>_||pe===_&&ie>=w){if(pe<k||pe===k&&ne<=U)continue;G!==O&&(G=O,T=0,z=pe)}G[T++]=pe-z,G[T++]=ne,G[T++]=ie,G[T++]=Ae}return[new B(new Uint32Array(y)),new B(new Uint32Array(O)),z]}acceptDeleteRange(_,w,k,U,H){const j=this._tokens,y=this._tokenCount,O=U-w;let G=0,T=!1;for(let z=0;z<y;z++){const ee=4*z;let he=j[ee],pe=j[ee+1],ne=j[ee+2];const ie=j[ee+3];if(he<w||he===w&&ne<=k){G++;continue}if(he===w&&pe<k)he===U&&ne>H?ne-=H-k:ne=k;else if(he===w&&pe===k){if(!(he===U&&ne>H)){T=!0;continue}ne-=H-k}else if(he<U||he===U&&pe<H){if(!(he===U&&ne>H)){T=!0;continue}he=w,pe=k,ne=pe+(ne-H)}else if(he>U){if(0===O&&!T){G=y;break}he-=O}else{if(!(he===U&&pe>=H))throw new Error("Not possible!");_&&0===he&&(pe+=_,ne+=_),he-=O,pe-=H-k,ne-=H-k}const Ae=4*G;j[Ae]=he,j[Ae+1]=pe,j[Ae+2]=ne,j[Ae+3]=ie,G++}this._tokenCount=G}acceptInsertText(_,w,k,U,H,j){const y=0===k&&1===U&&(j>=48&&j<=57||j>=65&&j<=90||j>=97&&j<=122),O=this._tokens,G=this._tokenCount;for(let T=0;T<G;T++){const z=4*T;let ee=O[z],he=O[z+1],pe=O[z+2];if(!(ee<_||ee===_&&pe<w)){if(ee===_&&pe===w){if(!y)continue;pe+=1}else if(ee===_&&he<w&&w<pe)0===k?pe+=U:pe=w;else{if(ee===_&&he===w&&y)continue;if(ee===_)if(ee+=k,0===k)he+=U,pe+=U;else{const ne=pe-he;he=H+(he-w),pe=he+ne}else ee+=k}O[z]=ee,O[z+1]=he,O[z+2]=pe}}}}class F{constructor(_){this._tokens=_}getCount(){return this._tokens.length/4}getStartCharacter(_){return this._tokens[4*_+1]}getEndCharacter(_){return this._tokens[4*_+2]}getMetadata(_){return this._tokens[4*_+3]}}var ae=I(385),A=function(me,_){return function(w,k){_(w,k,me)}};let M=class{constructor(_,w,k,U){this._legend=_,this._themeService=w,this._languageService=k,this._logService=U,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new Ce}getMetadata(_,w,k){const U=this._languageService.languageIdCodec.encodeLanguageId(k),H=this._hashTable.get(_,w,U);let j;if(H)j=H.metadata;else{let y=this._legend.tokenTypes[_];const O=[];if(y){let G=w;for(let z=0;G>0&&z<this._legend.tokenModifiers.length;z++)1&G&&O.push(this._legend.tokenModifiers[z]),G>>=1;const T=this._themeService.getColorTheme().getTokenStyleMetadata(y,O,k);typeof T>"u"?j=2147483647:(j=0,typeof T.italic<"u"&&(j|=1|(T.italic?1:0)<<11),typeof T.bold<"u"&&(j|=2|(T.bold?2:0)<<11),typeof T.underline<"u"&&(j|=4|(T.underline?4:0)<<11),typeof T.strikethrough<"u"&&(j|=8|(T.strikethrough?8:0)<<11),T.foreground&&(j|=16|T.foreground<<15),0===j&&(j=2147483647))}else j=2147483647,y="not-in-legend";this._hashTable.add(_,w,U,j)}return j}warnOverlappingSemanticTokens(_,w){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,this._logService.warn(`Overlapping semantic tokens detected at lineNumber ${_}, column ${w}`))}warnInvalidLengthSemanticTokens(_,w){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,this._logService.warn(`Semantic token with invalid length detected at lineNumber ${_}, column ${w}`))}warnInvalidEditStart(_,w,k,U,H){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,this._logService.warn(`Invalid semantic tokens edit detected (previousResultId: ${_}, resultId: ${w}) at edit #${k}: The provided start offset ${U} is outside the previous data (length ${H}).`))}};function E(me,_,w){const k=me.data,U=me.data.length/5|0,H=Math.max(Math.ceil(U/1024),400),j=[];let y=0,O=1,G=0;for(;y<U;){const T=y;let z=Math.min(T+H,U);if(z<U){let ce=z;for(;ce-1>T&&0===k[5*ce];)ce--;if(ce-1===T){let P=z;for(;P+1<U&&0===k[5*P];)P++;z=P}else z=ce}let ee=new Uint32Array(4*(z-T)),he=0,pe=0,ne=0,ie=0;for(;y<z;){const ce=5*y,P=k[ce],J=k[ce+1],le=O+P|0,ge=0===P?G+J|0:J,De=ge+k[ce+2]|0,ze=k[ce+3],We=k[ce+4];if(De<=ge)_.warnInvalidLengthSemanticTokens(le,ge+1);else if(ne===le&&ie>ge)_.warnOverlappingSemanticTokens(le,ge+1);else{const ht=_.getMetadata(ze,We,w);2147483647!==ht&&(0===pe&&(pe=le),ee[he]=le-pe,ee[he+1]=ge,ee[he+2]=De,ee[he+3]=ht,he+=4,ne=le,ie=De)}O=le,G=ge,y++}he!==ee.length&&(ee=ee.subarray(0,he));const Ae=f.create(pe,ee);j.push(Ae)}return j}M=function(me,_,w,k){var j,U=arguments.length,H=U<3?_:null===k?k=Object.getOwnPropertyDescriptor(_,w):k;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)H=Reflect.decorate(me,_,w,k);else for(var y=me.length-1;y>=0;y--)(j=me[y])&&(H=(U<3?j(H):U>3?j(_,w,H):j(_,w))||H);return U>3&&H&&Object.defineProperty(_,w,H),H}([A(1,Z.Gy),A(2,ae.L),A(3,o.rr)],M);class p{constructor(_,w,k,U){this.tokenTypeIndex=_,this.tokenModifierSet=w,this.languageId=k,this.metadata=U,this.next=null}}let Ce=(()=>{class me{static{this._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]}constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=me._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<me._SIZES.length?2/3*this._currentLength:0),this._elements=[],me._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(w,k){for(let U=0;U<k;U++)w[U]=null}_hash2(w,k){return(w<<5)-w+k|0}_hashFunc(w,k,U){return this._hash2(this._hash2(w,k),U)%this._currentLength}get(w,k,U){const H=this._hashFunc(w,k,U);let j=this._elements[H];for(;j;){if(j.tokenTypeIndex===w&&j.tokenModifierSet===k&&j.languageId===U)return j;j=j.next}return null}add(w,k,U,H){if(this._elementsCount++,0!==this._growCount&&this._elementsCount>=this._growCount){const j=this._elements;this._currentLengthIndex++,this._currentLength=me._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<me._SIZES.length?2/3*this._currentLength:0),this._elements=[],me._nullOutEntries(this._elements,this._currentLength);for(const y of j){let O=y;for(;O;){const G=O.next;O.next=null,this._add(O),O=G}}}this._add(new p(w,k,U,H))}_add(w){const k=this._hashFunc(w.tokenTypeIndex,w.tokenModifierSet,w.languageId);w.next=this._elements[k],this._elements[k]=w}}return me})()},5424:(ft,Oe,I)=>{"use strict";I.r(Oe),I.d(Oe,{ISemanticTokensStylingService:()=>Z});const Z=(0,I(598).u1)("semanticTokensStylingService")},281:(ft,Oe,I)=>{"use strict";I.r(Oe),I.d(Oe,{SemanticTokensStylingService:()=>ae});var W=I(4061),Z=I(385),o=I(7464),D=I(2124),C=I(7088),$=I(5424),f=I(2534),F=function(K,A){return function(S,M){A(S,M,K)}};let ae=class extends W.jG{constructor(A,S,M){super(),this._themeService=A,this._logService=S,this._languageService=M,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}getStyling(A){return this._caches.has(A)||this._caches.set(A,new C.SemanticTokensProviderStyling(A.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(A)}};ae=function(K,A,S,M){var Ce,E=arguments.length,p=E<3?A:null===M?M=Object.getOwnPropertyDescriptor(A,S):M;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(K,A,S,M);else for(var me=K.length-1;me>=0;me--)(Ce=K[me])&&(p=(E<3?Ce(p):E>3?Ce(A,S,p):Ce(A,S))||p);return E>3&&p&&Object.defineProperty(A,S,p),p}([F(0,o.Gy),F(1,D.rr),F(2,Z.L)],ae),(0,f.v)($.ISemanticTokensStylingService,ae,1)},3296:(ft,Oe,I)=>{"use strict";I.r(Oe),I.d(Oe,{MirrorModel:()=>Ce,STOP_SYNC_MODEL_DELTA_TIME_MS:()=>M,WorkerTextModelSyncClient:()=>E,WorkerTextModelSyncServer:()=>p});var W=I(795),Z=I(4061),o=I(2417),D=I(3632),C=I(3678),$=I(199),f=I(6653),F=(I(833),I(4371));class ae{constructor(_){this.values=_,this.prefixSum=new Uint32Array(_.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(_,w){_=(0,F.j)(_);const k=this.values,U=this.prefixSum,H=w.length;return 0!==H&&(this.values=new Uint32Array(k.length+H),this.values.set(k.subarray(0,_),0),this.values.set(k.subarray(_),_+H),this.values.set(w,_),_-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=_-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(U.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(_,w){return _=(0,F.j)(_),w=(0,F.j)(w),this.values[_]!==w&&(this.values[_]=w,_-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=_-1),!0)}removeValues(_,w){_=(0,F.j)(_),w=(0,F.j)(w);const k=this.values,U=this.prefixSum;if(_>=k.length)return!1;const H=k.length-_;return w>=H&&(w=H),0!==w&&(this.values=new Uint32Array(k.length-w),this.values.set(k.subarray(0,_),0),this.values.set(k.subarray(_+w),_),this.prefixSum=new Uint32Array(this.values.length),_-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=_-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(U.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return 0===this.values.length?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(_){return _<0?0:(_=(0,F.j)(_),this._getPrefixSum(_))}_getPrefixSum(_){if(_<=this.prefixSumValidIndex[0])return this.prefixSum[_];let w=this.prefixSumValidIndex[0]+1;0===w&&(this.prefixSum[0]=this.values[0],w++),_>=this.values.length&&(_=this.values.length-1);for(let k=w;k<=_;k++)this.prefixSum[k]=this.prefixSum[k-1]+this.values[k];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],_),this.prefixSum[_]}getIndexOf(_){_=Math.floor(_),this.getTotalSum();let w=0,k=this.values.length-1,U=0,H=0,j=0;for(;w<=k;)if(U=w+(k-w)/2|0,H=this.prefixSum[U],j=H-this.values[U],_<j)k=U-1;else{if(!(_>=H))break;w=U+1}return new A(U,_-j)}}class A{constructor(_,w){this.index=_,this.remainder=w,this._prefixSumIndexOfResultBrand=void 0,this.index=_,this.remainder=w}}class S{constructor(_,w,k,U){this._uri=_,this._lines=w,this._eol=k,this._versionId=U,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return null===this._cachedTextValue&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(_){_.eol&&_.eol!==this._eol&&(this._eol=_.eol,this._lineStarts=null);const w=_.changes;for(const k of w)this._acceptDeleteRange(k.range),this._acceptInsertText(new D.y(k.range.startLineNumber,k.range.startColumn),k.text);this._versionId=_.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const _=this._eol.length,w=this._lines.length,k=new Uint32Array(w);for(let U=0;U<w;U++)k[U]=this._lines[U].length+_;this._lineStarts=new ae(k)}}_setLineText(_,w){this._lines[_]=w,this._lineStarts&&this._lineStarts.setValue(_,this._lines[_].length+this._eol.length)}_acceptDeleteRange(_){if(_.startLineNumber!==_.endLineNumber)this._setLineText(_.startLineNumber-1,this._lines[_.startLineNumber-1].substring(0,_.startColumn-1)+this._lines[_.endLineNumber-1].substring(_.endColumn-1)),this._lines.splice(_.startLineNumber,_.endLineNumber-_.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(_.startLineNumber,_.endLineNumber-_.startLineNumber);else{if(_.startColumn===_.endColumn)return;this._setLineText(_.startLineNumber-1,this._lines[_.startLineNumber-1].substring(0,_.startColumn-1)+this._lines[_.startLineNumber-1].substring(_.endColumn-1))}}_acceptInsertText(_,w){if(0===w.length)return;const k=(0,f.uz)(w);if(1===k.length)return void this._setLineText(_.lineNumber-1,this._lines[_.lineNumber-1].substring(0,_.column-1)+k[0]+this._lines[_.lineNumber-1].substring(_.column-1));k[k.length-1]+=this._lines[_.lineNumber-1].substring(_.column-1),this._setLineText(_.lineNumber-1,this._lines[_.lineNumber-1].substring(0,_.column-1)+k[0]);const U=new Uint32Array(k.length-1);for(let H=1;H<k.length;H++)this._lines.splice(_.lineNumber+H-1,0,k[H]),U[H-1]=k[H].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(_.lineNumber,U)}}const M=6e4;class E extends Z.jG{constructor(_,w,k=!1){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=_,this._modelService=w,!k){const U=new W.vb;U.cancelAndSet(()=>this._checkStopModelSync(),Math.round(M/2)),this._register(U)}}dispose(){for(const _ in this._syncedModels)(0,Z.AS)(this._syncedModels[_]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(_,w=!1){for(const k of _){const U=k.toString();this._syncedModels[U]||this._beginModelSync(k,w),this._syncedModels[U]&&(this._syncedModelsLastUsedTime[U]=(new Date).getTime())}}_checkStopModelSync(){const _=(new Date).getTime(),w=[];for(const k in this._syncedModelsLastUsedTime)_-this._syncedModelsLastUsedTime[k]>M&&w.push(k);for(const k of w)this._stopModelSync(k)}_beginModelSync(_,w){const k=this._modelService.getModel(_);if(!k||!w&&k.isTooLargeForSyncing())return;const U=_.toString();this._proxy.$acceptNewModel({url:k.uri.toString(),lines:k.getLinesContent(),EOL:k.getEOL(),versionId:k.getVersionId()});const H=new Z.Cm;H.add(k.onDidChangeContent(j=>{this._proxy.$acceptModelChanged(U.toString(),j)})),H.add(k.onWillDispose(()=>{this._stopModelSync(U)})),H.add((0,Z.s)(()=>{this._proxy.$acceptRemovedModel(U)})),this._syncedModels[U]=H}_stopModelSync(_){const w=this._syncedModels[_];delete this._syncedModels[_],delete this._syncedModelsLastUsedTime[_],(0,Z.AS)(w)}}class p{constructor(){this._models=Object.create(null)}getModel(_){return this._models[_]}getModels(){const _=[];return Object.keys(this._models).forEach(w=>_.push(this._models[w])),_}$acceptNewModel(_){this._models[_.url]=new Ce(o.r.parse(_.url),_.lines,_.EOL,_.versionId)}$acceptModelChanged(_,w){this._models[_]&&this._models[_].onEvents(w)}$acceptRemovedModel(_){this._models[_]&&delete this._models[_]}}class Ce extends S{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}findMatches(_){const w=[];for(let k=0;k<this._lines.length;k++){const U=this._lines[k],H=this.offsetAt(new D.y(k+1,1)),j=U.matchAll(_);for(const y of j)(y.index||0===y.index)&&(y.index=y.index+H),w.push(y)}return w}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(_){return this._lines[_-1]}getWordAtPosition(_,w){const k=(0,$.Th)(_.column,(0,$.Io)(w),this._lines[_.lineNumber-1],0);return k?new C.Q(_.lineNumber,k.startColumn,_.lineNumber,k.endColumn):null}words(_){const w=this._lines,k=this._wordenize.bind(this);let U=0,H="",j=0,y=[];return{*[Symbol.iterator](){for(;;)if(j<y.length){const O=H.substring(y[j].start,y[j].end);j+=1,yield O}else{if(!(U<w.length))break;H=w[U],y=k(H,_),j=0,U+=1}}}}getLineWords(_,w){const k=this._lines[_-1],U=this._wordenize(k,w),H=[];for(const j of U)H.push({word:k.substring(j.start,j.end),startColumn:j.start+1,endColumn:j.end+1});return H}_wordenize(_,w){const k=[];let U;for(w.lastIndex=0;(U=w.exec(_))&&0!==U[0].length;)k.push({start:U.index,end:U.index+U[0].length});return k}getValueInRange(_){if((_=this._validateRange(_)).startLineNumber===_.endLineNumber)return this._lines[_.startLineNumber-1].substring(_.startColumn-1,_.endColumn-1);const w=this._eol,k=_.startLineNumber-1,U=_.endLineNumber-1,H=[];H.push(this._lines[k].substring(_.startColumn-1));for(let j=k+1;j<U;j++)H.push(this._lines[j]);return H.push(this._lines[U].substring(0,_.endColumn-1)),H.join(w)}offsetAt(_){return _=this._validatePosition(_),this._ensureLineStarts(),this._lineStarts.getPrefixSum(_.lineNumber-2)+(_.column-1)}positionAt(_){_=Math.floor(_),_=Math.max(0,_),this._ensureLineStarts();const w=this._lineStarts.getIndexOf(_);return{lineNumber:1+w.index,column:1+Math.min(w.remainder,this._lines[w.index].length)}}_validateRange(_){const w=this._validatePosition({lineNumber:_.startLineNumber,column:_.startColumn}),k=this._validatePosition({lineNumber:_.endLineNumber,column:_.endColumn});return w.lineNumber!==_.startLineNumber||w.column!==_.startColumn||k.lineNumber!==_.endLineNumber||k.column!==_.endColumn?{startLineNumber:w.lineNumber,startColumn:w.column,endLineNumber:k.lineNumber,endColumn:k.column}:_}_validatePosition(_){if(!D.y.isIPosition(_))throw new Error("bad position");let{lineNumber:w,column:k}=_,U=!1;if(w<1)w=1,k=1,U=!0;else if(w>this._lines.length)w=this._lines.length,k=this._lines[w-1].length+1,U=!0;else{const H=this._lines[w-1].length+1;k<1?(k=1,U=!0):k>H&&(k=H,U=!0)}return U?{lineNumber:w,column:k}:_}}},2045:(ft,Oe,I)=>{"use strict";I.r(Oe)},1355:(ft,Oe,I)=>{"use strict";I.r(Oe),I.d(Oe,{ITextResourceConfigurationService:()=>Z,ITextResourcePropertiesService:()=>o});var W=I(598);const Z=(0,W.u1)("textResourceConfigurationService"),o=(0,W.u1)("textResourcePropertiesService")},2291:(ft,Oe,I)=>{"use strict";I.r(Oe),I.d(Oe,{ITreeSitterParserService:()=>Z});const Z=(0,I(598).u1)("treeSitterParserService")},1734:(ft,Oe,I)=>{"use strict";I.r(Oe),I.d(Oe,{DraggedTreeItemsIdentifier:()=>Z,TreeViewsDnDService:()=>W});class W{constructor(){this._dragOperations=new Map}removeDragOperationTransfer(D){if(D&&this._dragOperations.has(D)){const C=this._dragOperations.get(D);return this._dragOperations.delete(D),C}}}class Z{constructor(D){this.identifier=D}}},1083:(ft,Oe,I)=>{"use strict";I.r(Oe),I.d(Oe,{ITreeViewsDnDService:()=>D});var W=I(2534),Z=I(598),o=I(1734);const D=(0,Z.u1)("treeViewsDndService");(0,W.v)(D,o.TreeViewsDnDService,1)},8752:(ft,Oe,I)=>{"use strict";I.r(Oe),I.d(Oe,{UnicodeTextModelHighlighter:()=>$});var W=I(3678),Z=I(9966),o=I(6653),D=I(3929),C=I(199);class ${static computeUnicodeHighlights(K,A,S){const M=S?S.startLineNumber:1,E=S?S.endLineNumber:K.getLineCount(),p=new B(A),Ce=p.getCandidateCodePoints();let me;me="allNonBasicAscii"===Ce?new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):new RegExp(`${function f(ae){return`[${o.bm(ae.map(S=>String.fromCodePoint(S)).join(""))}]`}(Array.from(Ce))}`,"g");const _=new Z.W5(null,me),w=[];let U,k=!1,H=0,j=0,y=0;e:for(let O=M,G=E;O<=G;O++){const T=K.getLineContent(O),z=T.length;_.reset(0);do{if(U=_.next(T),U){let ee=U.index,he=U.index+U[0].length;if(ee>0){const Ae=T.charCodeAt(ee-1);o.pc(Ae)&&ee--}if(he+1<z){const Ae=T.charCodeAt(he-1);o.pc(Ae)&&he++}const pe=T.substring(ee,he);let ne=(0,C.Th)(ee+1,C.Ld,T,0);ne&&ne.endColumn<=ee+1&&(ne=null);const ie=p.shouldHighlightNonBasicASCII(pe,ne?ne.word:null);if(0!==ie){if(3===ie?H++:2===ie?j++:1===ie?y++:(0,D.xb)(ie),w.length>=1e3){k=!0;break e}w.push(new W.Q(O,ee+1,O,he+1))}}}while(U)}return{ranges:w,hasMore:k,ambiguousCharacterCount:H,invisibleCharacterCount:j,nonBasicAsciiCharacterCount:y}}static computeUnicodeHighlightReason(K,A){const S=new B(A);switch(S.shouldHighlightNonBasicASCII(K,null)){case 0:return null;case 2:return{kind:1};case 3:{const E=K.codePointAt(0),p=S.ambiguousCharacters.getPrimaryConfusable(E),Ce=o.tl.getLocales().filter(me=>!o.tl.getInstance(new Set([...A.allowedLocales,me])).isAmbiguous(E));return{kind:0,confusableWith:String.fromCodePoint(p),notAmbiguousInLocales:Ce}}case 1:return{kind:2}}}}class B{constructor(K){this.options=K,this.allowedCodePoints=new Set(K.allowedCodePoints),this.ambiguousCharacters=o.tl.getInstance(new Set(K.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const K=new Set;if(this.options.invisibleCharacters)for(const A of o.y_.codePoints)F(String.fromCodePoint(A))||K.add(A);if(this.options.ambiguousCharacters)for(const A of this.ambiguousCharacters.getConfusableCodePoints())K.add(A);for(const A of this.allowedCodePoints)K.delete(A);return K}shouldHighlightNonBasicASCII(K,A){const S=K.codePointAt(0);if(this.allowedCodePoints.has(S))return 0;if(this.options.nonBasicASCII)return 1;let M=!1,E=!1;if(A)for(const p of A){const Ce=p.codePointAt(0),me=o.aC(p);M=M||me,!me&&!this.ambiguousCharacters.isAmbiguous(Ce)&&!o.y_.isInvisibleCharacter(Ce)&&(E=!0)}return!M&&E?0:this.options.invisibleCharacters&&!F(K)&&o.y_.isInvisibleCharacter(S)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(S)?3:0}}function F(ae){return" "===ae||"\n"===ae||"\t"===ae}},1913:(ft,Oe,I)=>{"use strict";function Z(){return globalThis._VSCODE_NLS_LANGUAGE}I.d(Oe,{i8:()=>Z,kg:()=>C});const o="pseudo"===Z()||typeof document<"u"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;function C(B,F,...ae){return function D(B,F){let ae;return ae=0===F.length?B:B.replace(/\{(\d+)\}/g,(K,A)=>{const M=F[A[0]];let E=K;return"string"==typeof M?E=M:("number"==typeof M||"boolean"==typeof M||null==M)&&(E=String(M)),E}),o&&(ae="\uff3b"+ae.replace(/[aouei]/g,"$&$&")+"\uff3d"),ae}("number"==typeof B?function $(B,F){const ae=function W(){return globalThis._VSCODE_NLS_MESSAGES}()?.[B];if("string"!=typeof ae){if("string"==typeof F)return F;throw new Error(`!!! NLS MISSING: ${B} !!!`)}return ae}(B,F):F,ae)}},5072:(ft,Oe,I)=>{"use strict";I.d(Oe,{Mo:()=>B,pG:()=>Z});const Z=(0,I(598).u1)("configurationService");function B(F){return F.replace(/[\[\]]/g,"")}},987:(ft,Oe,I)=>{"use strict";I.d(Oe,{Fd:()=>B});var W=I(833),Z=I(5643),o=I(6702),D=I(1913),C=I(5072),$=I(4027),f=I(7018);const B={Configuration:"base.contributions.configuration"},F={properties:{},patternProperties:{}},ae={properties:{},patternProperties:{}},K={properties:{},patternProperties:{}},A={properties:{},patternProperties:{}},S={properties:{},patternProperties:{}},M={properties:{},patternProperties:{}},E="vscode://schemas/settings/resourceLanguage",p=f.O.as($.F.JSONContribution),me="\\[([^\\]]+)\\]",_=new RegExp(me,"g"),w=`^(${me})+$`,k=new RegExp(w);function U(O){const G=[];if(k.test(O)){let T=_.exec(O);for(;T?.length;){const z=T[1].trim();z&&G.push(z),T=_.exec(O)}}return(0,W.dM)(G)}const j=new class Ce{constructor(){this.registeredConfigurationDefaults=[],this.overrideIdentifiers=new Set,this._onDidSchemaChange=new Z.vl,this._onDidUpdateConfiguration=new Z.vl,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:D.kg("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},p.registerSchema(E,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(G,T=!0){this.registerConfigurations([G],T)}registerConfigurations(G,T=!0){const z=new Set;this.doRegisterConfigurations(G,T,z),p.registerSchema(E,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:z})}registerDefaultConfigurations(G){const T=new Set;this.doRegisterDefaultConfigurations(G,T),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:T,defaultsOverrides:!0})}doRegisterDefaultConfigurations(G,T){this.registeredConfigurationDefaults.push(...G);const z=[];for(const{overrides:ee,source:he}of G)for(const pe in ee){T.add(pe);const ne=this.configurationDefaultsOverrides.get(pe)??this.configurationDefaultsOverrides.set(pe,{configurationDefaultOverrides:[]}).get(pe),ie=ee[pe];if(ne.configurationDefaultOverrides.push({value:ie,source:he}),k.test(pe)){const Ae=this.mergeDefaultConfigurationsForOverrideIdentifier(pe,ie,he,ne.configurationDefaultOverrideValue);if(!Ae)continue;ne.configurationDefaultOverrideValue=Ae,this.updateDefaultOverrideProperty(pe,Ae,he),z.push(...U(pe))}else{const Ae=this.mergeDefaultConfigurationsForConfigurationProperty(pe,ie,he,ne.configurationDefaultOverrideValue);if(!Ae)continue;ne.configurationDefaultOverrideValue=Ae;const ce=this.configurationProperties[pe];ce&&(this.updatePropertyDefaultValue(pe,ce),this.updateSchema(pe,ce))}}this.doRegisterOverrideIdentifiers(z)}updateDefaultOverrideProperty(G,T,z){const ee={type:"object",default:T.value,description:D.kg("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",(0,C.Mo)(G)),$ref:E,defaultDefaultValue:T.value,source:z,defaultValueSource:z};this.configurationProperties[G]=ee,this.defaultLanguageConfigurationOverridesNode.properties[G]=ee}mergeDefaultConfigurationsForOverrideIdentifier(G,T,z,ee){const he=ee?.value||{},pe=ee?.source??new Map;if(pe instanceof Map){for(const ne of Object.keys(T)){const ie=T[ne];if(o.Gv(ie)&&(o.b0(he[ne])||o.Gv(he[ne]))){if(he[ne]={...he[ne]??{},...ie},z)for(const ce in ie)pe.set(`${ne}.${ce}`,z)}else he[ne]=ie,z?pe.set(ne,z):pe.delete(ne)}return{value:he,source:pe}}console.error("objectConfigurationSources is not a Map")}mergeDefaultConfigurationsForConfigurationProperty(G,T,z,ee){const he=this.configurationProperties[G],pe=ee?.value??he?.defaultDefaultValue;let ne=z;if(o.Gv(T)&&(void 0!==he&&"object"===he.type||void 0===he&&(o.b0(pe)||o.Gv(pe)))){if(ne=ee?.source??new Map,!(ne instanceof Map))return void console.error("defaultValueSource is not a Map");for(const Ae in T)z&&ne.set(`${G}.${Ae}`,z);T={...o.Gv(pe)?pe:{},...T}}return{value:T,source:ne}}registerOverrideIdentifiers(G){this.doRegisterOverrideIdentifiers(G),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(G){for(const T of G)this.overrideIdentifiers.add(T);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(G,T,z){G.forEach(ee=>{this.validateAndRegisterProperties(ee,T,ee.extensionInfo,ee.restrictedProperties,void 0,z),this.configurationContributors.push(ee),this.registerJSONConfiguration(ee)})}validateAndRegisterProperties(G,T=!0,z,ee,he=3,pe){he=o.z(G.scope)?he:G.scope;const ne=G.properties;if(ne)for(const Ae in ne){const ce=ne[Ae];T&&y(Ae,ce)?delete ne[Ae]:(ce.source=z,ce.defaultDefaultValue=ne[Ae].default,this.updatePropertyDefaultValue(Ae,ce),k.test(Ae)?ce.scope=void 0:(ce.scope=o.z(ce.scope)?he:ce.scope,ce.restricted=o.z(ce.restricted)?!!ee?.includes(Ae):ce.restricted),!ne[Ae].hasOwnProperty("included")||ne[Ae].included?(this.configurationProperties[Ae]=ne[Ae],ne[Ae].policy?.name&&this.policyConfigurations.set(ne[Ae].policy.name,Ae),!ne[Ae].deprecationMessage&&ne[Ae].markdownDeprecationMessage&&(ne[Ae].deprecationMessage=ne[Ae].markdownDeprecationMessage),pe.add(Ae)):(this.excludedConfigurationProperties[Ae]=ne[Ae],delete ne[Ae]))}const ie=G.allOf;if(ie)for(const Ae of ie)this.validateAndRegisterProperties(Ae,T,z,ee,he,pe)}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(G){const T=z=>{const ee=z.properties;if(ee)for(const pe in ee)this.updateSchema(pe,ee[pe]);z.allOf?.forEach(T)};T(G)}updateSchema(G,T){switch(F.properties[G]=T,T.scope){case 1:ae.properties[G]=T;break;case 2:K.properties[G]=T;break;case 6:A.properties[G]=T;break;case 3:S.properties[G]=T;break;case 4:M.properties[G]=T;break;case 5:M.properties[G]=T,this.resourceLanguageSettingsSchema.properties[G]=T}}updateOverridePropertyPatternKey(){for(const G of this.overrideIdentifiers.values()){const T=`[${G}]`,z={type:"object",description:D.kg("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:D.kg("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:E};this.updatePropertyDefaultValue(T,z),F.properties[T]=z,ae.properties[T]=z,K.properties[T]=z,A.properties[T]=z,S.properties[T]=z,M.properties[T]=z}}registerOverridePropertyPatternKey(){const G={type:"object",description:D.kg("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:D.kg("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:E};F.patternProperties[w]=G,ae.patternProperties[w]=G,K.patternProperties[w]=G,A.patternProperties[w]=G,S.patternProperties[w]=G,M.patternProperties[w]=G,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(G,T){const z=this.configurationDefaultsOverrides.get(G)?.configurationDefaultOverrideValue;let ee,he;z&&(!T.disallowConfigurationDefault||!z.source)&&(ee=z.value,he=z.source),o.b0(ee)&&(ee=T.defaultDefaultValue,he=void 0),o.b0(ee)&&(ee=function H(O){switch(Array.isArray(O)?O[0]:O){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}(T.type)),T.default=ee,T.defaultValueSource=he}};function y(O,G){return O.trim()?k.test(O)?D.kg("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",O):void 0!==j.getConfigurationProperties()[O]?D.kg("config.property.duplicate","Cannot register '{0}'. This property is already registered.",O):G.policy?.name&&void 0!==j.getPolicyConfigurations().get(G.policy?.name)?D.kg("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",O,G.policy?.name,j.getPolicyConfigurations().get(G.policy?.name)):null:D.kg("config.property.empty","Cannot register an empty property")}f.O.add(B.Configuration,j)},2534:(ft,Oe,I)=>{"use strict";I.d(Oe,{v:()=>o});class W{constructor($,f=[],B=!1){this.ctor=$,this.staticArguments=f,this.supportsDelayedInstantiation=B}}const Z=[];function o(C,$,f){$ instanceof W||($=new W($,[],!!f)),Z.push([C,$])}},598:(ft,Oe,I)=>{"use strict";var W,C;I.d(Oe,{_Y:()=>Z,u1:()=>D}),(C=W||(W={})).serviceIds=new Map,C.DI_TARGET="$di$target",C.DI_DEPENDENCIES="$di$dependencies",C.getServiceDependencies=function $(f){return f[C.DI_DEPENDENCIES]||[]};const Z=D("instantiationService");function D(C){if(W.serviceIds.has(C))return W.serviceIds.get(C);const $=function(f,B,F){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");!function o(C,$,f){$[W.DI_TARGET]===$?$[W.DI_DEPENDENCIES].push({id:C,index:f}):($[W.DI_DEPENDENCIES]=[{id:C,index:f}],$[W.DI_TARGET]=$)}($,f,F)};return $.toString=()=>C,W.serviceIds.set(C,$),$}},4027:(ft,Oe,I)=>{"use strict";I.d(Oe,{F:()=>o});var W=I(5643),Z=I(7018);const o={JSONContribution:"base.contributions.json"},$=new class C{constructor(){this._onDidChangeSchema=new W.vl,this.schemasById={}}registerSchema(B,F){this.schemasById[function D(f){return f.length>0&&"#"===f.charAt(f.length-1)?f.substring(0,f.length-1):f}(B)]=F,this._onDidChangeSchema.fire(B)}notifySchemaChanged(B){this._onDidChangeSchema.fire(B)}};Z.O.add(o.JSONContribution,$)},2124:(ft,Oe,I)=>{"use strict";I.d(Oe,{rr:()=>rn,$b:()=>qt}),I(5643),I(4061);var o=I(1828),D=I(6653),C=I(5680),$=I(1913);function f(...Je){switch(Je.length){case 1:return(0,$.kg)("contextkey.scanner.hint.didYouMean1","Did you mean {0}?",Je[0]);case 2:return(0,$.kg)("contextkey.scanner.hint.didYouMean2","Did you mean {0} or {1}?",Je[0],Je[1]);case 3:return(0,$.kg)("contextkey.scanner.hint.didYouMean3","Did you mean {0}, {1} or {2}?",Je[0],Je[1],Je[2]);default:return}}const B=(0,$.kg)("contextkey.scanner.hint.didYouForgetToOpenOrCloseQuote","Did you forget to open or close the quote?"),F=(0,$.kg)("contextkey.scanner.hint.didYouForgetToEscapeSlash","Did you forget to escape the '/' (slash) character? Put two backslashes before it to escape, e.g., '\\\\/'.");class ae{constructor(){this._input="",this._start=0,this._current=0,this._tokens=[],this._errors=[],this.stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(x){switch(x.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return x.isTripleEq?"===":"==";case 4:return x.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:case 8:return">=";case 9:return"=~";case 10:case 17:case 18:case 19:return x.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 20:return"EOF";default:throw(0,C.iH)(`unhandled token type: ${JSON.stringify(x)}; have you forgotten to add a case?`)}}static{this._regexFlags=new Set(["i","g","s","m","y","u"].map(x=>x.charCodeAt(0)))}static{this._keywords=new Map([["not",14],["in",13],["false",12],["true",11]])}reset(x){return this._input=x,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){for(;!this._isAtEnd();)switch(this._start=this._current,this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){const ue=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:ue})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){const ue=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:ue})}else this._match(126)?this._addToken(9):this._error(f("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(f("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(f("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(x){return!this._isAtEnd()&&this._input.charCodeAt(this._current)===x&&(this._current++,!0)}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(x){this._tokens.push({type:x,offset:this._start})}_error(x){const ue=this._start,je=this._input.substring(this._start,this._current),Q={type:19,offset:this._start,lexeme:je};this._errors.push({offset:ue,lexeme:je,additionalInfo:x}),this._tokens.push(Q)}_string(){this.stringRe.lastIndex=this._start;const x=this.stringRe.exec(this._input);if(x){this._current=this._start+x[0].length;const ue=this._input.substring(this._start,this._current),je=ae._keywords.get(ue);je?this._addToken(je):this._tokens.push({type:17,lexeme:ue,offset:this._start})}}_quotedString(){for(;39!==this._peek()&&!this._isAtEnd();)this._advance();this._isAtEnd()?this._error(B):(this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1}))}_regex(){let x=this._current,ue=!1,je=!1;for(;;){if(x>=this._input.length)return this._current=x,void this._error(F);const Be=this._input.charCodeAt(x);if(ue)ue=!1;else{if(47===Be&&!je){x++;break}91===Be?je=!0:92===Be?ue=!0:93===Be&&(je=!1)}x++}for(;x<this._input.length&&ae._regexFlags.has(this._input.charCodeAt(x));)x++;this._current=x;const Q=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:Q,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}}var K=I(598);const A=new Map;A.set("false",!1),A.set("true",!0),A.set("isMac",o.zx),A.set("isLinux",o.j9),A.set("isWindows",o.uF),A.set("isWeb",o.HZ),A.set("isMacNative",o.zx&&!o.HZ),A.set("isEdge",o.UP),A.set("isFirefox",o.gm),A.set("isChrome",o.H8),A.set("isSafari",o.nr);const S=Object.prototype.hasOwnProperty,M={regexParsingWithErrorRecovery:!0},E=(0,$.kg)("contextkey.parser.error.emptyString","Empty context key expression"),p=(0,$.kg)("contextkey.parser.error.emptyString.hint","Did you forget to write an expression? You can also put 'false' or 'true' to always evaluate to false or true, respectively."),Ce=(0,$.kg)("contextkey.parser.error.noInAfterNot","'in' after 'not'."),me=(0,$.kg)("contextkey.parser.error.closingParenthesis","closing parenthesis ')'"),_=(0,$.kg)("contextkey.parser.error.unexpectedToken","Unexpected token"),w=(0,$.kg)("contextkey.parser.error.unexpectedToken.hint","Did you forget to put && or || before the token?"),k=(0,$.kg)("contextkey.parser.error.unexpectedEOF","Unexpected end of expression"),U=(0,$.kg)("contextkey.parser.error.unexpectedEOF.hint","Did you forget to put a context key?");class H{static{this._parseError=new Error}constructor(x=M){this._config=x,this._scanner=new ae,this._tokens=[],this._current=0,this._parsingErrors=[],this._flagsGYRe=/g|y/g}parse(x){if(""!==x){this._tokens=this._scanner.reset(x).scan(),this._current=0,this._parsingErrors=[];try{const ue=this._expr();if(!this._isAtEnd()){const je=this._peek(),Q=17===je.type?w:void 0;throw this._parsingErrors.push({message:_,offset:je.offset,lexeme:ae.getLexeme(je),additionalInfo:Q}),H._parseError}return ue}catch(ue){if(ue!==H._parseError)throw ue;return}}else this._parsingErrors.push({message:E,offset:0,lexeme:"",additionalInfo:p})}_expr(){return this._or()}_or(){const x=[this._and()];for(;this._matchOne(16);){const ue=this._and();x.push(ue)}return 1===x.length?x[0]:j.or(...x)}_and(){const x=[this._term()];for(;this._matchOne(15);){const ue=this._term();x.push(ue)}return 1===x.length?x[0]:j.and(...x)}_term(){if(this._matchOne(2)){const x=this._peek();switch(x.type){case 11:return this._advance(),G.INSTANCE;case 12:return this._advance(),T.INSTANCE;case 0:{this._advance();const ue=this._expr();return this._consume(1,me),ue?.negate()}case 17:return this._advance(),ie.create(x.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",x)}}return this._primary()}_primary(){const x=this._peek();switch(x.type){case 11:return this._advance(),j.true();case 12:return this._advance(),j.false();case 0:{this._advance();const ue=this._expr();return this._consume(1,me),ue}case 17:{const ue=x.lexeme;if(this._advance(),this._matchOne(9)){const Q=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),10!==Q.type)throw this._errExpectedButGot("REGEX",Q);const Be=Q.lexeme,Ue=Be.lastIndexOf("/"),st=Ue===Be.length-1?void 0:this._removeFlagsGY(Be.substring(Ue+1));let kt;try{kt=new RegExp(Be.substring(1,Ue),st)}catch{throw this._errExpectedButGot("REGEX",Q)}return ge.create(ue,kt)}switch(Q.type){case 10:case 19:{const Be=[Q.lexeme];this._advance();let Ue=this._peek(),st=0;for(let tn=0;tn<Q.lexeme.length;tn++)40===Q.lexeme.charCodeAt(tn)?st++:41===Q.lexeme.charCodeAt(tn)&&st--;for(;!this._isAtEnd()&&15!==Ue.type&&16!==Ue.type;){switch(Ue.type){case 0:st++;break;case 1:st--;break;case 10:case 18:for(let tn=0;tn<Ue.lexeme.length;tn++)40===Ue.lexeme.charCodeAt(tn)?st++:41===Q.lexeme.charCodeAt(tn)&&st--}if(st<0)break;Be.push(ae.getLexeme(Ue)),this._advance(),Ue=this._peek()}const kt=Be.join(""),n=kt.lastIndexOf("/"),Vt=n===kt.length-1?void 0:this._removeFlagsGY(kt.substring(n+1));let Ht;try{Ht=new RegExp(kt.substring(1,n),Vt)}catch{throw this._errExpectedButGot("REGEX",Q)}return j.regex(ue,Ht)}case 18:{const Be=Q.lexeme;this._advance();let Ue=null;if(!(0,D.AV)(Be)){const st=Be.indexOf("/"),kt=Be.lastIndexOf("/");if(st!==kt&&st>=0){const n=Be.slice(st+1,kt),Vt="i"===Be[kt+1]?"i":"";try{Ue=new RegExp(n,Vt)}catch{throw this._errExpectedButGot("REGEX",Q)}}}if(null===Ue)throw this._errExpectedButGot("REGEX",Q);return ge.create(ue,Ue)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,Ce);const Q=this._value();return j.notIn(ue,Q)}switch(this._peek().type){case 3:{this._advance();const Q=this._value();if(18===this._previous().type)return j.equals(ue,Q);switch(Q){case"true":return j.has(ue);case"false":return j.not(ue);default:return j.equals(ue,Q)}}case 4:{this._advance();const Q=this._value();if(18===this._previous().type)return j.notEquals(ue,Q);switch(Q){case"true":return j.not(ue);case"false":return j.has(ue);default:return j.notEquals(ue,Q)}}case 5:return this._advance(),J.create(ue,this._value());case 6:return this._advance(),le.create(ue,this._value());case 7:return this._advance(),ce.create(ue,this._value());case 8:return this._advance(),P.create(ue,this._value());case 13:return this._advance(),j.in(ue,this._value());default:return j.has(ue)}}case 20:throw this._parsingErrors.push({message:k,offset:x.offset,lexeme:"",additionalInfo:U}),H._parseError;default:throw this._errExpectedButGot("true | false | KEY \n\t| KEY '=~' REGEX \n\t| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value",this._peek())}}_value(){const x=this._peek();switch(x.type){case 17:case 18:return this._advance(),x.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_removeFlagsGY(x){return x.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(x){return!!this._check(x)&&(this._advance(),!0)}_advance(){return this._isAtEnd()||this._current++,this._previous()}_consume(x,ue){if(this._check(x))return this._advance();throw this._errExpectedButGot(ue,this._peek())}_errExpectedButGot(x,ue,je){const Q=(0,$.kg)("contextkey.parser.error.expectedButGot","Expected: {0}\nReceived: '{1}'.",x,ae.getLexeme(ue)),Be=ue.offset,Ue=ae.getLexeme(ue);return this._parsingErrors.push({message:Q,offset:Be,lexeme:Ue,additionalInfo:je}),H._parseError}_check(x){return this._peek().type===x}_peek(){return this._tokens[this._current]}_isAtEnd(){return 20===this._peek().type}}class j{static false(){return G.INSTANCE}static true(){return T.INSTANCE}static has(x){return z.create(x)}static equals(x,ue){return ee.create(x,ue)}static notEquals(x,ue){return ne.create(x,ue)}static regex(x,ue){return ge.create(x,ue)}static in(x,ue){return he.create(x,ue)}static notIn(x,ue){return pe.create(x,ue)}static not(x){return ie.create(x)}static and(...x){return ze.create(x,null,!0)}static or(...x){return We.create(x,null,!0)}static{this._parser=new H({regexParsingWithErrorRecovery:!1})}static deserialize(x){return null==x?void 0:this._parser.parse(x)}}function O(Je,x){return Je.cmp(x)}class G{static{this.INSTANCE=new G}constructor(){this.type=0}cmp(x){return this.type-x.type}equals(x){return x.type===this.type}substituteConstants(){return this}evaluate(x){return!1}serialize(){return"false"}keys(){return[]}negate(){return T.INSTANCE}}class T{static{this.INSTANCE=new T}constructor(){this.type=1}cmp(x){return this.type-x.type}equals(x){return x.type===this.type}substituteConstants(){return this}evaluate(x){return!0}serialize(){return"true"}keys(){return[]}negate(){return G.INSTANCE}}class z{static create(x,ue=null){const je=A.get(x);return"boolean"==typeof je?je?T.INSTANCE:G.INSTANCE:new z(x,ue)}constructor(x,ue){this.key=x,this.negated=ue,this.type=2}cmp(x){return x.type!==this.type?this.type-x.type:mt(this.key,x.key)}equals(x){return x.type===this.type&&this.key===x.key}substituteConstants(){const x=A.get(this.key);return"boolean"==typeof x?x?T.INSTANCE:G.INSTANCE:this}evaluate(x){return!!x.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=ie.create(this.key,this)),this.negated}}class ee{static create(x,ue,je=null){if("boolean"==typeof ue)return ue?z.create(x,je):ie.create(x,je);const Q=A.get(x);return"boolean"==typeof Q?ue===(Q?"true":"false")?T.INSTANCE:G.INSTANCE:new ee(x,ue,je)}constructor(x,ue,je){this.key=x,this.value=ue,this.negated=je,this.type=4}cmp(x){return x.type!==this.type?this.type-x.type:nt(this.key,this.value,x.key,x.value)}equals(x){return x.type===this.type&&this.key===x.key&&this.value===x.value}substituteConstants(){const x=A.get(this.key);return"boolean"==typeof x?this.value===(x?"true":"false")?T.INSTANCE:G.INSTANCE:this}evaluate(x){return x.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=ne.create(this.key,this.value,this)),this.negated}}class he{static create(x,ue){return new he(x,ue)}constructor(x,ue){this.key=x,this.valueKey=ue,this.type=10,this.negated=null}cmp(x){return x.type!==this.type?this.type-x.type:nt(this.key,this.valueKey,x.key,x.valueKey)}equals(x){return x.type===this.type&&this.key===x.key&&this.valueKey===x.valueKey}substituteConstants(){return this}evaluate(x){const ue=x.getValue(this.valueKey),je=x.getValue(this.key);return Array.isArray(ue)?ue.includes(je):"string"==typeof je&&"object"==typeof ue&&null!==ue&&S.call(ue,je)}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=pe.create(this.key,this.valueKey)),this.negated}}class pe{static create(x,ue){return new pe(x,ue)}constructor(x,ue){this.key=x,this.valueKey=ue,this.type=11,this._negated=he.create(x,ue)}cmp(x){return x.type!==this.type?this.type-x.type:this._negated.cmp(x._negated)}equals(x){return x.type===this.type&&this._negated.equals(x._negated)}substituteConstants(){return this}evaluate(x){return!this._negated.evaluate(x)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}class ne{static create(x,ue,je=null){if("boolean"==typeof ue)return ue?ie.create(x,je):z.create(x,je);const Q=A.get(x);return"boolean"==typeof Q?ue===(Q?"true":"false")?G.INSTANCE:T.INSTANCE:new ne(x,ue,je)}constructor(x,ue,je){this.key=x,this.value=ue,this.negated=je,this.type=5}cmp(x){return x.type!==this.type?this.type-x.type:nt(this.key,this.value,x.key,x.value)}equals(x){return x.type===this.type&&this.key===x.key&&this.value===x.value}substituteConstants(){const x=A.get(this.key);return"boolean"==typeof x?this.value===(x?"true":"false")?G.INSTANCE:T.INSTANCE:this}evaluate(x){return x.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=ee.create(this.key,this.value,this)),this.negated}}class ie{static create(x,ue=null){const je=A.get(x);return"boolean"==typeof je?je?G.INSTANCE:T.INSTANCE:new ie(x,ue)}constructor(x,ue){this.key=x,this.negated=ue,this.type=3}cmp(x){return x.type!==this.type?this.type-x.type:mt(this.key,x.key)}equals(x){return x.type===this.type&&this.key===x.key}substituteConstants(){const x=A.get(this.key);return"boolean"==typeof x?x?G.INSTANCE:T.INSTANCE:this}evaluate(x){return!x.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=z.create(this.key,this)),this.negated}}function Ae(Je,x){if("string"==typeof Je){const ue=parseFloat(Je);isNaN(ue)||(Je=ue)}return"string"==typeof Je||"number"==typeof Je?x(Je):G.INSTANCE}class ce{static create(x,ue,je=null){return Ae(ue,Q=>new ce(x,Q,je))}constructor(x,ue,je){this.key=x,this.value=ue,this.negated=je,this.type=12}cmp(x){return x.type!==this.type?this.type-x.type:nt(this.key,this.value,x.key,x.value)}equals(x){return x.type===this.type&&this.key===x.key&&this.value===x.value}substituteConstants(){return this}evaluate(x){return"string"!=typeof this.value&&parseFloat(x.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=le.create(this.key,this.value,this)),this.negated}}class P{static create(x,ue,je=null){return Ae(ue,Q=>new P(x,Q,je))}constructor(x,ue,je){this.key=x,this.value=ue,this.negated=je,this.type=13}cmp(x){return x.type!==this.type?this.type-x.type:nt(this.key,this.value,x.key,x.value)}equals(x){return x.type===this.type&&this.key===x.key&&this.value===x.value}substituteConstants(){return this}evaluate(x){return"string"!=typeof this.value&&parseFloat(x.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=J.create(this.key,this.value,this)),this.negated}}class J{static create(x,ue,je=null){return Ae(ue,Q=>new J(x,Q,je))}constructor(x,ue,je){this.key=x,this.value=ue,this.negated=je,this.type=14}cmp(x){return x.type!==this.type?this.type-x.type:nt(this.key,this.value,x.key,x.value)}equals(x){return x.type===this.type&&this.key===x.key&&this.value===x.value}substituteConstants(){return this}evaluate(x){return"string"!=typeof this.value&&parseFloat(x.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=P.create(this.key,this.value,this)),this.negated}}class le{static create(x,ue,je=null){return Ae(ue,Q=>new le(x,Q,je))}constructor(x,ue,je){this.key=x,this.value=ue,this.negated=je,this.type=15}cmp(x){return x.type!==this.type?this.type-x.type:nt(this.key,this.value,x.key,x.value)}equals(x){return x.type===this.type&&this.key===x.key&&this.value===x.value}substituteConstants(){return this}evaluate(x){return"string"!=typeof this.value&&parseFloat(x.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=ce.create(this.key,this.value,this)),this.negated}}class ge{static create(x,ue){return new ge(x,ue)}constructor(x,ue){this.key=x,this.regexp=ue,this.type=7,this.negated=null}cmp(x){if(x.type!==this.type)return this.type-x.type;if(this.key<x.key)return-1;if(this.key>x.key)return 1;const ue=this.regexp?this.regexp.source:"",je=x.regexp?x.regexp.source:"";return ue<je?-1:ue>je?1:0}equals(x){return x.type===this.type&&(this.key===x.key&&(this.regexp?this.regexp.source:"")===(x.regexp?x.regexp.source:""))}substituteConstants(){return this}evaluate(x){const ue=x.getValue(this.key);return!!this.regexp&&this.regexp.test(ue)}serialize(){return`${this.key} =~ ${this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/"}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=xe.create(this)),this.negated}}class xe{static create(x){return new xe(x)}constructor(x){this._actual=x,this.type=8}cmp(x){return x.type!==this.type?this.type-x.type:this._actual.cmp(x._actual)}equals(x){return x.type===this.type&&this._actual.equals(x._actual)}substituteConstants(){return this}evaluate(x){return!this._actual.evaluate(x)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}negate(){return this._actual}}function De(Je){let x=null;for(let ue=0,je=Je.length;ue<je;ue++){const Q=Je[ue].substituteConstants();if(Je[ue]!==Q&&null===x){x=[];for(let Be=0;Be<ue;Be++)x[Be]=Je[Be]}null!==x&&(x[ue]=Q)}return null===x?Je:x}class ze{static create(x,ue,je){return ze._normalizeArr(x,ue,je)}constructor(x,ue){this.expr=x,this.negated=ue,this.type=6}cmp(x){if(x.type!==this.type)return this.type-x.type;if(this.expr.length<x.expr.length)return-1;if(this.expr.length>x.expr.length)return 1;for(let ue=0,je=this.expr.length;ue<je;ue++){const Q=O(this.expr[ue],x.expr[ue]);if(0!==Q)return Q}return 0}equals(x){if(x.type===this.type){if(this.expr.length!==x.expr.length)return!1;for(let ue=0,je=this.expr.length;ue<je;ue++)if(!this.expr[ue].equals(x.expr[ue]))return!1;return!0}return!1}substituteConstants(){const x=De(this.expr);return x===this.expr?this:ze.create(x,this.negated,!1)}evaluate(x){for(let ue=0,je=this.expr.length;ue<je;ue++)if(!this.expr[ue].evaluate(x))return!1;return!0}static _normalizeArr(x,ue,je){const Q=[];let Be=!1;for(const Ue of x)if(Ue){if(1===Ue.type){Be=!0;continue}if(0===Ue.type)return G.INSTANCE;if(6===Ue.type){Q.push(...Ue.expr);continue}Q.push(Ue)}if(0===Q.length&&Be)return T.INSTANCE;if(0!==Q.length){if(1===Q.length)return Q[0];Q.sort(O);for(let Ue=1;Ue<Q.length;Ue++)Q[Ue-1].equals(Q[Ue])&&(Q.splice(Ue,1),Ue--);if(1===Q.length)return Q[0];for(;Q.length>1;){const Ue=Q[Q.length-1];if(9!==Ue.type)break;Q.pop();const st=Q.pop(),kt=0===Q.length,n=We.create(Ue.expr.map(Vt=>ze.create([Vt,st],null,je)),null,kt);n&&(Q.push(n),Q.sort(O))}if(1===Q.length)return Q[0];if(je){for(let Ue=0;Ue<Q.length;Ue++)for(let st=Ue+1;st<Q.length;st++)if(Q[Ue].negate().equals(Q[st]))return G.INSTANCE;if(1===Q.length)return Q[0]}return new ze(Q,ue)}}serialize(){return this.expr.map(x=>x.serialize()).join(" && ")}keys(){const x=[];for(const ue of this.expr)x.push(...ue.keys());return x}negate(){if(!this.negated){const x=[];for(const ue of this.expr)x.push(ue.negate());this.negated=We.create(x,this,!0)}return this.negated}}class We{static create(x,ue,je){return We._normalizeArr(x,ue,je)}constructor(x,ue){this.expr=x,this.negated=ue,this.type=9}cmp(x){if(x.type!==this.type)return this.type-x.type;if(this.expr.length<x.expr.length)return-1;if(this.expr.length>x.expr.length)return 1;for(let ue=0,je=this.expr.length;ue<je;ue++){const Q=O(this.expr[ue],x.expr[ue]);if(0!==Q)return Q}return 0}equals(x){if(x.type===this.type){if(this.expr.length!==x.expr.length)return!1;for(let ue=0,je=this.expr.length;ue<je;ue++)if(!this.expr[ue].equals(x.expr[ue]))return!1;return!0}return!1}substituteConstants(){const x=De(this.expr);return x===this.expr?this:We.create(x,this.negated,!1)}evaluate(x){for(let ue=0,je=this.expr.length;ue<je;ue++)if(this.expr[ue].evaluate(x))return!0;return!1}static _normalizeArr(x,ue,je){let Q=[],Be=!1;if(x){for(let Ue=0,st=x.length;Ue<st;Ue++){const kt=x[Ue];if(kt){if(0===kt.type){Be=!0;continue}if(1===kt.type)return T.INSTANCE;if(9===kt.type){Q=Q.concat(kt.expr);continue}Q.push(kt)}}if(0===Q.length&&Be)return G.INSTANCE;Q.sort(O)}if(0!==Q.length){if(1===Q.length)return Q[0];for(let Ue=1;Ue<Q.length;Ue++)Q[Ue-1].equals(Q[Ue])&&(Q.splice(Ue,1),Ue--);if(1===Q.length)return Q[0];if(je){for(let Ue=0;Ue<Q.length;Ue++)for(let st=Ue+1;st<Q.length;st++)if(Q[Ue].negate().equals(Q[st]))return T.INSTANCE;if(1===Q.length)return Q[0]}return new We(Q,ue)}}serialize(){return this.expr.map(x=>x.serialize()).join(" || ")}keys(){const x=[];for(const ue of this.expr)x.push(...ue.keys());return x}negate(){if(!this.negated){const x=[];for(const ue of this.expr)x.push(ue.negate());for(;x.length>1;){const ue=x.shift(),je=x.shift(),Q=[];for(const Be of Jt(ue))for(const Ue of Jt(je))Q.push(ze.create([Be,Ue],null,!1));x.unshift(We.create(Q,null,!1))}this.negated=We.create(x,this,!0)}return this.negated}}let ht=(()=>{class Je extends z{static{this._info=[]}static all(){return Je._info.values()}constructor(ue,je,Q){super(ue,null),this._defaultValue=je,"object"==typeof Q?Je._info.push({...Q,key:ue}):!0!==Q&&Je._info.push({key:ue,description:Q,type:null!=je?typeof je:void 0})}bindTo(ue){return ue.createKey(this.key,this._defaultValue)}getValue(ue){return ue.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(ue){return ee.create(this.key,ue)}}return Je})();function mt(Je,x){return Je<x?-1:Je>x?1:0}function nt(Je,x,ue,je){return Je<ue?-1:Je>ue?1:x<je?-1:x>je?1:0}function Jt(Je){return 9===Je.type?Je.expr:[Je]}(0,K.u1)("contextKeyService");const rn=(0,K.u1)("logService");var qt=function(Je){return Je[Je.Off=0]="Off",Je[Je.Trace=1]="Trace",Je[Je.Debug=2]="Debug",Je[Je.Info=3]="Info",Je[Je.Warning=4]="Warning",Je[Je.Error=5]="Error",Je}(qt||{});new ht("logLevel",function _t(Je){switch(Je){case qt.Trace:return"trace";case qt.Debug:return"debug";case qt.Info:return"info";case qt.Warning:return"warn";case qt.Error:return"error";case qt.Off:return"off"}}(qt.Info))},7018:(ft,Oe,I)=>{"use strict";I.d(Oe,{O:()=>D});var W=I(3929),Z=I(6702);const D=new class o{constructor(){this.data=new Map}add($,f){W.ok(Z.Kg($)),W.ok(Z.Gv(f)),W.ok(!this.data.has($),"There is already an extension with this id"),this.data.set($,f)}as($){return this.data.get($)||null}}},5478:(ft,Oe,I)=>{"use strict";I.d(Oe,{buw:()=>Ae,b1q:()=>ie,YtV:()=>qt,Ubg:()=>jn,IIb:()=>Ht,pOz:()=>Vt,whs:()=>Ue,Stt:()=>kt,Hng:()=>st,yLC:()=>Qi,KoI:()=>ar,uMG:()=>lr,x1A:()=>p});var W=I(3929),Z=I(795),o=I(4072),D=I(5643),C=I(4027),$=I(7018),f=I(1913);const E=new class M{constructor(){this._onDidChangeSchema=new D.vl,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor($t,an,kn,ii=!1,Vi){this.colorsById[$t]={id:$t,description:kn,defaults:an,needsTransparency:ii,deprecationMessage:Vi};const br={type:"string",format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return Vi&&(br.deprecationMessage=Vi),ii&&(br.pattern="^#(?:(?<rgba>[0-9a-fA-f]{3}[0-9a-eA-E])|(?:[0-9a-fA-F]{6}(?:(?![fF]{2})(?:[0-9a-fA-F]{2}))))?$",br.patternErrorMessage=f.kg("transparecyRequired","This color must be transparent or it will obscure content")),this.colorSchema.properties[$t]={description:kn,oneOf:[br,{type:"string",const:"default",description:f.kg("useDefault","Use the default color.")}]},this.colorReferenceSchema.enum.push($t),this.colorReferenceSchema.enumDescriptions.push(kn),this._onDidChangeSchema.fire(),$t}getColors(){return Object.keys(this.colorsById).map($t=>this.colorsById[$t])}resolveDefaultColor($t,an){const kn=this.colorsById[$t];if(kn?.defaults)return j(function K(Ot){return null!==Ot&&"object"==typeof Ot&&"light"in Ot&&"dark"in Ot}(kn.defaults)?kn.defaults[an.type]:kn.defaults,an)}getColorSchema(){return this.colorSchema}toString(){return Object.keys(this.colorsById).sort((an,kn)=>{const ii=-1===an.indexOf(".")?0:1,Vi=-1===kn.indexOf(".")?0:1;return ii!==Vi?ii-Vi:an.localeCompare(kn)}).map(an=>`- \`${an}\`: ${this.colorsById[an].description}`).join("\n")}};function p(Ot,$t,an,kn,ii){return E.registerColor(Ot,$t,an,kn,ii)}function me(Ot,$t){return{op:0,value:Ot,factor:$t}}function _(Ot,$t){return{op:1,value:Ot,factor:$t}}function w(Ot,$t){return{op:2,value:Ot,factor:$t}}function k(...Ot){return{op:4,values:Ot}}function H(Ot,$t,an,kn){return{op:5,value:Ot,background:$t,factor:an,transparency:kn}}function j(Ot,$t){if(null!==Ot){if("string"==typeof Ot)return"#"===Ot[0]?o.Q1.fromHex(Ot):$t.getColor(Ot);if(Ot instanceof o.Q1)return Ot;if("object"==typeof Ot)return function Ce(Ot,$t){switch(Ot.op){case 0:return j(Ot.value,$t)?.darken(Ot.factor);case 1:return j(Ot.value,$t)?.lighten(Ot.factor);case 2:return j(Ot.value,$t)?.transparent(Ot.factor);case 3:{const an=j(Ot.background,$t);return an?j(Ot.value,$t)?.makeOpaque(an):j(Ot.value,$t)}case 4:for(const an of Ot.values){const kn=j(an,$t);if(kn)return kn}return;case 6:return j($t.defines(Ot.if)?Ot.then:Ot.else,$t);case 5:{const an=j(Ot.value,$t);if(!an)return;const kn=j(Ot.background,$t);return kn?an.isDarkerThan(kn)?o.Q1.getLighterColor(an,kn,Ot.factor).transparent(Ot.transparency):o.Q1.getDarkerColor(an,kn,Ot.factor).transparent(Ot.transparency):an.transparent(Ot.factor*Ot.transparency)}default:throw(0,W.xb)(Ot)}}(Ot,$t)}}$.O.add("base.contributions.colors",E);const y="vscode://schemas/workbench-colors",O=$.O.as(C.F.JSONContribution);O.registerSchema(y,E.getColorSchema());const G=new Z.uC(()=>O.notifySchemaChanged(y),200);E.onDidChangeSchema(()=>{G.isScheduled()||G.schedule()});const T=p("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},f.kg("foreground","Overall foreground color. This color is only used if not overridden by a component.")),pe=(p("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},f.kg("disabledForeground","Overall foreground for disabled elements. This color is only used if not overridden by a component.")),p("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},f.kg("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),p("descriptionForeground",{light:"#717171",dark:w(T,.7),hcDark:w(T,.7),hcLight:w(T,.7)},f.kg("descriptionForeground","Foreground color for description text providing additional information, for example for a label.")),p("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},f.kg("iconForeground","The default color for icons in the workbench."))),ne=p("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},f.kg("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),ie=p("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},f.kg("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),Ae=p("contrastActiveBorder",{light:null,dark:null,hcDark:ne,hcLight:ne},f.kg("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),et=(p("selection.background",null,f.kg("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.")),p("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},f.kg("textLinkForeground","Foreground color for links in text.")),p("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},f.kg("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),p("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:o.Q1.black,hcLight:"#292929"},f.kg("textSeparatorForeground","Color for text separators.")),p("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#000000",hcLight:"#FFFFFF"},f.kg("textPreformatForeground","Foreground color for preformatted text segments.")),p("textPreformat.background",{light:"#0000001A",dark:"#FFFFFF1A",hcDark:"#FFFFFF",hcLight:"#09345f"},f.kg("textPreformatBackground","Background color for preformatted text segments.")),p("textBlockQuote.background",{light:"#f2f2f2",dark:"#222222",hcDark:null,hcLight:"#F2F2F2"},f.kg("textBlockQuoteBackground","Background color for block quotes in text.")),p("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:o.Q1.white,hcLight:"#292929"},f.kg("textBlockQuoteBorder","Border color for block quotes in text.")),p("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:o.Q1.black,hcLight:"#F2F2F2"},f.kg("textCodeBlockBackground","Background color for code blocks in text.")),p("sash.hoverBorder",ne,f.kg("sashActiveBorder","Border color of active sashes.")),p("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:o.Q1.black,hcLight:"#0F4A85"},f.kg("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count."))),nt=(p("badge.foreground",{dark:o.Q1.white,light:"#333",hcDark:o.Q1.white,hcLight:o.Q1.white},f.kg("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),p("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},f.kg("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled."))),ot=p("scrollbarSlider.background",{dark:o.Q1.fromHex("#797979").transparent(.4),light:o.Q1.fromHex("#646464").transparent(.4),hcDark:w(ie,.6),hcLight:w(ie,.4)},f.kg("scrollbarSliderBackground","Scrollbar slider background color.")),St=p("scrollbarSlider.hoverBackground",{dark:o.Q1.fromHex("#646464").transparent(.7),light:o.Q1.fromHex("#646464").transparent(.7),hcDark:w(ie,.8),hcLight:w(ie,.8)},f.kg("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),Jt=p("scrollbarSlider.activeBackground",{dark:o.Q1.fromHex("#BFBFBF").transparent(.4),light:o.Q1.fromHex("#000000").transparent(.6),hcDark:ie,hcLight:ie},f.kg("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),qt=(p("progressBar.background",{dark:o.Q1.fromHex("#0E70C0"),light:o.Q1.fromHex("#0E70C0"),hcDark:ie,hcLight:ie},f.kg("progressBarBackground","Background color of the progress bar that can show for long running operations.")),p("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:o.Q1.black,hcLight:o.Q1.white},f.kg("editorBackground","Editor background color."))),rt=(p("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:o.Q1.white,hcLight:T},f.kg("editorForeground","Editor default foreground color.")),p("editorStickyScroll.background",qt,f.kg("editorStickyScrollBackground","Background color of sticky scroll in the editor")),p("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:o.Q1.fromHex("#0F4A85").transparent(.1)},f.kg("editorStickyScrollHoverBackground","Background color of sticky scroll on hover in the editor")),p("editorStickyScroll.border",{dark:null,light:null,hcDark:ie,hcLight:ie},f.kg("editorStickyScrollBorder","Border color of sticky scroll in the editor")),p("editorStickyScroll.shadow",nt,f.kg("editorStickyScrollShadow"," Shadow color of sticky scroll in the editor")),p("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:o.Q1.white},f.kg("editorWidgetBackground","Background color of editor widgets, such as find/replace."))),Je=p("editorWidget.foreground",T,f.kg("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),x=p("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:ie,hcLight:ie},f.kg("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),Q=(p("editorWidget.resizeBorder",null,f.kg("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),p("editorError.background",null,f.kg("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),p("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},f.kg("editorError.foreground","Foreground color of error squigglies in the editor."))),Ue=(p("editorError.border",{dark:null,light:null,hcDark:o.Q1.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},f.kg("errorBorder","If set, color of double underlines for errors in the editor.")),p("editorWarning.background",null,f.kg("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0)),st=p("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"},f.kg("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),kt=p("editorWarning.border",{dark:null,light:null,hcDark:o.Q1.fromHex("#FFCC00").transparent(.8),hcLight:o.Q1.fromHex("#FFCC00").transparent(.8)},f.kg("warningBorder","If set, color of double underlines for warnings in the editor.")),Vt=(p("editorInfo.background",null,f.kg("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),p("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},f.kg("editorInfo.foreground","Foreground color of info squigglies in the editor."))),Ht=p("editorInfo.border",{dark:null,light:null,hcDark:o.Q1.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},f.kg("infoBorder","If set, color of double underlines for infos in the editor.")),Xt=(p("editorHint.foreground",{dark:o.Q1.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},f.kg("editorHint.foreground","Foreground color of hint squigglies in the editor.")),p("editorHint.border",{dark:null,light:null,hcDark:o.Q1.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},f.kg("hintBorder","If set, color of double underlines for hints in the editor.")),p("editorLink.activeForeground",{dark:"#4E94CE",light:o.Q1.blue,hcDark:o.Q1.cyan,hcLight:"#292929"},f.kg("activeLinkForeground","Color of active links.")),p("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},f.kg("editorSelectionBackground","Color of the editor selection."))),jn=(p("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:o.Q1.white},f.kg("editorSelectionForeground","Color of the selected text for high contrast.")),p("editor.inactiveSelectionBackground",{light:w(Xt,.5),dark:w(Xt,.5),hcDark:w(Xt,.7),hcLight:w(Xt,.5)},f.kg("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),p("editor.selectionHighlightBackground",{light:H(Xt,qt,.3,.6),dark:H(Xt,qt,.3,.6),hcDark:null,hcLight:null},f.kg("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),p("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:Ae,hcLight:Ae},f.kg("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),p("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},f.kg("editorFindMatch","Color of the current search match.")),p("editor.findMatchForeground",null,f.kg("editorFindMatchForeground","Text color of the current search match.")),p("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},f.kg("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0)),Hn=(p("editor.findMatchHighlightForeground",null,f.kg("findMatchHighlightForeground","Foreground color of the other search matches."),!0),p("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},f.kg("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),p("editor.findMatchBorder",{light:null,dark:null,hcDark:Ae,hcLight:Ae},f.kg("editorFindMatchBorder","Border color of the current search match.")),p("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:Ae,hcLight:Ae},f.kg("findMatchHighlightBorder","Border color of the other search matches."))),Mn=(p("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:w(Ae,.4),hcLight:w(Ae,.4)},f.kg("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),p("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},f.kg("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),p("editorHoverWidget.background",rt,f.kg("hoverBackground","Background color of the editor hover."))),Wi=(p("editorHoverWidget.foreground",Je,f.kg("hoverForeground","Foreground color of the editor hover.")),p("editorHoverWidget.border",x,f.kg("hoverBorder","Border color of the editor hover.")),p("editorHoverWidget.statusBarBackground",{dark:_(Mn,.2),light:me(Mn,.05),hcDark:rt,hcLight:rt},f.kg("statusBarBackground","Background color of the editor hover status bar.")),p("editorInlayHint.foreground",{dark:"#969696",light:"#969696",hcDark:o.Q1.white,hcLight:o.Q1.black},f.kg("editorInlayHintForeground","Foreground color of inline hints"))),gn=p("editorInlayHint.background",{dark:w(et,.1),light:w(et,.1),hcDark:w(o.Q1.white,.1),hcLight:w(et,.1)},f.kg("editorInlayHintBackground","Background color of inline hints")),Ie=(p("editorInlayHint.typeForeground",Wi,f.kg("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),p("editorInlayHint.typeBackground",gn,f.kg("editorInlayHintBackgroundTypes","Background color of inline hints for types")),p("editorInlayHint.parameterForeground",Wi,f.kg("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),p("editorInlayHint.parameterBackground",gn,f.kg("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),p("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},f.kg("editorLightBulbForeground","The color used for the lightbulb actions icon."))),Zt=(p("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},f.kg("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),p("editorLightBulbAi.foreground",Ie,f.kg("editorLightBulbAiForeground","The color used for the lightbulb AI icon.")),p("editor.snippetTabstopHighlightBackground",{dark:new o.Q1(new o.bU(124,124,124,.3)),light:new o.Q1(new o.bU(10,50,100,.2)),hcDark:new o.Q1(new o.bU(124,124,124,.3)),hcLight:new o.Q1(new o.bU(10,50,100,.2))},f.kg("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),p("editor.snippetTabstopHighlightBorder",null,f.kg("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),p("editor.snippetFinalTabstopHighlightBackground",null,f.kg("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),p("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new o.Q1(new o.bU(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},f.kg("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),new o.Q1(new o.bU(155,185,85,.2))),$n=new o.Q1(new o.bU(255,0,0,.2)),Y=(p("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},f.kg("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),p("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},f.kg("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),p("diffEditor.insertedLineBackground",{dark:Zt,light:Zt,hcDark:null,hcLight:null},f.kg("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),p("diffEditor.removedLineBackground",{dark:$n,light:$n,hcDark:null,hcLight:null},f.kg("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),p("diffEditorGutter.insertedLineBackground",null,f.kg("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted.")),p("diffEditorGutter.removedLineBackground",null,f.kg("diffEditorRemovedLineGutter","Background color for the margin where lines got removed.")),p("diffEditorOverview.insertedForeground",null,f.kg("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content.")),p("diffEditorOverview.removedForeground",null,f.kg("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content.")),p("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},f.kg("diffEditorInsertedOutline","Outline color for the text that got inserted.")),p("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},f.kg("diffEditorRemovedOutline","Outline color for text that got removed.")),p("diffEditor.border",{dark:null,light:null,hcDark:ie,hcLight:ie},f.kg("diffEditorBorder","Border color between the two text editors.")),p("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},f.kg("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),p("diffEditor.unchangedRegionBackground","sideBar.background",f.kg("diffEditor.unchangedRegionBackground","The background color of unchanged blocks in the diff editor.")),p("diffEditor.unchangedRegionForeground","foreground",f.kg("diffEditor.unchangedRegionForeground","The foreground color of unchanged blocks in the diff editor.")),p("diffEditor.unchangedCodeBackground",{dark:"#74747429",light:"#b8b8b829",hcDark:null,hcLight:null},f.kg("diffEditor.unchangedCodeBackground","The background color of unchanged code in the diff editor.")),p("widget.shadow",{dark:w(o.Q1.black,.36),light:w(o.Q1.black,.16),hcDark:null,hcLight:null},f.kg("widgetShadow","Shadow color of widgets such as find/replace inside the editor."))),ve=(p("widget.border",{dark:null,light:null,hcDark:ie,hcLight:ie},f.kg("widgetBorder","Border color of widgets such as find/replace inside the editor.")),p("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},f.kg("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse"))),gt=(p("toolbar.hoverOutline",{dark:null,light:null,hcDark:Ae,hcLight:Ae},f.kg("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse")),p("toolbar.activeBackground",{dark:_(ve,.1),light:me(ve,.1),hcDark:null,hcLight:null},f.kg("toolbarActiveBackground","Toolbar background when holding the mouse over actions")),p("breadcrumb.foreground",w(T,.8),f.kg("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),p("breadcrumb.background",qt,f.kg("breadcrumbsBackground","Background color of breadcrumb items.")),p("breadcrumb.focusForeground",{light:me(T,.2),dark:_(T,.1),hcDark:_(T,.1),hcLight:_(T,.1)},f.kg("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),p("breadcrumb.activeSelectionForeground",{light:me(T,.2),dark:_(T,.1),hcDark:_(T,.1),hcLight:_(T,.1)},f.kg("breadcrumbsSelectedForeground","Color of selected breadcrumb items.")),p("breadcrumbPicker.background",rt,f.kg("breadcrumbsSelectedBackground","Background color of breadcrumb item picker.")),o.Q1.fromHex("#40C8AE").transparent(.5)),Pe=o.Q1.fromHex("#40A6FF").transparent(.5),Tt=o.Q1.fromHex("#606060").transparent(.4),Dt=p("merge.currentHeaderBackground",{dark:gt,light:gt,hcDark:null,hcLight:null},f.kg("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Wt=(p("merge.currentContentBackground",w(Dt,.4),f.kg("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),p("merge.incomingHeaderBackground",{dark:Pe,light:Pe,hcDark:null,hcLight:null},f.kg("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0)),Bt=(p("merge.incomingContentBackground",w(Wt,.4),f.kg("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),p("merge.commonHeaderBackground",{dark:Tt,light:Tt,hcDark:null,hcLight:null},f.kg("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0)),wn=(p("merge.commonContentBackground",w(Bt,.4),f.kg("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),p("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},f.kg("mergeBorder","Border color on headers and the splitter in inline merge-conflicts."))),oi=(p("editorOverviewRuler.currentContentForeground",{dark:w(Dt,1),light:w(Dt,1),hcDark:wn,hcLight:wn},f.kg("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts.")),p("editorOverviewRuler.incomingContentForeground",{dark:w(Wt,1),light:w(Wt,1),hcDark:wn,hcLight:wn},f.kg("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts.")),p("editorOverviewRuler.commonContentForeground",{dark:w(Bt,1),light:w(Bt,1),hcDark:wn,hcLight:wn},f.kg("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts.")),p("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:"#AB5A00"},f.kg("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),p("editorOverviewRuler.selectionHighlightForeground","#A0A0A0CC",f.kg("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),p("problemsErrorIcon.foreground",Q,f.kg("problemsErrorIconForeground","The color used for the problems error icon.")),p("problemsWarningIcon.foreground",st,f.kg("problemsWarningIconForeground","The color used for the problems warning icon.")),p("problemsInfoIcon.foreground",Vt,f.kg("problemsInfoIconForeground","The color used for the problems info icon.")),p("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},f.kg("minimapFindMatchHighlight","Minimap marker color for find matches."),!0)),ar=(p("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},f.kg("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),p("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},f.kg("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),p("minimap.infoHighlight",{dark:Vt,light:Vt,hcDark:Ht,hcLight:Ht},f.kg("minimapInfo","Minimap marker color for infos."))),lr=p("minimap.warningHighlight",{dark:st,light:st,hcDark:kt,hcLight:kt},f.kg("overviewRuleWarning","Minimap marker color for warnings.")),Qi=p("minimap.errorHighlight",{dark:new o.Q1(new o.bU(255,18,18,.7)),light:new o.Q1(new o.bU(255,18,18,.7)),hcDark:new o.Q1(new o.bU(255,50,50,1)),hcLight:"#B5200D"},f.kg("minimapError","Minimap marker color for errors.")),Yi=(p("minimap.background",null,f.kg("minimapBackground","Minimap background color.")),p("minimap.foregroundOpacity",o.Q1.fromHex("#000f"),f.kg("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),p("minimapSlider.background",w(ot,.5),f.kg("minimapSliderBackground","Minimap slider background color.")),p("minimapSlider.hoverBackground",w(St,.5),f.kg("minimapSliderHoverBackground","Minimap slider background color when hovering.")),p("minimapSlider.activeBackground",w(Jt,.5),f.kg("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),p("charts.foreground",T,f.kg("chartsForeground","The foreground color used in charts.")),p("charts.lines",w(T,.5),f.kg("chartsLines","The color used for horizontal lines in charts.")),p("charts.red",Q,f.kg("chartsRed","The red color used in chart visualizations.")),p("charts.blue",Vt,f.kg("chartsBlue","The blue color used in chart visualizations.")),p("charts.yellow",st,f.kg("chartsYellow","The yellow color used in chart visualizations.")),p("charts.orange",oi,f.kg("chartsOrange","The orange color used in chart visualizations.")),p("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},f.kg("chartsGreen","The green color used in chart visualizations.")),p("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},f.kg("chartsPurple","The purple color used in chart visualizations.")),p("input.background",{dark:"#3C3C3C",light:o.Q1.white,hcDark:o.Q1.black,hcLight:o.Q1.white},f.kg("inputBoxBackground","Input box background.")),p("input.foreground",T,f.kg("inputBoxForeground","Input box foreground.")),p("input.border",{dark:null,light:null,hcDark:ie,hcLight:ie},f.kg("inputBoxBorder","Input box border.")),p("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:ie,hcLight:ie},f.kg("inputBoxActiveOptionBorder","Border color of activated options in input fields."))),ki=p("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},f.kg("inputOption.hoverBackground","Background color of activated options in input fields.")),Zi=p("inputOption.activeBackground",{dark:w(ne,.4),light:w(ne,.2),hcDark:o.Q1.transparent,hcLight:o.Q1.transparent},f.kg("inputOption.activeBackground","Background hover color of options in input fields.")),In=p("inputOption.activeForeground",{dark:o.Q1.white,light:o.Q1.black,hcDark:T,hcLight:T},f.kg("inputOption.activeForeground","Foreground color of activated options in input fields.")),zi=(p("input.placeholderForeground",{light:w(T,.5),dark:w(T,.5),hcDark:w(T,.7),hcLight:w(T,.7)},f.kg("inputPlaceholderForeground","Input box foreground color for placeholder text.")),p("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:o.Q1.black,hcLight:o.Q1.white},f.kg("inputValidationInfoBackground","Input validation background color for information severity.")),p("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:T},f.kg("inputValidationInfoForeground","Input validation foreground color for information severity.")),p("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:ie,hcLight:ie},f.kg("inputValidationInfoBorder","Input validation border color for information severity.")),p("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:o.Q1.black,hcLight:o.Q1.white},f.kg("inputValidationWarningBackground","Input validation background color for warning severity.")),p("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:T},f.kg("inputValidationWarningForeground","Input validation foreground color for warning severity.")),p("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:ie,hcLight:ie},f.kg("inputValidationWarningBorder","Input validation border color for warning severity.")),p("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:o.Q1.black,hcLight:o.Q1.white},f.kg("inputValidationErrorBackground","Input validation background color for error severity.")),p("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:T},f.kg("inputValidationErrorForeground","Input validation foreground color for error severity.")),p("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:ie,hcLight:ie},f.kg("inputValidationErrorBorder","Input validation border color for error severity.")),p("dropdown.background",{dark:"#3C3C3C",light:o.Q1.white,hcDark:o.Q1.black,hcLight:o.Q1.white},f.kg("dropdownBackground","Dropdown background."))),dr=(p("dropdown.listBackground",{dark:null,light:null,hcDark:o.Q1.black,hcLight:o.Q1.white},f.kg("dropdownListBackground","Dropdown list background.")),p("dropdown.foreground",{dark:"#F0F0F0",light:T,hcDark:o.Q1.white,hcLight:T},f.kg("dropdownForeground","Dropdown foreground."))),fr=p("dropdown.border",{dark:zi,light:"#CECECE",hcDark:ie,hcLight:ie},f.kg("dropdownBorder","Dropdown border.")),Mi=p("button.foreground",o.Q1.white,f.kg("buttonForeground","Button foreground color.")),Bi=(p("button.separator",w(Mi,.4),f.kg("buttonSeparator","Button separator color.")),p("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},f.kg("buttonBackground","Button background color."))),ei=(p("button.hoverBackground",{dark:_(Bi,.2),light:me(Bi,.2),hcDark:Bi,hcLight:Bi},f.kg("buttonHoverBackground","Button background color when hovering.")),p("button.border",ie,f.kg("buttonBorder","Button border color.")),p("button.secondaryForeground",{dark:o.Q1.white,light:o.Q1.white,hcDark:o.Q1.white,hcLight:T},f.kg("buttonSecondaryForeground","Secondary button foreground color.")),p("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:o.Q1.white},f.kg("buttonSecondaryBackground","Secondary button background color."))),ji=(p("button.secondaryHoverBackground",{dark:_(ei,.2),light:me(ei,.2),hcDark:null,hcLight:null},f.kg("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),p("radio.activeForeground",In,f.kg("radioActiveForeground","Foreground color of active radio option."))),Si=(p("radio.activeBackground",Zi,f.kg("radioBackground","Background color of active radio option.")),p("radio.activeBorder",Yi,f.kg("radioActiveBorder","Border color of the active radio option.")),p("radio.inactiveForeground",null,f.kg("radioInactiveForeground","Foreground color of inactive radio option.")),p("radio.inactiveBackground",null,f.kg("radioInactiveBackground","Background color of inactive radio option.")),p("radio.inactiveBorder",{light:w(ji,.2),dark:w(ji,.2),hcDark:w(ji,.4),hcLight:w(ji,.2)},f.kg("radioInactiveBorder","Border color of the inactive radio option.")),p("radio.inactiveHoverBackground",ki,f.kg("radioHoverBackground","Background color of inactive active radio option when hovering.")),p("checkbox.background",zi,f.kg("checkbox.background","Background color of checkbox widget.")),p("checkbox.selectBackground",rt,f.kg("checkbox.select.background","Background color of checkbox widget when the element it's in is selected.")),p("checkbox.foreground",dr,f.kg("checkbox.foreground","Foreground color of checkbox widget.")),p("checkbox.border",fr,f.kg("checkbox.border","Border color of checkbox widget.")),p("checkbox.selectBorder",pe,f.kg("checkbox.select.border","Border color of checkbox widget when the element it's in is selected.")),p("keybindingLabel.background",{dark:new o.Q1(new o.bU(128,128,128,.17)),light:new o.Q1(new o.bU(221,221,221,.4)),hcDark:o.Q1.transparent,hcLight:o.Q1.transparent},f.kg("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),p("keybindingLabel.foreground",{dark:o.Q1.fromHex("#CCCCCC"),light:o.Q1.fromHex("#555555"),hcDark:o.Q1.white,hcLight:T},f.kg("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),p("keybindingLabel.border",{dark:new o.Q1(new o.bU(51,51,51,.6)),light:new o.Q1(new o.bU(204,204,204,.4)),hcDark:new o.Q1(new o.bU(111,195,223)),hcLight:ie},f.kg("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),p("keybindingLabel.bottomBorder",{dark:new o.Q1(new o.bU(68,68,68,.6)),light:new o.Q1(new o.bU(187,187,187,.4)),hcDark:new o.Q1(new o.bU(111,195,223)),hcLight:T},f.kg("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),p("list.focusBackground",null,f.kg("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),p("list.focusForeground",null,f.kg("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),p("list.focusOutline",{dark:ne,light:ne,hcDark:Ae,hcLight:Ae},f.kg("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),p("list.focusAndSelectionOutline",null,f.kg("listFocusAndSelectionOutline","List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),p("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:o.Q1.fromHex("#0F4A85").transparent(.1)},f.kg("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not."))),Oi=p("list.activeSelectionForeground",{dark:o.Q1.white,light:o.Q1.white,hcDark:null,hcLight:null},f.kg("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Pi=p("list.activeSelectionIconForeground",null,f.kg("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),L=(p("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:o.Q1.fromHex("#0F4A85").transparent(.1)},f.kg("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),p("list.inactiveSelectionForeground",null,f.kg("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),p("list.inactiveSelectionIconForeground",null,f.kg("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),p("list.inactiveFocusBackground",null,f.kg("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),p("list.inactiveFocusOutline",null,f.kg("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),p("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:o.Q1.white.transparent(.1),hcLight:o.Q1.fromHex("#0F4A85").transparent(.1)},f.kg("listHoverBackground","List/Tree background when hovering over items using the mouse.")),p("list.hoverForeground",null,f.kg("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),p("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},f.kg("listDropBackground","List/Tree drag and drop background when moving items over other items when using the mouse.")),p("list.dropBetweenBackground",{dark:pe,light:pe,hcDark:null,hcLight:null},f.kg("listDropBetweenBackground","List/Tree drag and drop border color when moving items between items when using the mouse.")),p("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:ne,hcLight:ne},f.kg("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree."))),ut=(p("list.focusHighlightForeground",{dark:L,light:function U(Ot,$t,an){return{op:6,if:Ot,then:$t,else:an}}(Si,L,"#BBE7FF"),hcDark:L,hcLight:L},f.kg("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),p("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},f.kg("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer.")),p("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},f.kg("listErrorForeground","Foreground color of list items containing errors.")),p("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},f.kg("listWarningForeground","Foreground color of list items containing warnings.")),p("listFilterWidget.background",{light:me(rt,0),dark:_(rt,0),hcDark:rt,hcLight:rt},f.kg("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),p("listFilterWidget.outline",{dark:o.Q1.transparent,light:o.Q1.transparent,hcDark:"#f38518",hcLight:"#007ACC"},f.kg("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),p("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:ie,hcLight:ie},f.kg("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),p("listFilterWidget.shadow",Y,f.kg("listFilterWidgetShadow","Shadow color of the type filter widget in lists and trees.")),p("list.filterMatchBackground",{dark:jn,light:jn,hcDark:null,hcLight:null},f.kg("listFilterMatchHighlight","Background color of the filtered match.")),p("list.filterMatchBorder",{dark:Hn,light:Hn,hcDark:ie,hcLight:Ae},f.kg("listFilterMatchHighlightBorder","Border color of the filtered match.")),p("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},f.kg("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized.")),p("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},f.kg("treeIndentGuidesStroke","Tree stroke color for the indentation guides."))),di=(p("tree.inactiveIndentGuidesStroke",w(ut,.4),f.kg("treeInactiveIndentGuidesStroke","Tree stroke color for the indentation guides that are not active.")),p("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},f.kg("tableColumnsBorder","Table border color between columns.")),p("tree.tableOddRowsBackground",{dark:w(T,.04),light:w(T,.04),hcDark:null,hcLight:null},f.kg("tableOddRowsBackgroundColor","Background color for odd table rows.")),p("editorActionList.background",rt,f.kg("editorActionListBackground","Action List background color.")),p("editorActionList.foreground",Je,f.kg("editorActionListForeground","Action List foreground color.")),p("editorActionList.focusForeground",Oi,f.kg("editorActionListFocusForeground","Action List foreground color for the focused item.")),p("editorActionList.focusBackground",Si,f.kg("editorActionListFocusBackground","Action List background color for the focused item.")),p("menu.border",{dark:null,light:null,hcDark:ie,hcLight:ie},f.kg("menuBorder","Border color of menus.")),p("menu.foreground",dr,f.kg("menuForeground","Foreground color of menu items.")),p("menu.background",zi,f.kg("menuBackground","Background color of menu items.")),p("menu.selectionForeground",Oi,f.kg("menuSelectionForeground","Foreground color of the selected menu item in menus.")),p("menu.selectionBackground",Si,f.kg("menuSelectionBackground","Background color of the selected menu item in menus.")),p("menu.selectionBorder",{dark:null,light:null,hcDark:Ae,hcLight:Ae},f.kg("menuSelectionBorder","Border color of the selected menu item in menus.")),p("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:ie,hcLight:ie},f.kg("menuSeparatorBackground","Color of a separator menu item in menus.")),p("quickInput.background",rt,f.kg("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),p("quickInput.foreground",Je,f.kg("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),p("quickInputTitle.background",{dark:new o.Q1(new o.bU(255,255,255,.105)),light:new o.Q1(new o.bU(0,0,0,.06)),hcDark:"#000000",hcLight:o.Q1.white},f.kg("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),p("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:o.Q1.white,hcLight:"#0F4A85"},f.kg("pickerGroupForeground","Quick picker color for grouping labels.")),p("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:o.Q1.white,hcLight:"#0F4A85"},f.kg("pickerGroupBorder","Quick picker color for grouping borders.")),p("quickInput.list.focusBackground",null,"",void 0,f.kg("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")));p("quickInputList.focusForeground",Oi,f.kg("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),p("quickInputList.focusIconForeground",Pi,f.kg("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),p("quickInputList.focusBackground",{dark:k(di,Si),light:k(di,Si),hcDark:null,hcLight:null},f.kg("quickInput.listFocusBackground","Quick picker background color for the focused item.")),p("search.resultsInfoForeground",{light:T,dark:w(T,.65),hcDark:T,hcLight:T},f.kg("search.resultsInfoForeground","Color of the text in the search viewlet's completion message.")),p("searchEditor.findMatchBackground",{light:w(jn,.66),dark:w(jn,.66),hcDark:jn,hcLight:jn},f.kg("searchEditor.queryMatch","Color of the Search Editor query matches.")),p("searchEditor.findMatchBorder",{light:w(Hn,.66),dark:w(Hn,.66),hcDark:Hn,hcLight:Hn},f.kg("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches."))},7464:(ft,Oe,I)=>{"use strict";I.d(Oe,{Gy:()=>B,zy:()=>M,Yf:()=>F});var W=I(5643),Z=I(4061),o=I(598),D=I(7018);const B=(0,o.u1)("themeService");function F(p){return{id:p}}const S=new class A{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new W.vl}onColorThemeChange(Ce){return this.themingParticipants.push(Ce),this.onThemingParticipantAddedEmitter.fire(Ce),(0,Z.s)(()=>{const me=this.themingParticipants.indexOf(Ce);this.themingParticipants.splice(me,1)})}getThemingParticipants(){return this.themingParticipants}};function M(p){return S.onColorThemeChange(p)}D.O.add("base.contributions.theming",S)},5890:(ft,Oe,I)=>{var W={"./simpleWorker":5252,"./simpleWorker.js":5252,"node_modules/monaco-editor/esm/vs/base/common/worker/simpleWorker":5252,"node_modules/monaco-editor/esm/vs/base/common/worker/simpleWorker.js":5252};function Z(o){return Promise.resolve().then(()=>{if(!I.o(W,o)){var D=new Error("Cannot find module '"+o+"'");throw D.code="MODULE_NOT_FOUND",D}return I(W[o])})}Z.keys=()=>Object.keys(W),Z.id=5890,ft.exports=Z},9204:(ft,Oe,I)=>{var W={"./editorBaseApi":[5521],"./editorBaseApi.js":[5521],"./editorSimpleWorker":[2195],"./editorSimpleWorker.js":[2195],"./editorWorker":[4225,792],"./editorWorker.js":[4225,792],"./editorWorkerHost":[2607],"./editorWorkerHost.js":[2607],"./findSectionHeaders":[2906],"./findSectionHeaders.js":[2906],"./getIconClasses":[3700,792],"./getIconClasses.js":[3700,792],"./languageFeatureDebounce":[8525,792],"./languageFeatureDebounce.js":[8525,792],"./languageFeatures":[5307,792],"./languageFeatures.js":[5307,792],"./languageFeaturesService":[2579,792],"./languageFeaturesService.js":[2579,792],"./languageService":[518,792],"./languageService.js":[518,792],"./languagesAssociations":[7059,792],"./languagesAssociations.js":[7059,792],"./languagesRegistry":[3908,792],"./languagesRegistry.js":[3908,792],"./markerDecorations":[9313,792],"./markerDecorations.js":[9313,792],"./markerDecorationsService":[5901,792],"./markerDecorationsService.js":[5901,792],"./model":[1925,792],"./model.js":[1925,792],"./modelService":[9557,792],"./modelService.js":[9557,792],"./resolverService":[5425,792],"./resolverService.js":[5425,792],"./semanticTokensDto":[4567,792],"./semanticTokensDto.js":[4567,792],"./semanticTokensProviderStyling":[7088,792],"./semanticTokensProviderStyling.js":[7088,792],"./semanticTokensStyling":[5424,792],"./semanticTokensStyling.js":[5424,792],"./semanticTokensStylingService":[281,792],"./semanticTokensStylingService.js":[281,792],"./textModelSync/textModelSync.impl":[3296],"./textModelSync/textModelSync.impl.js":[3296],"./textModelSync/textModelSync.protocol":[2045,792],"./textModelSync/textModelSync.protocol.js":[2045,792],"./textResourceConfiguration":[1355,792],"./textResourceConfiguration.js":[1355,792],"./treeSitterParserService":[2291,792],"./treeSitterParserService.js":[2291,792],"./treeViewsDnd":[1734,792],"./treeViewsDnd.js":[1734,792],"./treeViewsDndService":[1083,792],"./treeViewsDndService.js":[1083,792],"./unicodeTextModelHighlighter":[8752],"./unicodeTextModelHighlighter.js":[8752],"node_modules/monaco-editor/esm/vs/editor/common/services/editorBaseApi":[5521],"node_modules/monaco-editor/esm/vs/editor/common/services/editorBaseApi.js":[5521],"node_modules/monaco-editor/esm/vs/editor/common/services/editorSimpleWorker":[2195],"node_modules/monaco-editor/esm/vs/editor/common/services/editorSimpleWorker.js":[2195],"node_modules/monaco-editor/esm/vs/editor/common/services/editorWorker":[4225,792],"node_modules/monaco-editor/esm/vs/editor/common/services/editorWorker.js":[4225,792],"node_modules/monaco-editor/esm/vs/editor/common/services/editorWorkerHost":[2607],"node_modules/monaco-editor/esm/vs/editor/common/services/editorWorkerHost.js":[2607],"node_modules/monaco-editor/esm/vs/editor/common/services/findSectionHeaders":[2906],"node_modules/monaco-editor/esm/vs/editor/common/services/findSectionHeaders.js":[2906],"node_modules/monaco-editor/esm/vs/editor/common/services/getIconClasses":[3700,792],"node_modules/monaco-editor/esm/vs/editor/common/services/getIconClasses.js":[3700,792],"node_modules/monaco-editor/esm/vs/editor/common/services/languageFeatureDebounce":[8525,792],"node_modules/monaco-editor/esm/vs/editor/common/services/languageFeatureDebounce.js":[8525,792],"node_modules/monaco-editor/esm/vs/editor/common/services/languageFeatures":[5307,792],"node_modules/monaco-editor/esm/vs/editor/common/services/languageFeatures.js":[5307,792],"node_modules/monaco-editor/esm/vs/editor/common/services/languageFeaturesService":[2579,792],"node_modules/monaco-editor/esm/vs/editor/common/services/languageFeaturesService.js":[2579,792],"node_modules/monaco-editor/esm/vs/editor/common/services/languageService":[518,792],"node_modules/monaco-editor/esm/vs/editor/common/services/languageService.js":[518,792],"node_modules/monaco-editor/esm/vs/editor/common/services/languagesAssociations":[7059,792],"node_modules/monaco-editor/esm/vs/editor/common/services/languagesAssociations.js":[7059,792],"node_modules/monaco-editor/esm/vs/editor/common/services/languagesRegistry":[3908,792],"node_modules/monaco-editor/esm/vs/editor/common/services/languagesRegistry.js":[3908,792],"node_modules/monaco-editor/esm/vs/editor/common/services/markerDecorations":[9313,792],"node_modules/monaco-editor/esm/vs/editor/common/services/markerDecorations.js":[9313,792],"node_modules/monaco-editor/esm/vs/editor/common/services/markerDecorationsService":[5901,792],"node_modules/monaco-editor/esm/vs/editor/common/services/markerDecorationsService.js":[5901,792],"node_modules/monaco-editor/esm/vs/editor/common/services/model":[1925,792],"node_modules/monaco-editor/esm/vs/editor/common/services/model.js":[1925,792],"node_modules/monaco-editor/esm/vs/editor/common/services/modelService":[9557,792],"node_modules/monaco-editor/esm/vs/editor/common/services/modelService.js":[9557,792],"node_modules/monaco-editor/esm/vs/editor/common/services/resolverService":[5425,792],"node_modules/monaco-editor/esm/vs/editor/common/services/resolverService.js":[5425,792],"node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensDto":[4567,792],"node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensDto.js":[4567,792],"node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensProviderStyling":[7088,792],"node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensProviderStyling.js":[7088,792],"node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensStyling":[5424,792],"node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensStyling.js":[5424,792],"node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensStylingService":[281,792],"node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensStylingService.js":[281,792],"node_modules/monaco-editor/esm/vs/editor/common/services/textModelSync/textModelSync.impl":[3296],"node_modules/monaco-editor/esm/vs/editor/common/services/textModelSync/textModelSync.impl.js":[3296],"node_modules/monaco-editor/esm/vs/editor/common/services/textModelSync/textModelSync.protocol":[2045,792],"node_modules/monaco-editor/esm/vs/editor/common/services/textModelSync/textModelSync.protocol.js":[2045,792],"node_modules/monaco-editor/esm/vs/editor/common/services/textResourceConfiguration":[1355,792],"node_modules/monaco-editor/esm/vs/editor/common/services/textResourceConfiguration.js":[1355,792],"node_modules/monaco-editor/esm/vs/editor/common/services/treeSitterParserService":[2291,792],"node_modules/monaco-editor/esm/vs/editor/common/services/treeSitterParserService.js":[2291,792],"node_modules/monaco-editor/esm/vs/editor/common/services/treeViewsDnd":[1734,792],"node_modules/monaco-editor/esm/vs/editor/common/services/treeViewsDnd.js":[1734,792],"node_modules/monaco-editor/esm/vs/editor/common/services/treeViewsDndService":[1083,792],"node_modules/monaco-editor/esm/vs/editor/common/services/treeViewsDndService.js":[1083,792],"node_modules/monaco-editor/esm/vs/editor/common/services/unicodeTextModelHighlighter":[8752],"node_modules/monaco-editor/esm/vs/editor/common/services/unicodeTextModelHighlighter.js":[8752]};function Z(o){if(!I.o(W,o))return Promise.resolve().then(()=>{var $=new Error("Cannot find module '"+o+"'");throw $.code="MODULE_NOT_FOUND",$});var D=W[o],C=D[0];return Promise.all(D.slice(1).map(I.e)).then(()=>I(C))}Z.keys=()=>Object.keys(W),Z.id=9204,ft.exports=Z},7614:(ft,Oe,I)=>{var W={"./editorBaseApi":5521,"./editorBaseApi.js":5521,"./editorSimpleWorker":2195,"./editorSimpleWorker.js":2195,"./editorWorker":4225,"./editorWorker.js":4225,"./editorWorkerHost":2607,"./editorWorkerHost.js":2607,"./findSectionHeaders":2906,"./findSectionHeaders.js":2906,"./getIconClasses":3700,"./getIconClasses.js":3700,"./languageFeatureDebounce":8525,"./languageFeatureDebounce.js":8525,"./languageFeatures":5307,"./languageFeatures.js":5307,"./languageFeaturesService":2579,"./languageFeaturesService.js":2579,"./languageService":518,"./languageService.js":518,"./languagesAssociations":7059,"./languagesAssociations.js":7059,"./languagesRegistry":3908,"./languagesRegistry.js":3908,"./markerDecorations":9313,"./markerDecorations.js":9313,"./markerDecorationsService":5901,"./markerDecorationsService.js":5901,"./model":1925,"./model.js":1925,"./modelService":9557,"./modelService.js":9557,"./resolverService":5425,"./resolverService.js":5425,"./semanticTokensDto":4567,"./semanticTokensDto.js":4567,"./semanticTokensProviderStyling":7088,"./semanticTokensProviderStyling.js":7088,"./semanticTokensStyling":5424,"./semanticTokensStyling.js":5424,"./semanticTokensStylingService":281,"./semanticTokensStylingService.js":281,"./textModelSync/textModelSync.impl":3296,"./textModelSync/textModelSync.impl.js":3296,"./textModelSync/textModelSync.protocol":2045,"./textModelSync/textModelSync.protocol.js":2045,"./textResourceConfiguration":1355,"./textResourceConfiguration.js":1355,"./treeSitterParserService":2291,"./treeSitterParserService.js":2291,"./treeViewsDnd":1734,"./treeViewsDnd.js":1734,"./treeViewsDndService":1083,"./treeViewsDndService.js":1083,"./unicodeTextModelHighlighter":8752,"./unicodeTextModelHighlighter.js":8752,"node_modules/monaco-editor/esm/vs/editor/common/services/editorBaseApi":5521,"node_modules/monaco-editor/esm/vs/editor/common/services/editorBaseApi.js":5521,"node_modules/monaco-editor/esm/vs/editor/common/services/editorSimpleWorker":2195,"node_modules/monaco-editor/esm/vs/editor/common/services/editorSimpleWorker.js":2195,"node_modules/monaco-editor/esm/vs/editor/common/services/editorWorker":4225,"node_modules/monaco-editor/esm/vs/editor/common/services/editorWorker.js":4225,"node_modules/monaco-editor/esm/vs/editor/common/services/editorWorkerHost":2607,"node_modules/monaco-editor/esm/vs/editor/common/services/editorWorkerHost.js":2607,"node_modules/monaco-editor/esm/vs/editor/common/services/findSectionHeaders":2906,"node_modules/monaco-editor/esm/vs/editor/common/services/findSectionHeaders.js":2906,"node_modules/monaco-editor/esm/vs/editor/common/services/getIconClasses":3700,"node_modules/monaco-editor/esm/vs/editor/common/services/getIconClasses.js":3700,"node_modules/monaco-editor/esm/vs/editor/common/services/languageFeatureDebounce":8525,"node_modules/monaco-editor/esm/vs/editor/common/services/languageFeatureDebounce.js":8525,"node_modules/monaco-editor/esm/vs/editor/common/services/languageFeatures":5307,"node_modules/monaco-editor/esm/vs/editor/common/services/languageFeatures.js":5307,"node_modules/monaco-editor/esm/vs/editor/common/services/languageFeaturesService":2579,"node_modules/monaco-editor/esm/vs/editor/common/services/languageFeaturesService.js":2579,"node_modules/monaco-editor/esm/vs/editor/common/services/languageService":518,"node_modules/monaco-editor/esm/vs/editor/common/services/languageService.js":518,"node_modules/monaco-editor/esm/vs/editor/common/services/languagesAssociations":7059,"node_modules/monaco-editor/esm/vs/editor/common/services/languagesAssociations.js":7059,"node_modules/monaco-editor/esm/vs/editor/common/services/languagesRegistry":3908,"node_modules/monaco-editor/esm/vs/editor/common/services/languagesRegistry.js":3908,"node_modules/monaco-editor/esm/vs/editor/common/services/markerDecorations":9313,"node_modules/monaco-editor/esm/vs/editor/common/services/markerDecorations.js":9313,"node_modules/monaco-editor/esm/vs/editor/common/services/markerDecorationsService":5901,"node_modules/monaco-editor/esm/vs/editor/common/services/markerDecorationsService.js":5901,"node_modules/monaco-editor/esm/vs/editor/common/services/model":1925,"node_modules/monaco-editor/esm/vs/editor/common/services/model.js":1925,"node_modules/monaco-editor/esm/vs/editor/common/services/modelService":9557,"node_modules/monaco-editor/esm/vs/editor/common/services/modelService.js":9557,"node_modules/monaco-editor/esm/vs/editor/common/services/resolverService":5425,"node_modules/monaco-editor/esm/vs/editor/common/services/resolverService.js":5425,"node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensDto":4567,"node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensDto.js":4567,"node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensProviderStyling":7088,"node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensProviderStyling.js":7088,"node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensStyling":5424,"node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensStyling.js":5424,"node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensStylingService":281,"node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensStylingService.js":281,"node_modules/monaco-editor/esm/vs/editor/common/services/textModelSync/textModelSync.impl":3296,"node_modules/monaco-editor/esm/vs/editor/common/services/textModelSync/textModelSync.impl.js":3296,"node_modules/monaco-editor/esm/vs/editor/common/services/textModelSync/textModelSync.protocol":2045,"node_modules/monaco-editor/esm/vs/editor/common/services/textModelSync/textModelSync.protocol.js":2045,"node_modules/monaco-editor/esm/vs/editor/common/services/textResourceConfiguration":1355,"node_modules/monaco-editor/esm/vs/editor/common/services/textResourceConfiguration.js":1355,"node_modules/monaco-editor/esm/vs/editor/common/services/treeSitterParserService":2291,"node_modules/monaco-editor/esm/vs/editor/common/services/treeSitterParserService.js":2291,"node_modules/monaco-editor/esm/vs/editor/common/services/treeViewsDnd":1734,"node_modules/monaco-editor/esm/vs/editor/common/services/treeViewsDnd.js":1734,"node_modules/monaco-editor/esm/vs/editor/common/services/treeViewsDndService":1083,"node_modules/monaco-editor/esm/vs/editor/common/services/treeViewsDndService.js":1083,"node_modules/monaco-editor/esm/vs/editor/common/services/unicodeTextModelHighlighter":8752,"node_modules/monaco-editor/esm/vs/editor/common/services/unicodeTextModelHighlighter.js":8752};function Z(D){var C=o(D);return I(C)}function o(D){if(!I.o(W,D)){var C=new Error("Cannot find module '"+D+"'");throw C.code="MODULE_NOT_FOUND",C}return W[D]}Z.keys=function(){return Object.keys(W)},Z.resolve=o,ft.exports=Z,Z.id=7614},9495:(ft,Oe,I)=>{"use strict";function W(o){var D,C,$,f=2;for(typeof Symbol<"u"&&(C=Symbol.asyncIterator,$=Symbol.iterator);f--;){if(C&&null!=(D=o[C]))return D.call(o);if($&&null!=(D=o[$]))return new Z(D.call(o));C="@@asyncIterator",$="@@iterator"}throw new TypeError("Object is not async iterable")}function Z(o){function D(C){if(Object(C)!==C)return Promise.reject(new TypeError(C+" is not an object."));var $=C.done;return Promise.resolve(C.value).then(function(f){return{value:f,done:$}})}return(Z=function($){this.s=$,this.n=$.next}).prototype={s:null,n:null,next:function(){return D(this.n.apply(this.s,arguments))},return:function($){var f=this.s.return;return void 0===f?Promise.resolve({value:$,done:!0}):D(f.apply(this.s,arguments))},throw:function($){var f=this.s.return;return void 0===f?Promise.reject($):D(f.apply(this.s,arguments))}},new Z(o)}I.d(Oe,{A:()=>W})},467:(ft,Oe,I)=>{"use strict";function W(o,D,C,$,f,B,F){try{var ae=o[B](F),K=ae.value}catch(A){return void C(A)}ae.done?D(K):Promise.resolve(K).then($,f)}function Z(o){return function(){var D=this,C=arguments;return new Promise(function($,f){var B=o.apply(D,C);function F(K){W(B,$,f,F,ae,"next",K)}function ae(K){W(B,$,f,F,ae,"throw",K)}F(void 0)})}}I.d(Oe,{A:()=>Z})}},gs={};function pi(ft){var Oe=gs[ft];if(void 0!==Oe)return Oe.exports;var I=gs[ft]={exports:{}};return Ts[ft](I,I.exports,pi),I.exports}pi.d=(ft,Oe)=>{for(var I in Oe)pi.o(Oe,I)&&!pi.o(ft,I)&&Object.defineProperty(ft,I,{enumerable:!0,get:Oe[I]})},pi.e=()=>Promise.resolve(),pi.o=(ft,Oe)=>Object.prototype.hasOwnProperty.call(ft,Oe),pi.r=ft=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ft,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ft,"__esModule",{value:!0})},(()=>{"use strict";var ft=pi(467),Oe=pi(5252),I=pi(2195),W=pi(2607);let Z=!1;function o(r){if(Z)return;Z=!0;const l=new Oe.SimpleWorkerServer(c=>{globalThis.postMessage(c)},c=>new I.EditorSimpleWorker(W.EditorWorkerHost.getChannel(c),r));globalThis.onmessage=c=>{l.onmessage(c.data)}}function D(r,l=!1){const c=r.length;let u=0,d="",L=0,q=16,Ee=0,oe=0,de=0,Le=0,fe=0;function ye($e,lt){let Qe=0,xt=0;for(;Qe<$e||!lt;){let bt=r.charCodeAt(u);if(bt>=48&&bt<=57)xt=16*xt+bt-48;else if(bt>=65&&bt<=70)xt=16*xt+bt-65+10;else{if(!(bt>=97&&bt<=102))break;xt=16*xt+bt-97+10}u++,Qe++}return Qe<$e&&(xt=-1),xt}function Ze(){if(d="",fe=0,L=u,oe=Ee,Le=de,u>=c)return L=c,q=17;let $e=r.charCodeAt(u);if(C($e)){do{u++,d+=String.fromCharCode($e),$e=r.charCodeAt(u)}while(C($e));return q=15}if($($e))return u++,d+=String.fromCharCode($e),13===$e&&10===r.charCodeAt(u)&&(u++,d+="\n"),Ee++,de=u,q=14;switch($e){case 123:return u++,q=1;case 125:return u++,q=2;case 91:return u++,q=3;case 93:return u++,q=4;case 58:return u++,q=6;case 44:return u++,q=5;case 34:return u++,d=function He(){let $e="",lt=u;for(;;){if(u>=c){$e+=r.substring(lt,u),fe=2;break}const Qe=r.charCodeAt(u);if(34===Qe){$e+=r.substring(lt,u),u++;break}if(92!==Qe){if(Qe>=0&&Qe<=31){if($(Qe)){$e+=r.substring(lt,u),fe=2;break}fe=6}u++}else{if($e+=r.substring(lt,u),u++,u>=c){fe=2;break}switch(r.charCodeAt(u++)){case 34:$e+='"';break;case 92:$e+="\\";break;case 47:$e+="/";break;case 98:$e+="\b";break;case 102:$e+="\f";break;case 110:$e+="\n";break;case 114:$e+="\r";break;case 116:$e+="\t";break;case 117:const bt=ye(4,!0);bt>=0?$e+=String.fromCharCode(bt):fe=4;break;default:fe=5}lt=u}}return $e}(),q=10;case 47:const lt=u-1;if(47===r.charCodeAt(u+1)){for(u+=2;u<c&&!$(r.charCodeAt(u));)u++;return d=r.substring(lt,u),q=12}if(42===r.charCodeAt(u+1)){u+=2;const Qe=c-1;let xt=!1;for(;u<Qe;){const bt=r.charCodeAt(u);if(42===bt&&47===r.charCodeAt(u+1)){u+=2,xt=!0;break}u++,$(bt)&&(13===bt&&10===r.charCodeAt(u)&&u++,Ee++,de=u)}return xt||(u++,fe=1),d=r.substring(lt,u),q=13}return d+=String.fromCharCode($e),u++,q=16;case 45:if(d+=String.fromCharCode($e),u++,u===c||!f(r.charCodeAt(u)))return q=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return d+=function Me(){let $e=u;if(48===r.charCodeAt(u))u++;else for(u++;u<r.length&&f(r.charCodeAt(u));)u++;if(u<r.length&&46===r.charCodeAt(u)){if(u++,!(u<r.length&&f(r.charCodeAt(u))))return fe=3,r.substring($e,u);for(u++;u<r.length&&f(r.charCodeAt(u));)u++}let lt=u;if(u<r.length&&(69===r.charCodeAt(u)||101===r.charCodeAt(u)))if(u++,(u<r.length&&43===r.charCodeAt(u)||45===r.charCodeAt(u))&&u++,u<r.length&&f(r.charCodeAt(u))){for(u++;u<r.length&&f(r.charCodeAt(u));)u++;lt=u}else fe=3;return r.substring($e,lt)}(),q=11;default:for(;u<c&&ut($e);)u++,$e=r.charCodeAt(u);if(L!==u){switch(d=r.substring(L,u),d){case"true":return q=8;case"false":return q=9;case"null":return q=7}return q=16}return d+=String.fromCharCode($e),u++,q=16}}function ut($e){if(C($e)||$($e))return!1;switch($e){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}return{setPosition:function Ne($e){u=$e,d="",L=0,q=16,fe=0},getPosition:()=>u,scan:l?function at(){let $e;do{$e=Ze()}while($e>=12&&$e<=15);return $e}:Ze,getToken:()=>q,getTokenValue:()=>d,getTokenOffset:()=>L,getTokenLength:()=>u-L,getTokenStartLine:()=>oe,getTokenStartCharacter:()=>L-Le,getTokenError:()=>fe}}function C(r){return 32===r||9===r}function $(r){return 10===r||13===r}function f(r){return r>=48&&r<=57}globalThis.onmessage=r=>{Z||o(null)};var F=new Array(20).fill(0).map((r,l)=>" ".repeat(l)),K={" ":{"\n":new Array(200).fill(0).map((r,l)=>"\n"+" ".repeat(l)),"\r":new Array(200).fill(0).map((r,l)=>"\r"+" ".repeat(l)),"\r\n":new Array(200).fill(0).map((r,l)=>"\r\n"+" ".repeat(l))},"\t":{"\n":new Array(200).fill(0).map((r,l)=>"\n"+"\t".repeat(l)),"\r":new Array(200).fill(0).map((r,l)=>"\r"+"\t".repeat(l)),"\r\n":new Array(200).fill(0).map((r,l)=>"\r\n"+"\t".repeat(l))}},A=["\n","\r","\r\n"];function M(r,l){let c="";for(let u=0;u<l;u++)c+=r;return c}function Ce(r,l){return-1!=="\r\n".indexOf(r.charAt(l))}var We,ht,et,mt,nt,ot,St,Jt,rn,qt,hn,me=function(r){return r.DEFAULT={allowTrailingComma:!1},r}(me||{}),y=D,T=function _(r,l=[],c=me.DEFAULT){let u=null,d=[];const L=[];function q(oe){Array.isArray(d)?d.push(oe):null!==u&&(d[u]=oe)}return function j(r,l,c=me.DEFAULT){const u=D(r,!1),d=[];function L(Ye){return Ye?()=>Ye(u.getTokenOffset(),u.getTokenLength(),u.getTokenStartLine(),u.getTokenStartCharacter()):()=>!0}function q(Ye){return Ye?()=>Ye(u.getTokenOffset(),u.getTokenLength(),u.getTokenStartLine(),u.getTokenStartCharacter(),()=>d.slice()):()=>!0}function Ee(Ye){return Ye?vt=>Ye(vt,u.getTokenOffset(),u.getTokenLength(),u.getTokenStartLine(),u.getTokenStartCharacter()):()=>!0}function oe(Ye){return Ye?vt=>Ye(vt,u.getTokenOffset(),u.getTokenLength(),u.getTokenStartLine(),u.getTokenStartCharacter(),()=>d.slice()):()=>!0}const de=q(l.onObjectBegin),Le=oe(l.onObjectProperty),fe=L(l.onObjectEnd),ye=q(l.onArrayBegin),Ne=L(l.onArrayEnd),Me=oe(l.onLiteralValue),He=Ee(l.onSeparator),Ze=L(l.onComment),ut=Ee(l.onError),at=c&&c.disallowComments,$e=c&&c.allowTrailingComma;function lt(){for(;;){const Ye=u.scan();switch(u.getTokenError()){case 4:Qe(14);break;case 5:Qe(15);break;case 3:Qe(13);break;case 1:at||Qe(11);break;case 2:Qe(12);break;case 6:Qe(16)}switch(Ye){case 12:case 13:at?Qe(10):Ze();break;case 16:Qe(1);break;case 15:case 14:break;default:return Ye}}}function Qe(Ye,vt=[],Et=[]){if(ut(Ye),vt.length+Et.length>0){let vn=u.getToken();for(;17!==vn;){if(-1!==vt.indexOf(vn)){lt();break}if(-1!==Et.indexOf(vn))break;vn=lt()}}}function xt(Ye){const vt=u.getTokenValue();return Ye?Me(vt):(Le(vt),d.push(vt)),lt(),!0}function Ct(){switch(u.getToken()){case 3:return function Yt(){ye(),lt();let Ye=!0,vt=!1;for(;4!==u.getToken()&&17!==u.getToken();){if(5===u.getToken()){if(vt||Qe(4,[],[]),He(","),lt(),4===u.getToken()&&$e)break}else vt&&Qe(6,[],[]);Ye?(d.push(0),Ye=!1):d[d.length-1]++,Ct()||Qe(4,[],[4,5]),vt=!0}return Ne(),Ye||d.pop(),4!==u.getToken()?Qe(8,[4],[]):lt(),!0}();case 1:return function jt(){de(),lt();let Ye=!1;for(;2!==u.getToken()&&17!==u.getToken();){if(5===u.getToken()){if(Ye||Qe(4,[],[]),He(","),lt(),2===u.getToken()&&$e)break}else Ye&&Qe(6,[],[]);(10!==u.getToken()?(Qe(3,[],[2,5]),!1):(xt(!1),6===u.getToken()?(He(":"),lt(),Ct()||Qe(4,[],[2,5])):Qe(5,[],[2,5]),d.pop(),!0))||Qe(4,[],[2,5]),Ye=!0}return fe(),2!==u.getToken()?Qe(7,[2],[]):lt(),!0}();case 10:return xt(!0);default:return function bt(){switch(u.getToken()){case 11:const Ye=u.getTokenValue();let vt=Number(Ye);isNaN(vt)&&(Qe(2),vt=0),Me(vt);break;case 7:Me(null);break;case 8:Me(!0);break;case 9:Me(!1);break;default:return!1}return lt(),!0}()}}lt(),17===u.getToken()?!!c.allowEmptyContent||Qe(4,[],[]):Ct()?17!==u.getToken()&&Qe(9,[],[]):Qe(4,[],[])}(r,{onObjectBegin:()=>{const oe={};q(oe),L.push(d),d=oe,u=null},onObjectProperty:oe=>{u=oe},onObjectEnd:()=>{d=L.pop()},onArrayBegin:()=>{const oe=[];q(oe),L.push(d),d=oe,u=null},onArrayEnd:()=>{d=L.pop()},onLiteralValue:q,onError:(oe,de,Le)=>{l.push({error:oe,offset:de,length:Le})}},c),d[0]},z=function H(r,l,c=!1){if(function U(r,l,c=!1){return l>=r.offset&&l<r.offset+r.length||c&&l===r.offset+r.length}(r,l,c)){const u=r.children;if(Array.isArray(u))for(let d=0;d<u.length&&u[d].offset<=l;d++){const L=H(u[d],l,c);if(L)return L}return r}},ee=function w(r){if(!r.parent||!r.parent.children)return[];const l=w(r.parent);if("property"===r.parent.type)l.push(r.parent.children[0].value);else if("array"===r.parent.type){const c=r.parent.children.indexOf(r);-1!==c&&l.push(c)}return l},he=function k(r){switch(r.type){case"array":return r.children.map(k);case"object":const l=Object.create(null);for(let c of r.children){const u=c.children[1];u&&(l[c.children[0].value]=k(u))}return l;case"null":case"string":case"number":case"boolean":return r.value;default:return}};function ie(r,l){if(r===l)return!0;if(null==r||null==l||typeof r!=typeof l||"object"!=typeof r||Array.isArray(r)!==Array.isArray(l))return!1;let c,u;if(Array.isArray(r)){if(r.length!==l.length)return!1;for(c=0;c<r.length;c++)if(!ie(r[c],l[c]))return!1}else{const d=[];for(u in r)d.push(u);d.sort();const L=[];for(u in l)L.push(u);if(L.sort(),!ie(d,L))return!1;for(c=0;c<d.length;c++)if(!ie(r[d[c]],l[d[c]]))return!1}return!0}function Ae(r){return"number"==typeof r}function ce(r){return typeof r<"u"}function P(r){return"boolean"==typeof r}function J(r){return"string"==typeof r}function le(r){return"object"==typeof r&&null!==r&&!Array.isArray(r)}function xe(r,l){const c=r.length-l.length;return c>0?r.lastIndexOf(l)===c:0===c&&r===l}function De(r){let l="";(function ge(r,l){if(r.length<l.length)return!1;for(let c=0;c<l.length;c++)if(r[c]!==l[c])return!1;return!0})(r,"(?i)")&&(r=r.substring(4),l="i");try{return new RegExp(r,l+"u")}catch{try{return new RegExp(r,l)}catch{return}}}function ze(r){let l=0;for(let c=0;c<r.length;c++){l++;const u=r.charCodeAt(c);55296<=u&&u<=56319&&c++}return l}(We||(We={})).is=function l(c){return"string"==typeof c},(ht||(ht={})).is=function l(c){return"string"==typeof c},function(r){r.MIN_VALUE=-2147483648,r.MAX_VALUE=2147483647,r.is=function l(c){return"number"==typeof c&&r.MIN_VALUE<=c&&c<=r.MAX_VALUE}}(et||(et={})),function(r){r.MIN_VALUE=0,r.MAX_VALUE=2147483647,r.is=function l(c){return"number"==typeof c&&r.MIN_VALUE<=c&&c<=r.MAX_VALUE}}(mt||(mt={})),function(r){r.create=function l(u,d){return u===Number.MAX_VALUE&&(u=mt.MAX_VALUE),d===Number.MAX_VALUE&&(d=mt.MAX_VALUE),{line:u,character:d}},r.is=function c(u){let d=u;return R.objectLiteral(d)&&R.uinteger(d.line)&&R.uinteger(d.character)}}(nt||(nt={})),function(r){r.create=function l(u,d,L,q){if(R.uinteger(u)&&R.uinteger(d)&&R.uinteger(L)&&R.uinteger(q))return{start:nt.create(u,d),end:nt.create(L,q)};if(nt.is(u)&&nt.is(d))return{start:u,end:d};throw new Error(`Range#create called with invalid arguments[${u}, ${d}, ${L}, ${q}]`)},r.is=function c(u){let d=u;return R.objectLiteral(d)&&nt.is(d.start)&&nt.is(d.end)}}(ot||(ot={})),function(r){r.create=function l(u,d){return{uri:u,range:d}},r.is=function c(u){let d=u;return R.objectLiteral(d)&&ot.is(d.range)&&(R.string(d.uri)||R.undefined(d.uri))}}(St||(St={})),function(r){r.create=function l(u,d,L,q){return{targetUri:u,targetRange:d,targetSelectionRange:L,originSelectionRange:q}},r.is=function c(u){let d=u;return R.objectLiteral(d)&&ot.is(d.targetRange)&&R.string(d.targetUri)&&ot.is(d.targetSelectionRange)&&(ot.is(d.originSelectionRange)||R.undefined(d.originSelectionRange))}}(Jt||(Jt={})),function(r){r.create=function l(u,d,L,q){return{red:u,green:d,blue:L,alpha:q}},r.is=function c(u){const d=u;return R.objectLiteral(d)&&R.numberRange(d.red,0,1)&&R.numberRange(d.green,0,1)&&R.numberRange(d.blue,0,1)&&R.numberRange(d.alpha,0,1)}}(rn||(rn={})),function(r){r.create=function l(u,d){return{range:u,color:d}},r.is=function c(u){const d=u;return R.objectLiteral(d)&&ot.is(d.range)&&rn.is(d.color)}}(qt||(qt={})),function(r){r.create=function l(u,d,L){return{label:u,textEdit:d,additionalTextEdits:L}},r.is=function c(u){const d=u;return R.objectLiteral(d)&&R.string(d.label)&&(R.undefined(d.textEdit)||je.is(d))&&(R.undefined(d.additionalTextEdits)||R.typedArray(d.additionalTextEdits,je.is))}}(hn||(hn={}));var Bn,Ln,Sn=function(r){return r.Comment="comment",r.Imports="imports",r.Region="region",r}(Sn||{});!function(r){r.create=function l(u,d,L,q,Ee,oe){const de={startLine:u,endLine:d};return R.defined(L)&&(de.startCharacter=L),R.defined(q)&&(de.endCharacter=q),R.defined(Ee)&&(de.kind=Ee),R.defined(oe)&&(de.collapsedText=oe),de},r.is=function c(u){const d=u;return R.objectLiteral(d)&&R.uinteger(d.startLine)&&R.uinteger(d.startLine)&&(R.undefined(d.startCharacter)||R.uinteger(d.startCharacter))&&(R.undefined(d.endCharacter)||R.uinteger(d.endCharacter))&&(R.undefined(d.kind)||R.string(d.kind))}}(Bn||(Bn={})),function(r){r.create=function l(u,d){return{location:u,message:d}},r.is=function c(u){let d=u;return R.defined(d)&&St.is(d.location)&&R.string(d.message)}}(Ln||(Ln={}));var Je,x,ue,je,Q,Be,Ue,st,kt,n,Vt,Ht,tn,mn,pn,Xt,Gt,nn,_t=function(r){return r.Error=1,r.Warning=2,r.Information=3,r.Hint=4,r}(_t||{});!function(r){r.is=function l(c){const u=c;return R.objectLiteral(u)&&R.string(u.href)}}(Je||(Je={})),function(r){r.create=function l(u,d,L,q,Ee,oe){let de={range:u,message:d};return R.defined(L)&&(de.severity=L),R.defined(q)&&(de.code=q),R.defined(Ee)&&(de.source=Ee),R.defined(oe)&&(de.relatedInformation=oe),de},r.is=function c(u){var d;let L=u;return R.defined(L)&&ot.is(L.range)&&R.string(L.message)&&(R.number(L.severity)||R.undefined(L.severity))&&(R.integer(L.code)||R.string(L.code)||R.undefined(L.code))&&(R.undefined(L.codeDescription)||R.string(null===(d=L.codeDescription)||void 0===d?void 0:d.href))&&(R.string(L.source)||R.undefined(L.source))&&(R.undefined(L.relatedInformation)||R.typedArray(L.relatedInformation,Ln.is))}}(x||(x={})),function(r){r.create=function l(u,d,...L){let q={title:u,command:d};return R.defined(L)&&L.length>0&&(q.arguments=L),q},r.is=function c(u){let d=u;return R.defined(d)&&R.string(d.title)&&R.string(d.command)}}(ue||(ue={})),function(r){r.replace=function l(L,q){return{range:L,newText:q}},r.insert=function c(L,q){return{range:{start:L,end:L},newText:q}},r.del=function u(L){return{range:L,newText:""}},r.is=function d(L){const q=L;return R.objectLiteral(q)&&R.string(q.newText)&&ot.is(q.range)}}(je||(je={})),function(r){r.create=function l(u,d,L){const q={label:u};return void 0!==d&&(q.needsConfirmation=d),void 0!==L&&(q.description=L),q},r.is=function c(u){const d=u;return R.objectLiteral(d)&&R.string(d.label)&&(R.boolean(d.needsConfirmation)||void 0===d.needsConfirmation)&&(R.string(d.description)||void 0===d.description)}}(Q||(Q={})),function(r){r.is=function l(c){return R.string(c)}}(Be||(Be={})),function(r){r.replace=function l(L,q,Ee){return{range:L,newText:q,annotationId:Ee}},r.insert=function c(L,q,Ee){return{range:{start:L,end:L},newText:q,annotationId:Ee}},r.del=function u(L,q){return{range:L,newText:"",annotationId:q}},r.is=function d(L){const q=L;return je.is(q)&&(Q.is(q.annotationId)||Be.is(q.annotationId))}}(Ue||(Ue={})),function(r){r.create=function l(u,d){return{textDocument:u,edits:d}},r.is=function c(u){let d=u;return R.defined(d)&&pn.is(d.textDocument)&&Array.isArray(d.edits)}}(st||(st={})),function(r){r.create=function l(u,d,L){let q={kind:"create",uri:u};return void 0!==d&&(void 0!==d.overwrite||void 0!==d.ignoreIfExists)&&(q.options=d),void 0!==L&&(q.annotationId=L),q},r.is=function c(u){let d=u;return d&&"create"===d.kind&&R.string(d.uri)&&(void 0===d.options||(void 0===d.options.overwrite||R.boolean(d.options.overwrite))&&(void 0===d.options.ignoreIfExists||R.boolean(d.options.ignoreIfExists)))&&(void 0===d.annotationId||Be.is(d.annotationId))}}(kt||(kt={})),function(r){r.create=function l(u,d,L,q){let Ee={kind:"rename",oldUri:u,newUri:d};return void 0!==L&&(void 0!==L.overwrite||void 0!==L.ignoreIfExists)&&(Ee.options=L),void 0!==q&&(Ee.annotationId=q),Ee},r.is=function c(u){let d=u;return d&&"rename"===d.kind&&R.string(d.oldUri)&&R.string(d.newUri)&&(void 0===d.options||(void 0===d.options.overwrite||R.boolean(d.options.overwrite))&&(void 0===d.options.ignoreIfExists||R.boolean(d.options.ignoreIfExists)))&&(void 0===d.annotationId||Be.is(d.annotationId))}}(n||(n={})),function(r){r.create=function l(u,d,L){let q={kind:"delete",uri:u};return void 0!==d&&(void 0!==d.recursive||void 0!==d.ignoreIfNotExists)&&(q.options=d),void 0!==L&&(q.annotationId=L),q},r.is=function c(u){let d=u;return d&&"delete"===d.kind&&R.string(d.uri)&&(void 0===d.options||(void 0===d.options.recursive||R.boolean(d.options.recursive))&&(void 0===d.options.ignoreIfNotExists||R.boolean(d.options.ignoreIfNotExists)))&&(void 0===d.annotationId||Be.is(d.annotationId))}}(Vt||(Vt={})),function(r){r.is=function l(c){return c&&(void 0!==c.changes||void 0!==c.documentChanges)&&(void 0===c.documentChanges||c.documentChanges.every(d=>R.string(d.kind)?kt.is(d)||n.is(d)||Vt.is(d):st.is(d)))}}(Ht||(Ht={})),function(r){r.create=function l(u){return{uri:u}},r.is=function c(u){let d=u;return R.defined(d)&&R.string(d.uri)}}(tn||(tn={})),function(r){r.create=function l(u,d){return{uri:u,version:d}},r.is=function c(u){let d=u;return R.defined(d)&&R.string(d.uri)&&R.integer(d.version)}}(mn||(mn={})),function(r){r.create=function l(u,d){return{uri:u,version:d}},r.is=function c(u){let d=u;return R.defined(d)&&R.string(d.uri)&&(null===d.version||R.integer(d.version))}}(pn||(pn={})),function(r){r.create=function l(u,d,L,q){return{uri:u,languageId:d,version:L,text:q}},r.is=function c(u){let d=u;return R.defined(d)&&R.string(d.uri)&&R.string(d.languageId)&&R.integer(d.version)&&R.string(d.text)}}(Xt||(Xt={})),function(r){r.PlainText="plaintext",r.Markdown="markdown",r.is=function l(c){return c===r.PlainText||c===r.Markdown}}(Gt||(Gt={})),function(r){r.is=function l(c){const u=c;return R.objectLiteral(c)&&Gt.is(u.kind)&&R.string(u.value)}}(nn||(nn={}));var Rn,Ei,Ai,Ii,Hn,Tn,gi,Mn,On,_n=function(r){return r.Text=1,r.Method=2,r.Function=3,r.Constructor=4,r.Field=5,r.Variable=6,r.Class=7,r.Interface=8,r.Module=9,r.Property=10,r.Unit=11,r.Value=12,r.Enum=13,r.Keyword=14,r.Snippet=15,r.Color=16,r.File=17,r.Reference=18,r.Folder=19,r.EnumMember=20,r.Constant=21,r.Struct=22,r.Event=23,r.Operator=24,r.TypeParameter=25,r}(_n||{}),xn=function(r){return r.PlainText=1,r.Snippet=2,r}(xn||{});!function(r){r.create=function l(u,d,L){return{newText:u,insert:d,replace:L}},r.is=function c(u){const d=u;return d&&R.string(d.newText)&&ot.is(d.insert)&&ot.is(d.replace)}}(Rn||(Rn={})),function(r){r.is=function l(c){const u=c;return u&&(R.string(u.detail)||void 0===u.detail)&&(R.string(u.description)||void 0===u.description)}}(Ei||(Ei={})),function(r){r.create=function l(c){return{label:c}}}(Ai||(Ai={})),function(r){r.create=function l(c,u){return{items:c||[],isIncomplete:!!u}}}(Ii||(Ii={})),function(r){r.fromPlainText=function l(u){return u.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},r.is=function c(u){const d=u;return R.string(d)||R.objectLiteral(d)&&R.string(d.language)&&R.string(d.value)}}(Hn||(Hn={})),function(r){r.is=function l(c){let u=c;return!!u&&R.objectLiteral(u)&&(nn.is(u.contents)||Hn.is(u.contents)||R.typedArray(u.contents,Hn.is))&&(void 0===c.range||ot.is(c.range))}}(Tn||(Tn={})),function(r){r.create=function l(c,u){return u?{label:c,documentation:u}:{label:c}}}(gi||(gi={})),function(r){r.create=function l(c,u,...d){let L={label:c};return R.defined(u)&&(L.documentation=u),L.parameters=R.defined(d)?d:[],L}}(Mn||(Mn={})),function(r){r.create=function l(c,u){let d={range:c};return R.number(u)&&(d.kind=u),d}}(On||(On={}));var gn,Ti,Ni,Qn=function(r){return r.File=1,r.Module=2,r.Namespace=3,r.Package=4,r.Class=5,r.Method=6,r.Property=7,r.Field=8,r.Constructor=9,r.Enum=10,r.Interface=11,r.Function=12,r.Variable=13,r.Constant=14,r.String=15,r.Number=16,r.Boolean=17,r.Array=18,r.Object=19,r.Key=20,r.Null=21,r.EnumMember=22,r.Struct=23,r.Event=24,r.Operator=25,r.TypeParameter=26,r}(Qn||{});!function(r){r.create=function l(c,u,d,L,q){let Ee={name:c,kind:u,location:{uri:L,range:d}};return q&&(Ee.containerName=q),Ee}}(gn||(gn={})),function(r){r.create=function l(c,u,d,L){return void 0!==L?{name:c,kind:u,location:{uri:d,range:L}}:{name:c,kind:u,location:{uri:d}}}}(Ti||(Ti={})),function(r){r.create=function l(u,d,L,q,Ee,oe){let de={name:u,detail:d,kind:L,range:q,selectionRange:Ee};return void 0!==oe&&(de.children=oe),de},r.is=function c(u){let d=u;return d&&R.string(d.name)&&R.number(d.kind)&&ot.is(d.range)&&ot.is(d.selectionRange)&&(void 0===d.detail||R.string(d.detail))&&(void 0===d.deprecated||R.boolean(d.deprecated))&&(void 0===d.children||Array.isArray(d.children))&&(void 0===d.tags||Array.isArray(d.tags))}}(Ni||(Ni={}));var Ie,te,_e,Ke,dt,Lt,$n,sn,Vn,Gn,Jn,Zn,Xn,_i,Gi,bi,vi,Se,m,v,V,Yn=function(r){return r.Invoked=1,r.Automatic=2,r}(Yn||{});!function(r){r.create=function l(u,d,L){let q={diagnostics:u};return null!=d&&(q.only=d),null!=L&&(q.triggerKind=L),q},r.is=function c(u){let d=u;return R.defined(d)&&R.typedArray(d.diagnostics,x.is)&&(void 0===d.only||R.typedArray(d.only,R.string))&&(void 0===d.triggerKind||d.triggerKind===Yn.Invoked||d.triggerKind===Yn.Automatic)}}(Ie||(Ie={})),function(r){r.create=function l(u,d,L){let q={title:u},Ee=!0;return"string"==typeof d?(Ee=!1,q.kind=d):ue.is(d)?q.command=d:q.edit=d,Ee&&void 0!==L&&(q.kind=L),q},r.is=function c(u){let d=u;return d&&R.string(d.title)&&(void 0===d.diagnostics||R.typedArray(d.diagnostics,x.is))&&(void 0===d.kind||R.string(d.kind))&&(void 0!==d.edit||void 0!==d.command)&&(void 0===d.command||ue.is(d.command))&&(void 0===d.isPreferred||R.boolean(d.isPreferred))&&(void 0===d.edit||Ht.is(d.edit))}}(te||(te={})),function(r){r.create=function l(u,d){let L={range:u};return R.defined(d)&&(L.data=d),L},r.is=function c(u){let d=u;return R.defined(d)&&ot.is(d.range)&&(R.undefined(d.command)||ue.is(d.command))}}(_e||(_e={})),function(r){r.create=function l(u,d){return{tabSize:u,insertSpaces:d}},r.is=function c(u){let d=u;return R.defined(d)&&R.uinteger(d.tabSize)&&R.boolean(d.insertSpaces)}}(Ke||(Ke={})),function(r){r.create=function l(u,d,L){return{range:u,target:d,data:L}},r.is=function c(u){let d=u;return R.defined(d)&&ot.is(d.range)&&(R.undefined(d.target)||R.string(d.target))}}(dt||(dt={})),function(r){r.create=function l(u,d){return{range:u,parent:d}},r.is=function c(u){let d=u;return R.objectLiteral(d)&&ot.is(d.range)&&(void 0===d.parent||r.is(d.parent))}}(Lt||(Lt={})),function(r){r.is=function l(c){const u=c;return R.objectLiteral(u)&&(void 0===u.resultId||"string"==typeof u.resultId)&&Array.isArray(u.data)&&(0===u.data.length||"number"==typeof u.data[0])}}($n||($n={})),function(r){r.create=function l(u,d){return{range:u,text:d}},r.is=function c(u){const d=u;return null!=d&&ot.is(d.range)&&R.string(d.text)}}(sn||(sn={})),function(r){r.create=function l(u,d,L){return{range:u,variableName:d,caseSensitiveLookup:L}},r.is=function c(u){const d=u;return null!=d&&ot.is(d.range)&&R.boolean(d.caseSensitiveLookup)&&(R.string(d.variableName)||void 0===d.variableName)}}(Vn||(Vn={})),function(r){r.create=function l(u,d){return{range:u,expression:d}},r.is=function c(u){const d=u;return null!=d&&ot.is(d.range)&&(R.string(d.expression)||void 0===d.expression)}}(Gn||(Gn={})),function(r){r.create=function l(u,d){return{frameId:u,stoppedLocation:d}},r.is=function c(u){return R.defined(u)&&ot.is(u.stoppedLocation)}}(Jn||(Jn={})),function(r){r.Type=1,r.Parameter=2,r.is=function l(c){return 1===c||2===c}}(Zn||(Zn={})),function(r){r.create=function l(u){return{value:u}},r.is=function c(u){const d=u;return R.objectLiteral(d)&&(void 0===d.tooltip||R.string(d.tooltip)||nn.is(d.tooltip))&&(void 0===d.location||St.is(d.location))&&(void 0===d.command||ue.is(d.command))}}(Xn||(Xn={})),function(r){r.create=function l(u,d,L){const q={position:u,label:d};return void 0!==L&&(q.kind=L),q},r.is=function c(u){const d=u;return R.objectLiteral(d)&&nt.is(d.position)&&(R.string(d.label)||R.typedArray(d.label,Xn.is))&&(void 0===d.kind||Zn.is(d.kind))&&void 0===d.textEdits||R.typedArray(d.textEdits,je.is)&&(void 0===d.tooltip||R.string(d.tooltip)||nn.is(d.tooltip))&&(void 0===d.paddingLeft||R.boolean(d.paddingLeft))&&(void 0===d.paddingRight||R.boolean(d.paddingRight))}}(_i||(_i={})),function(r){r.createSnippet=function l(c){return{kind:"snippet",value:c}}}(Gi||(Gi={})),function(r){r.create=function l(c,u,d,L){return{insertText:c,filterText:u,range:d,command:L}}}(bi||(bi={})),function(r){r.create=function l(c){return{items:c}}}(vi||(vi={})),function(r){r.create=function l(c,u){return{range:c,text:u}}}(Se||(Se={})),function(r){r.create=function l(c,u){return{triggerKind:c,selectedCompletionInfo:u}}}(m||(m={})),function(r){r.is=function l(c){const u=c;return R.objectLiteral(u)&&ht.is(u.uri)&&R.string(u.name)}}(v||(v={})),function(r){function d(L,q){if(L.length<=1)return L;const Ee=L.length/2|0,oe=L.slice(0,Ee),de=L.slice(Ee);d(oe,q),d(de,q);let Le=0,fe=0,ye=0;for(;Le<oe.length&&fe<de.length;)q(oe[Le],de[fe])<=0?L[ye++]=oe[Le++]:L[ye++]=de[fe++];for(;Le<oe.length;)L[ye++]=oe[Le++];for(;fe<de.length;)L[ye++]=de[fe++];return L}r.create=function l(L,q,Ee,oe){return new Y(L,q,Ee,oe)},r.is=function c(L){let q=L;return!!(R.defined(q)&&R.string(q.uri)&&(R.undefined(q.languageId)||R.string(q.languageId))&&R.uinteger(q.lineCount)&&R.func(q.getText)&&R.func(q.positionAt)&&R.func(q.offsetAt))},r.applyEdits=function u(L,q){let Ee=L.getText(),oe=d(q,(Le,fe)=>{let ye=Le.range.start.line-fe.range.start.line;return 0===ye?Le.range.start.character-fe.range.start.character:ye}),de=Ee.length;for(let Le=oe.length-1;Le>=0;Le--){let fe=oe[Le],ye=L.offsetAt(fe.range.start),Ne=L.offsetAt(fe.range.end);if(!(Ne<=de))throw new Error("Overlapping edit");Ee=Ee.substring(0,ye)+fe.newText+Ee.substring(Ne,Ee.length),de=ye}return Ee}}(V||(V={}));var R,Y=class{constructor(r,l,c,u){this._uri=r,this._languageId=l,this._version=c,this._content=u,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(r){if(r){let l=this.offsetAt(r.start),c=this.offsetAt(r.end);return this._content.substring(l,c)}return this._content}update(r,l){this._content=r.text,this._version=l,this._lineOffsets=void 0}getLineOffsets(){if(void 0===this._lineOffsets){let r=[],l=this._content,c=!0;for(let u=0;u<l.length;u++){c&&(r.push(u),c=!1);let d=l.charAt(u);c="\r"===d||"\n"===d,"\r"===d&&u+1<l.length&&"\n"===l.charAt(u+1)&&u++}c&&l.length>0&&r.push(l.length),this._lineOffsets=r}return this._lineOffsets}positionAt(r){r=Math.max(Math.min(r,this._content.length),0);let l=this.getLineOffsets(),c=0,u=l.length;if(0===u)return nt.create(0,r);for(;c<u;){let L=Math.floor((c+u)/2);l[L]>r?u=L:c=L+1}let d=c-1;return nt.create(d,r-l[d])}offsetAt(r){let l=this.getLineOffsets();if(r.line>=l.length)return this._content.length;if(r.line<0)return 0;let c=l[r.line];return Math.max(Math.min(c+r.character,r.line+1<l.length?l[r.line+1]:this._content.length),c)}get lineCount(){return this.getLineOffsets().length}};!function(r){const l=Object.prototype.toString;r.defined=function c(Ne){return typeof Ne<"u"},r.undefined=function u(Ne){return typeof Ne>"u"},r.boolean=function d(Ne){return!0===Ne||!1===Ne},r.string=function L(Ne){return"[object String]"===l.call(Ne)},r.number=function q(Ne){return"[object Number]"===l.call(Ne)},r.numberRange=function Ee(Ne,Me,He){return"[object Number]"===l.call(Ne)&&Me<=Ne&&Ne<=He},r.integer=function oe(Ne){return"[object Number]"===l.call(Ne)&&-2147483648<=Ne&&Ne<=2147483647},r.uinteger=function de(Ne){return"[object Number]"===l.call(Ne)&&0<=Ne&&Ne<=2147483647},r.func=function Le(Ne){return"[object Function]"===l.call(Ne)},r.objectLiteral=function fe(Ne){return null!==Ne&&"object"==typeof Ne},r.typedArray=function ye(Ne,Me){return Array.isArray(Ne)&&Ne.every(Me)}}(R||(R={}));var we,ve=class fs{constructor(l,c,u,d){this._uri=l,this._languageId=c,this._version=u,this._content=d,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(l){if(l){const c=this.offsetAt(l.start),u=this.offsetAt(l.end);return this._content.substring(c,u)}return this._content}update(l,c){for(let u of l)if(fs.isIncremental(u)){const d=Ge(u.range),L=this.offsetAt(d.start),q=this.offsetAt(d.end);this._content=this._content.substring(0,L)+u.text+this._content.substring(q,this._content.length);const Ee=Math.max(d.start.line,0),oe=Math.max(d.end.line,0);let de=this._lineOffsets;const Le=Te(u.text,!1,L);if(oe-Ee===Le.length)for(let ye=0,Ne=Le.length;ye<Ne;ye++)de[ye+Ee+1]=Le[ye];else Le.length<1e4?de.splice(Ee+1,oe-Ee,...Le):this._lineOffsets=de=de.slice(0,Ee+1).concat(Le,de.slice(oe+1));const fe=u.text.length-(q-L);if(0!==fe)for(let ye=Ee+1+Le.length,Ne=de.length;ye<Ne;ye++)de[ye]=de[ye]+fe}else{if(!fs.isFull(u))throw new Error("Unknown change event received");this._content=u.text,this._lineOffsets=void 0}this._version=c}getLineOffsets(){return void 0===this._lineOffsets&&(this._lineOffsets=Te(this._content,!0)),this._lineOffsets}positionAt(l){l=Math.max(Math.min(l,this._content.length),0);let c=this.getLineOffsets(),u=0,d=c.length;if(0===d)return{line:0,character:l};for(;u<d;){let q=Math.floor((u+d)/2);c[q]>l?d=q:u=q+1}let L=u-1;return{line:L,character:l-c[L]}}offsetAt(l){let c=this.getLineOffsets();if(l.line>=c.length)return this._content.length;if(l.line<0)return 0;let u=c[l.line];return Math.max(Math.min(u+l.character,l.line+1<c.length?c[l.line+1]:this._content.length),u)}get lineCount(){return this.getLineOffsets().length}static isIncremental(l){return null!=l&&"string"==typeof l.text&&void 0!==l.range&&(void 0===l.rangeLength||"number"==typeof l.rangeLength)}static isFull(l){return null!=l&&"string"==typeof l.text&&void 0===l.range&&void 0===l.rangeLength}};function ke(r,l){if(r.length<=1)return r;const c=r.length/2|0,u=r.slice(0,c),d=r.slice(c);ke(u,l),ke(d,l);let L=0,q=0,Ee=0;for(;L<u.length&&q<d.length;)l(u[L],d[q])<=0?r[Ee++]=u[L++]:r[Ee++]=d[q++];for(;L<u.length;)r[Ee++]=u[L++];for(;q<d.length;)r[Ee++]=d[q++];return r}function Te(r,l,c=0){const u=l?[c]:[];for(let d=0;d<r.length;d++){let L=r.charCodeAt(d);(13===L||10===L)&&(13===L&&d+1<r.length&&10===r.charCodeAt(d+1)&&d++,u.push(c+d+1))}return u}function Ge(r){const l=r.start,c=r.end;return l.line>c.line||l.line===c.line&&l.character>c.character?{start:c,end:l}:r}function qe(r){const l=Ge(r.range);return l!==r.range?{newText:r.newText,range:l}:r}!function(r){r.create=function l(d,L,q,Ee){return new ve(d,L,q,Ee)},r.update=function c(d,L,q){if(d instanceof ve)return d.update(L,q),d;throw new Error("TextDocument.update: document must be created by TextDocument.create")},r.applyEdits=function u(d,L){let q=d.getText(),Ee=ke(L.map(qe),(Le,fe)=>{let ye=Le.range.start.line-fe.range.start.line;return 0===ye?Le.range.start.character-fe.range.start.character:ye}),oe=0;const de=[];for(const Le of Ee){let fe=d.offsetAt(Le.range.start);if(fe<oe)throw new Error("Overlapping edit");fe>oe&&de.push(q.substring(oe,fe)),Le.newText.length&&de.push(Le.newText),oe=d.offsetAt(Le.range.end)}return de.push(q.substr(oe)),de.join("")}}(we||(we={}));var ct,gt,Ve=function(r){return r[r.Undefined=0]="Undefined",r[r.EnumValueMismatch=1]="EnumValueMismatch",r[r.Deprecated=2]="Deprecated",r[r.UnexpectedEndOfComment=257]="UnexpectedEndOfComment",r[r.UnexpectedEndOfString=258]="UnexpectedEndOfString",r[r.UnexpectedEndOfNumber=259]="UnexpectedEndOfNumber",r[r.InvalidUnicode=260]="InvalidUnicode",r[r.InvalidEscapeCharacter=261]="InvalidEscapeCharacter",r[r.InvalidCharacter=262]="InvalidCharacter",r[r.PropertyExpected=513]="PropertyExpected",r[r.CommaExpected=514]="CommaExpected",r[r.ColonExpected=515]="ColonExpected",r[r.ValueExpected=516]="ValueExpected",r[r.CommaOrCloseBacketExpected=517]="CommaOrCloseBacketExpected",r[r.CommaOrCloseBraceExpected=518]="CommaOrCloseBraceExpected",r[r.TrailingComma=519]="TrailingComma",r[r.DuplicateKey=520]="DuplicateKey",r[r.CommentNotPermitted=521]="CommentNotPermitted",r[r.PropertyKeysMustBeDoublequoted=528]="PropertyKeysMustBeDoublequoted",r[r.SchemaResolveError=768]="SchemaResolveError",r[r.SchemaUnsupportedFeature=769]="SchemaUnsupportedFeature",r}(Ve||{}),tt=function(r){return r[r.v3=3]="v3",r[r.v4=4]="v4",r[r.v6=6]="v6",r[r.v7=7]="v7",r[r.v2019_09=19]="v2019_09",r[r.v2020_12=20]="v2020_12",r}(tt||{});function Pe(...r){const l=r[0];let c,u,d;if("string"==typeof l)c=l,u=l,r.splice(0,1),d=r&&"object"==typeof r[0]?r[0]:r;else{if(l instanceof Array){const q=r.slice(1);if(l.length!==q.length+1)throw new Error("expected a string as the first argument to l10n.t");let Ee=l[0];for(let oe=1;oe<l.length;oe++)Ee+=`{${oe-1}}`+l[oe];return Pe(Ee,...q)}u=l.message,c=u,l.comment&&l.comment.length>0&&(c+=`/${Array.isArray(l.comment)?l.comment.join(""):l.comment}`),d=l.args??{}}const L=gt?.[c];return function Nt(r,l){return 0===Object.keys(l).length?r:r.replace(Tt,(c,u)=>l[u]??c)}(L?"string"==typeof L?L:L.comment?L.message:u:u,d)}!function(r){r.LATEST={textDocument:{completion:{completionItem:{documentationFormat:[Gt.Markdown,Gt.PlainText],commitCharactersSupport:!0,labelDetailsSupport:!0}}}}}(ct||(ct={}));var Tt=/{([^}]+)}/g;var yt={"color-hex":{errorMessage:Pe("Invalid color format. Use #RGB, #RGBA, #RRGGBB or #RRGGBBAA."),pattern:/^#([0-9A-Fa-f]{3,4}|([0-9A-Fa-f]{2}){3,4})$/},"date-time":{errorMessage:Pe("String is not a RFC3339 date-time."),pattern:/^(\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\.[0-9]+)?(Z|(\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))$/i},date:{errorMessage:Pe("String is not a RFC3339 date."),pattern:/^(\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$/i},time:{errorMessage:Pe("String is not a RFC3339 time."),pattern:/^([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\.[0-9]+)?(Z|(\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))$/i},email:{errorMessage:Pe("String is not an e-mail address."),pattern:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z0-9-]+\.)+[a-zA-Z]{2,}))$/},hostname:{errorMessage:Pe("String is not a hostname."),pattern:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i},ipv4:{errorMessage:Pe("String is not an IPv4 address."),pattern:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/},ipv6:{errorMessage:Pe("String is not an IPv6 address."),pattern:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i}},Dt=class{constructor(r,l,c=0){this.offset=l,this.length=c,this.parent=r}get children(){return[]}toString(){return"type: "+this.type+" ("+this.offset+"/"+this.length+")"+(this.parent?" parent: {"+this.parent.toString()+"}":"")}},At=class extends Dt{constructor(r,l){super(r,l),this.type="null",this.value=null}},Wt=class extends Dt{constructor(r,l,c){super(r,c),this.type="boolean",this.value=l}},zt=class extends Dt{constructor(r,l){super(r,l),this.type="array",this.items=[]}get children(){return this.items}},Bt=class extends Dt{constructor(r,l){super(r,l),this.type="number",this.isInteger=!0,this.value=Number.NaN}},Cn=class extends Dt{constructor(r,l,c){super(r,l,c),this.type="string",this.value=""}},wn=class extends Dt{constructor(r,l,c){super(r,l),this.type="property",this.colonOffset=-1,this.keyNode=c}get children(){return this.valueNode?[this.keyNode,this.valueNode]:[this.keyNode]}},dn=class extends Dt{constructor(r,l){super(r,l),this.type="object",this.properties=[]}get children(){return this.properties}};function Pt(r){return P(r)?r?{}:{not:{}}:r}var Rr={"http://json-schema.org/draft-03/schema#":tt.v3,"http://json-schema.org/draft-04/schema#":tt.v4,"http://json-schema.org/draft-06/schema#":tt.v6,"http://json-schema.org/draft-07/schema#":tt.v7,"https://json-schema.org/draft/2019-09/schema":tt.v2019_09,"https://json-schema.org/draft/2020-12/schema":tt.v2020_12},qi=class{constructor(r){this.schemaDraft=r}},Or=class Is{constructor(l=-1,c){this.focusOffset=l,this.exclude=c,this.schemas=[]}add(l){this.schemas.push(l)}merge(l){Array.prototype.push.apply(this.schemas,l.schemas)}include(l){return(-1===this.focusOffset||ar(l,this.focusOffset))&&l!==this.exclude}newSub(){return new Is(-1,this.exclude)}},Ui=class{constructor(){}get schemas(){return[]}add(r){}merge(r){}include(r){return!0}newSub(){return this}};Ui.instance=new Ui;var Wn=class{constructor(){this.problems=[],this.propertiesMatches=0,this.processedProperties=new Set,this.propertiesValueMatches=0,this.primaryValueMatches=0,this.enumValueMatch=!1,this.enumValues=void 0}hasProblems(){return!!this.problems.length}merge(r){this.problems=this.problems.concat(r.problems),this.propertiesMatches+=r.propertiesMatches,this.propertiesValueMatches+=r.propertiesValueMatches,this.mergeProcessedProperties(r)}mergeEnumValues(r){if(!this.enumValueMatch&&!r.enumValueMatch&&this.enumValues&&r.enumValues){this.enumValues=this.enumValues.concat(r.enumValues);for(const l of this.problems)l.code===Ve.EnumValueMismatch&&(l.message=Pe("Value is not accepted. Valid values: {0}.",this.enumValues.map(c=>JSON.stringify(c)).join(", ")))}}mergePropertyMatch(r){this.problems=this.problems.concat(r.problems),this.propertiesMatches++,(r.enumValueMatch||!r.hasProblems()&&r.propertiesMatches)&&this.propertiesValueMatches++,r.enumValueMatch&&r.enumValues&&1===r.enumValues.length&&this.primaryValueMatches++}mergeProcessedProperties(r){r.processedProperties.forEach(l=>this.processedProperties.add(l))}compare(r){const l=this.hasProblems();return l!==r.hasProblems()?l?-1:1:this.enumValueMatch!==r.enumValueMatch?r.enumValueMatch?-1:1:this.primaryValueMatches!==r.primaryValueMatches?this.primaryValueMatches-r.primaryValueMatches:this.propertiesValueMatches!==r.propertiesValueMatches?this.propertiesValueMatches-r.propertiesValueMatches:this.propertiesMatches-r.propertiesMatches}};function ai(r){return he(r)}function mi(r){return ee(r)}function ar(r,l,c=!1){return l>=r.offset&&l<r.offset+r.length||c&&l===r.offset+r.length}var lr=class{constructor(r,l=[],c=[]){this.root=r,this.syntaxErrors=l,this.comments=c}getNodeFromOffset(r,l=!1){if(this.root)return z(this.root,r,l)}visit(r){if(this.root){const l=c=>{let u=r(c);const d=c.children;if(Array.isArray(d))for(let L=0;L<d.length&&u;L++)u=l(d[L]);return u};l(this.root)}}validate(r,l,c=_t.Warning,u){if(this.root&&l){const d=new Wn;return Un(this.root,l,d,Ui.instance,new qi(u??Qi(l))),d.problems.map(L=>{const q=ot.create(r.positionAt(L.location.offset),r.positionAt(L.location.offset+L.location.length));return x.create(q,L.message,L.severity??c,L.code)})}}getMatchingSchemas(r,l=-1,c){if(this.root&&r){const u=new Or(l,c),d=Qi(r),L=new qi(d);return Un(this.root,r,new Wn,u,L),u.schemas}return[]}};function Qi(r,l=tt.v2020_12){let c=r.$schema;return c?Rr[c]??l:l}function Un(r,l,c,u,d){if(!r||!u.include(r))return;if("property"===r.type)return Un(r.valueNode,l,c,u,d);const L=r;switch(function q(){function fe(at){return L.type===at||"integer"===at&&"number"===L.type&&L.isInteger}if(Array.isArray(l.type)?l.type.some(fe)||c.problems.push({location:{offset:L.offset,length:L.length},message:l.errorMessage||Pe("Incorrect type. Expected one of {0}.",l.type.join(", "))}):l.type&&(fe(l.type)||c.problems.push({location:{offset:L.offset,length:L.length},message:l.errorMessage||Pe('Incorrect type. Expected "{0}".',l.type)})),Array.isArray(l.allOf))for(const at of l.allOf){const $e=new Wn,lt=u.newSub();Un(L,Pt(at),$e,lt,d),c.merge($e),u.merge(lt)}const ye=Pt(l.not);if(ye){const at=new Wn,$e=u.newSub();Un(L,ye,at,$e,d),at.hasProblems()||c.problems.push({location:{offset:L.offset,length:L.length},message:l.errorMessage||Pe("Matches a schema that is not allowed.")});for(const lt of $e.schemas)lt.inverted=!lt.inverted,u.add(lt)}const Ne=(at,$e)=>{const lt=[];let Qe;for(const xt of at){const bt=Pt(xt),Rt=new Wn,jt=u.newSub();if(Un(L,bt,Rt,jt,d),Rt.hasProblems()||lt.push(bt),Qe)if($e||Rt.hasProblems()||Qe.validationResult.hasProblems()){const Yt=Rt.compare(Qe.validationResult);Yt>0?Qe={schema:bt,validationResult:Rt,matchingSchemas:jt}:0===Yt&&(Qe.matchingSchemas.merge(jt),Qe.validationResult.mergeEnumValues(Rt))}else Qe.matchingSchemas.merge(jt),Qe.validationResult.propertiesMatches+=Rt.propertiesMatches,Qe.validationResult.propertiesValueMatches+=Rt.propertiesValueMatches,Qe.validationResult.mergeProcessedProperties(Rt);else Qe={schema:bt,validationResult:Rt,matchingSchemas:jt}}return lt.length>1&&$e&&c.problems.push({location:{offset:L.offset,length:1},message:Pe("Matches multiple schemas when only one must validate.")}),Qe&&(c.merge(Qe.validationResult),u.merge(Qe.matchingSchemas)),lt.length};Array.isArray(l.anyOf)&&Ne(l.anyOf,!1),Array.isArray(l.oneOf)&&Ne(l.oneOf,!0);const Me=at=>{const $e=new Wn,lt=u.newSub();Un(L,Pt(at),$e,lt,d),c.merge($e),u.merge(lt)},Ze=Pt(l.if);if(Ze&&((at,$e,lt)=>{const Qe=Pt(at),xt=new Wn,bt=u.newSub();Un(L,Qe,xt,bt,d),u.merge(bt),c.mergeProcessedProperties(xt),xt.hasProblems()?lt&&Me(lt):$e&&Me($e)})(Ze,Pt(l.then),Pt(l.else)),Array.isArray(l.enum)){const at=ai(L);let $e=!1;for(const lt of l.enum)if(ie(at,lt)){$e=!0;break}c.enumValues=l.enum,c.enumValueMatch=$e,$e||c.problems.push({location:{offset:L.offset,length:L.length},code:Ve.EnumValueMismatch,message:l.errorMessage||Pe("Value is not accepted. Valid values: {0}.",l.enum.map(lt=>JSON.stringify(lt)).join(", "))})}ce(l.const)&&(ie(ai(L),l.const)?c.enumValueMatch=!0:(c.problems.push({location:{offset:L.offset,length:L.length},code:Ve.EnumValueMismatch,message:l.errorMessage||Pe("Value must be {0}.",JSON.stringify(l.const))}),c.enumValueMatch=!1),c.enumValues=[l.const]);let ut=l.deprecationMessage;if(ut||l.deprecated){ut=ut||Pe("Value is deprecated");let at="property"===L.parent?.type?L.parent:L;c.problems.push({location:{offset:at.offset,length:at.length},severity:_t.Warning,message:ut,code:Ve.Deprecated})}}(),L.type){case"object":!function Le(fe){const ye=Object.create(null),Ne=new Set;for(const $e of fe.properties){const lt=$e.keyNode.value;ye[lt]=$e.valueNode,Ne.add(lt)}if(Array.isArray(l.required))for(const $e of l.required)if(!ye[$e]){const lt=fe.parent&&"property"===fe.parent.type&&fe.parent.keyNode;c.problems.push({location:lt?{offset:lt.offset,length:lt.length}:{offset:fe.offset,length:1},message:Pe('Missing property "{0}".',$e)})}const Me=$e=>{Ne.delete($e),c.processedProperties.add($e)};if(l.properties)for(const $e of Object.keys(l.properties)){Me($e);const lt=l.properties[$e],Qe=ye[$e];if(Qe)if(P(lt))if(lt)c.propertiesMatches++,c.propertiesValueMatches++;else{const xt=Qe.parent;c.problems.push({location:{offset:xt.keyNode.offset,length:xt.keyNode.length},message:l.errorMessage||Pe("Property {0} is not allowed.",$e)})}else{const xt=new Wn;Un(Qe,lt,xt,u,d),c.mergePropertyMatch(xt)}}if(l.patternProperties)for(const $e of Object.keys(l.patternProperties)){const lt=De($e);if(lt){const Qe=[];for(const xt of Ne)if(lt.test(xt)){Qe.push(xt);const bt=ye[xt];if(bt){const Rt=l.patternProperties[$e];if(P(Rt))if(Rt)c.propertiesMatches++,c.propertiesValueMatches++;else{const jt=bt.parent;c.problems.push({location:{offset:jt.keyNode.offset,length:jt.keyNode.length},message:l.errorMessage||Pe("Property {0} is not allowed.",xt)})}else{const jt=new Wn;Un(bt,Rt,jt,u,d),c.mergePropertyMatch(jt)}}}Qe.forEach(Me)}}const He=l.additionalProperties;if(void 0!==He)for(const $e of Ne){Me($e);const lt=ye[$e];if(lt)if(!1===He){const Qe=lt.parent;c.problems.push({location:{offset:Qe.keyNode.offset,length:Qe.keyNode.length},message:l.errorMessage||Pe("Property {0} is not allowed.",$e)})}else if(!0!==He){const Qe=new Wn;Un(lt,He,Qe,u,d),c.mergePropertyMatch(Qe)}}const Ze=l.unevaluatedProperties;if(void 0!==Ze){const $e=[];for(const lt of Ne)if(!c.processedProperties.has(lt)){$e.push(lt);const Qe=ye[lt];if(Qe)if(!1===Ze){const xt=Qe.parent;c.problems.push({location:{offset:xt.keyNode.offset,length:xt.keyNode.length},message:l.errorMessage||Pe("Property {0} is not allowed.",lt)})}else if(!0!==Ze){const xt=new Wn;Un(Qe,Ze,xt,u,d),c.mergePropertyMatch(xt)}}$e.forEach(Me)}if(Ae(l.maxProperties)&&fe.properties.length>l.maxProperties&&c.problems.push({location:{offset:fe.offset,length:fe.length},message:Pe("Object has more properties than limit of {0}.",l.maxProperties)}),Ae(l.minProperties)&&fe.properties.length<l.minProperties&&c.problems.push({location:{offset:fe.offset,length:fe.length},message:Pe("Object has fewer properties than the required number of {0}",l.minProperties)}),l.dependentRequired)for(const $e in l.dependentRequired){const Qe=l.dependentRequired[$e];ye[$e]&&Array.isArray(Qe)&&at($e,Qe)}if(l.dependentSchemas)for(const $e in l.dependentSchemas){const Qe=l.dependentSchemas[$e];ye[$e]&&le(Qe)&&at($e,Qe)}if(l.dependencies)for(const $e in l.dependencies)ye[$e]&&at($e,l.dependencies[$e]);const ut=Pt(l.propertyNames);if(ut)for(const $e of fe.properties){const lt=$e.keyNode;lt&&Un(lt,ut,c,Ui.instance,d)}function at($e,lt){if(Array.isArray(lt))for(const Qe of lt)ye[Qe]?c.propertiesValueMatches++:c.problems.push({location:{offset:fe.offset,length:fe.length},message:Pe("Object is missing property {0} required by property {1}.",Qe,$e)});else{const Qe=Pt(lt);if(Qe){const xt=new Wn;Un(fe,Qe,xt,u,d),c.mergePropertyMatch(xt)}}}}(L);break;case"array":!function de(fe){let ye,Ne;d.schemaDraft>=tt.v2020_12?(ye=l.prefixItems,Ne=Array.isArray(l.items)?void 0:l.items):(ye=Array.isArray(l.items)?l.items:void 0,Ne=Array.isArray(l.items)?l.additionalItems:l.items);let Me=0;if(void 0!==ye){const ut=Math.min(ye.length,fe.items.length);for(;Me<ut;Me++){const $e=Pt(ye[Me]),lt=new Wn,Qe=fe.items[Me];Qe&&(Un(Qe,$e,lt,u,d),c.mergePropertyMatch(lt)),c.processedProperties.add(String(Me))}}if(void 0!==Ne&&Me<fe.items.length)if("boolean"==typeof Ne)for(!1===Ne&&c.problems.push({location:{offset:fe.offset,length:fe.length},message:Pe("Array has too many items according to schema. Expected {0} or fewer.",Me)});Me<fe.items.length;Me++)c.processedProperties.add(String(Me)),c.propertiesValueMatches++;else for(;Me<fe.items.length;Me++){const ut=new Wn;Un(fe.items[Me],Ne,ut,u,d),c.mergePropertyMatch(ut),c.processedProperties.add(String(Me))}const He=Pt(l.contains);if(He){let ut=0;for(let at=0;at<fe.items.length;at++){const $e=fe.items[at],lt=new Wn;Un($e,He,lt,Ui.instance,d),lt.hasProblems()||(ut++,d.schemaDraft>=tt.v2020_12&&c.processedProperties.add(String(at)))}0===ut&&!Ae(l.minContains)&&c.problems.push({location:{offset:fe.offset,length:fe.length},message:l.errorMessage||Pe("Array does not contain required item.")}),Ae(l.minContains)&&ut<l.minContains&&c.problems.push({location:{offset:fe.offset,length:fe.length},message:l.errorMessage||Pe("Array has too few items that match the contains contraint. Expected {0} or more.",l.minContains)}),Ae(l.maxContains)&&ut>l.maxContains&&c.problems.push({location:{offset:fe.offset,length:fe.length},message:l.errorMessage||Pe("Array has too many items that match the contains contraint. Expected {0} or less.",l.maxContains)})}const Ze=l.unevaluatedItems;if(void 0!==Ze)for(let ut=0;ut<fe.items.length;ut++){if(!c.processedProperties.has(String(ut)))if(!1===Ze)c.problems.push({location:{offset:fe.offset,length:fe.length},message:Pe("Item does not match any validation rule from the array.")});else{const at=new Wn;Un(fe.items[ut],l.unevaluatedItems,at,u,d),c.mergePropertyMatch(at)}c.processedProperties.add(String(ut)),c.propertiesValueMatches++}if(Ae(l.minItems)&&fe.items.length<l.minItems&&c.problems.push({location:{offset:fe.offset,length:fe.length},message:Pe("Array has too few items. Expected {0} or more.",l.minItems)}),Ae(l.maxItems)&&fe.items.length>l.maxItems&&c.problems.push({location:{offset:fe.offset,length:fe.length},message:Pe("Array has too many items. Expected {0} or fewer.",l.maxItems)}),!0===l.uniqueItems){let ut=function(){for(let $e=0;$e<at.length-1;$e++){const lt=at[$e];for(let Qe=$e+1;Qe<at.length;Qe++)if(ie(lt,at[Qe]))return!0}return!1};const at=ai(fe);ut()&&c.problems.push({location:{offset:fe.offset,length:fe.length},message:Pe("Array has duplicate items.")})}}(L);break;case"string":!function oe(fe){if(Ae(l.minLength)&&ze(fe.value)<l.minLength&&c.problems.push({location:{offset:fe.offset,length:fe.length},message:Pe("String is shorter than the minimum length of {0}.",l.minLength)}),Ae(l.maxLength)&&ze(fe.value)>l.maxLength&&c.problems.push({location:{offset:fe.offset,length:fe.length},message:Pe("String is longer than the maximum length of {0}.",l.maxLength)}),J(l.pattern)&&(De(l.pattern)?.test(fe.value)||c.problems.push({location:{offset:fe.offset,length:fe.length},message:l.patternErrorMessage||l.errorMessage||Pe('String does not match the pattern of "{0}".',l.pattern)})),l.format)switch(l.format){case"uri":case"uri-reference":{let Ne;if(fe.value){const Me=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/.exec(fe.value);Me?!Me[2]&&"uri"===l.format&&(Ne=Pe("URI with a scheme is expected.")):Ne=Pe("URI is expected.")}else Ne=Pe("URI expected.");Ne&&c.problems.push({location:{offset:fe.offset,length:fe.length},message:l.patternErrorMessage||l.errorMessage||Pe("String is not a URI: {0}",Ne)})}break;case"color-hex":case"date-time":case"date":case"time":case"email":case"hostname":case"ipv4":case"ipv6":const ye=yt[l.format];(!fe.value||!ye.pattern.exec(fe.value))&&c.problems.push({location:{offset:fe.offset,length:fe.length},message:l.patternErrorMessage||l.errorMessage||ye.errorMessage})}}(L);break;case"number":!function Ee(fe){const ye=fe.value;function Ne(lt){const Qe=/^(-?\d+)(?:\.(\d+))?(?:e([-+]\d+))?$/.exec(lt.toString());return Qe&&{value:Number(Qe[1]+(Qe[2]||"")),multiplier:(Qe[2]?.length||0)-(parseInt(Qe[3])||0)}}if(Ae(l.multipleOf)){let lt=-1;if(Number.isInteger(l.multipleOf))lt=ye%l.multipleOf;else{let Qe=Ne(l.multipleOf),xt=Ne(ye);if(Qe&&xt){const bt=10**Math.abs(xt.multiplier-Qe.multiplier);xt.multiplier<Qe.multiplier?xt.value*=bt:Qe.value*=bt,lt=xt.value%Qe.value}}0!==lt&&c.problems.push({location:{offset:fe.offset,length:fe.length},message:Pe("Value is not divisible by {0}.",l.multipleOf)})}function Me(lt,Qe){return Ae(Qe)?Qe:P(Qe)&&Qe?lt:void 0}function He(lt,Qe){if(!P(Qe)||!Qe)return lt}const Ze=Me(l.minimum,l.exclusiveMinimum);Ae(Ze)&&ye<=Ze&&c.problems.push({location:{offset:fe.offset,length:fe.length},message:Pe("Value is below the exclusive minimum of {0}.",Ze)});const ut=Me(l.maximum,l.exclusiveMaximum);Ae(ut)&&ye>=ut&&c.problems.push({location:{offset:fe.offset,length:fe.length},message:Pe("Value is above the exclusive maximum of {0}.",ut)});const at=He(l.minimum,l.exclusiveMinimum);Ae(at)&&ye<at&&c.problems.push({location:{offset:fe.offset,length:fe.length},message:Pe("Value is below the minimum of {0}.",at)});const $e=He(l.maximum,l.exclusiveMaximum);Ae($e)&&ye>$e&&c.problems.push({location:{offset:fe.offset,length:fe.length},message:Pe("Value is above the maximum of {0}.",$e)})}(L)}u.add({node:L,schema:l})}function An(r,l,c){if(null!==r&&"object"==typeof r){const u=l+"\t";if(Array.isArray(r)){if(0===r.length)return"[]";let d="[\n";for(let L=0;L<r.length;L++)d+=u+An(r[L],u,c),L<r.length-1&&(d+=","),d+="\n";return d+=l+"]",d}{const d=Object.keys(r);if(0===d.length)return"{}";let L="{\n";for(let q=0;q<d.length;q++){const Ee=d[q];L+=u+JSON.stringify(Ee)+": "+An(r[Ee],u,c),q<d.length-1&&(L+=","),L+="\n"}return L+=l+"}",L}}return c(r)}var Fr=class{constructor(r,l=[],c=Promise,u={}){this.schemaService=r,this.contributions=l,this.promiseConstructor=c,this.clientCapabilities=u}doResolve(r){for(let l=this.contributions.length-1;l>=0;l--){const c=this.contributions[l].resolveCompletion;if(c){const u=c(r);if(u)return u}}return this.promiseConstructor.resolve(r)}doComplete(r,l,c){const u={items:[],isIncomplete:!1},d=r.getText(),L=r.offsetAt(l);let q=c.getNodeFromOffset(L,!0);if(this.isInComment(r,q?q.offset:0,L))return Promise.resolve(u);if(q&&L===q.offset+q.length&&L>0){const ye=d[L-1];("object"===q.type&&"}"===ye||"array"===q.type&&"]"===ye)&&(q=q.parent)}const Ee=this.getCurrentWord(r,L);let oe;if(!q||"string"!==q.type&&"number"!==q.type&&"boolean"!==q.type&&"null"!==q.type){let ye=L-Ee.length;ye>0&&'"'===d[ye-1]&&ye--,oe=ot.create(r.positionAt(ye),l)}else oe=ot.create(r.positionAt(q.offset),r.positionAt(q.offset+q.length));const Le=new Map,fe={add:ye=>{let Ne=ye.label;const Me=Le.get(Ne);if(Me)Me.documentation||(Me.documentation=ye.documentation),Me.detail||(Me.detail=ye.detail),Me.labelDetails||(Me.labelDetails=ye.labelDetails);else{if(Ne=Ne.replace(/[\n]/g,"\u21b5"),Ne.length>60){const He=Ne.substr(0,57).trim()+"...";Le.has(He)||(Ne=He)}ye.textEdit=je.replace(oe,ye.insertText),ye.label=Ne,Le.set(Ne,ye),u.items.push(ye)}},setAsIncomplete:()=>{u.isIncomplete=!0},error:ye=>{console.error(ye)},getNumberOfProposals:()=>u.items.length};return this.schemaService.getSchemaForResource(r.uri,c).then(ye=>{const Ne=[];let Ze,Me=!0,He="";if(q&&"string"===q.type){const at=q.parent;at&&"property"===at.type&&at.keyNode===q&&(Me=!at.valueNode,Ze=at,He=d.substr(q.offset+1,q.length-2),at&&(q=at.parent))}if(q&&"object"===q.type){if(q.offset===L)return u;q.properties.forEach(Qe=>{(!Ze||Ze!==Qe)&&Le.set(Qe.keyNode.value,Ai.create("__"))});let $e="";Me&&($e=this.evaluateSeparatorAfter(r,r.offsetAt(oe.end))),ye?this.getPropertyCompletions(ye,c,q,Me,$e,fe):this.getSchemaLessPropertyCompletions(c,q,He,fe);const lt=mi(q);this.contributions.forEach(Qe=>{const xt=Qe.collectPropertyCompletions(r.uri,lt,Ee,Me,""===$e,fe);xt&&Ne.push(xt)}),!ye&&Ee.length>0&&'"'!==d.charAt(L-Ee.length-1)&&(fe.add({kind:_n.Property,label:this.getLabelForValue(Ee),insertText:this.getInsertTextForProperty(Ee,void 0,!1,$e),insertTextFormat:xn.Snippet,documentation:""}),fe.setAsIncomplete())}const ut={};return ye?this.getValueCompletions(ye,c,q,L,r,fe,ut):this.getSchemaLessValueCompletions(c,q,L,r,fe),this.contributions.length>0&&this.getContributedValueCompletions(c,q,L,r,fe,Ne),this.promiseConstructor.all(Ne).then(()=>{if(0===fe.getNumberOfProposals()){let at=L;q&&("string"===q.type||"number"===q.type||"boolean"===q.type||"null"===q.type)&&(at=q.offset+q.length);const $e=this.evaluateSeparatorAfter(r,at);this.addFillerValueCompletions(ut,$e,fe)}return u})})}getPropertyCompletions(r,l,c,u,d,L){l.getMatchingSchemas(r.schema,c.offset).forEach(Ee=>{if(Ee.node===c&&!Ee.inverted){const oe=Ee.schema.properties;oe&&Object.keys(oe).forEach(Le=>{const fe=oe[Le];if("object"==typeof fe&&!fe.deprecationMessage&&!fe.doNotSuggest){const ye={kind:_n.Property,label:Le,insertText:this.getInsertTextForProperty(Le,fe,u,d),insertTextFormat:xn.Snippet,filterText:this.getFilterTextForValue(Le),documentation:this.fromMarkup(fe.markdownDescription)||fe.description||""};void 0!==fe.suggestSortText&&(ye.sortText=fe.suggestSortText),ye.insertText&&xe(ye.insertText,`$1${d}`)&&(ye.command={title:"Suggest",command:"editor.action.triggerSuggest"}),L.add(ye)}});const de=Ee.schema.propertyNames;if("object"==typeof de&&!de.deprecationMessage&&!de.doNotSuggest){const Le=(fe,ye=void 0)=>{const Ne={kind:_n.Property,label:fe,insertText:this.getInsertTextForProperty(fe,void 0,u,d),insertTextFormat:xn.Snippet,filterText:this.getFilterTextForValue(fe),documentation:ye||this.fromMarkup(de.markdownDescription)||de.description||""};void 0!==de.suggestSortText&&(Ne.sortText=de.suggestSortText),Ne.insertText&&xe(Ne.insertText,`$1${d}`)&&(Ne.command={title:"Suggest",command:"editor.action.triggerSuggest"}),L.add(Ne)};if(de.enum)for(let fe=0;fe<de.enum.length;fe++){let ye;de.markdownEnumDescriptions&&fe<de.markdownEnumDescriptions.length?ye=this.fromMarkup(de.markdownEnumDescriptions[fe]):de.enumDescriptions&&fe<de.enumDescriptions.length&&(ye=de.enumDescriptions[fe]),Le(de.enum[fe],ye)}de.const&&Le(de.const)}}})}getSchemaLessPropertyCompletions(r,l,c,u){const d=L=>{L.properties.forEach(q=>{const Ee=q.keyNode.value;u.add({kind:_n.Property,label:Ee,insertText:this.getInsertTextForValue(Ee,""),insertTextFormat:xn.Snippet,filterText:this.getFilterTextForValue(Ee),documentation:""})})};if(l.parent)if("property"===l.parent.type){const L=l.parent.keyNode.value;r.visit(q=>("property"===q.type&&q!==l.parent&&q.keyNode.value===L&&q.valueNode&&"object"===q.valueNode.type&&d(q.valueNode),!0))}else"array"===l.parent.type&&l.parent.items.forEach(L=>{"object"===L.type&&L!==l&&d(L)});else"object"===l.type&&u.add({kind:_n.Property,label:"$schema",insertText:this.getInsertTextForProperty("$schema",void 0,!0,""),insertTextFormat:xn.Snippet,documentation:"",filterText:this.getFilterTextForValue("$schema")})}getSchemaLessValueCompletions(r,l,c,u,d){let L=c;if(l&&("string"===l.type||"number"===l.type||"boolean"===l.type||"null"===l.type)&&(L=l.offset+l.length,l=l.parent),!l)return d.add({kind:this.getSuggestionKind("object"),label:"Empty object",insertText:this.getInsertTextForValue({},""),insertTextFormat:xn.Snippet,documentation:""}),void d.add({kind:this.getSuggestionKind("array"),label:"Empty array",insertText:this.getInsertTextForValue([],""),insertTextFormat:xn.Snippet,documentation:""});const q=this.evaluateSeparatorAfter(u,L),Ee=oe=>{oe.parent&&!ar(oe.parent,c,!0)&&d.add({kind:this.getSuggestionKind(oe.type),label:this.getLabelTextForMatchingNode(oe,u),insertText:this.getInsertTextForMatchingNode(oe,u,q),insertTextFormat:xn.Snippet,documentation:""}),"boolean"===oe.type&&this.addBooleanValueCompletion(!oe.value,q,d)};if("property"===l.type&&c>(l.colonOffset||0)){const oe=l.valueNode;if(oe&&(c>oe.offset+oe.length||"object"===oe.type||"array"===oe.type))return;const de=l.keyNode.value;r.visit(Le=>("property"===Le.type&&Le.keyNode.value===de&&Le.valueNode&&Ee(Le.valueNode),!0)),"$schema"===de&&l.parent&&!l.parent.parent&&this.addDollarSchemaCompletions(q,d)}if("array"===l.type)if(l.parent&&"property"===l.parent.type){const oe=l.parent.keyNode.value;r.visit(de=>("property"===de.type&&de.keyNode.value===oe&&de.valueNode&&"array"===de.valueNode.type&&de.valueNode.items.forEach(Ee),!0))}else l.items.forEach(Ee)}getValueCompletions(r,l,c,u,d,L,q){let oe,de,Ee=u;if(c&&("string"===c.type||"number"===c.type||"boolean"===c.type||"null"===c.type)&&(Ee=c.offset+c.length,de=c,c=c.parent),c){if("property"===c.type&&u>(c.colonOffset||0)){const Le=c.valueNode;if(Le&&u>Le.offset+Le.length)return;oe=c.keyNode.value,c=c.parent}if(c&&(void 0!==oe||"array"===c.type)){const Le=this.evaluateSeparatorAfter(d,Ee),fe=l.getMatchingSchemas(r.schema,c.offset,de);for(const ye of fe)if(ye.node===c&&!ye.inverted&&ye.schema){if("array"===c.type&&ye.schema.items){let Ne=L;if(ye.schema.uniqueItems){const Me=new Set;c.children.forEach(He=>{"array"!==He.type&&"object"!==He.type&&Me.add(this.getLabelForValue(ai(He)))}),Ne={...L,add(He){Me.has(He.label)||L.add(He)}}}if(Array.isArray(ye.schema.items)){const Me=this.findItemAtOffset(c,d,u);Me<ye.schema.items.length&&this.addSchemaValueCompletions(ye.schema.items[Me],Le,Ne,q)}else this.addSchemaValueCompletions(ye.schema.items,Le,Ne,q)}if(void 0!==oe){let Ne=!1;if(ye.schema.properties){const Me=ye.schema.properties[oe];Me&&(Ne=!0,this.addSchemaValueCompletions(Me,Le,L,q))}if(ye.schema.patternProperties&&!Ne)for(const Me of Object.keys(ye.schema.patternProperties))De(Me)?.test(oe)&&(Ne=!0,this.addSchemaValueCompletions(ye.schema.patternProperties[Me],Le,L,q));ye.schema.additionalProperties&&!Ne&&this.addSchemaValueCompletions(ye.schema.additionalProperties,Le,L,q)}}"$schema"===oe&&!c.parent&&this.addDollarSchemaCompletions(Le,L),q.boolean&&(this.addBooleanValueCompletion(!0,Le,L),this.addBooleanValueCompletion(!1,Le,L)),q.null&&this.addNullValueCompletion(Le,L)}}else this.addSchemaValueCompletions(r.schema,"",L,q)}getContributedValueCompletions(r,l,c,u,d,L){if(l){if(("string"===l.type||"number"===l.type||"boolean"===l.type||"null"===l.type)&&(l=l.parent),l&&"property"===l.type&&c>(l.colonOffset||0)){const q=l.keyNode.value,Ee=l.valueNode;if((!Ee||c<=Ee.offset+Ee.length)&&l.parent){const oe=mi(l.parent);this.contributions.forEach(de=>{const Le=de.collectValueCompletions(u.uri,oe,q,d);Le&&L.push(Le)})}}}else this.contributions.forEach(q=>{const Ee=q.collectDefaultCompletions(u.uri,d);Ee&&L.push(Ee)})}addSchemaValueCompletions(r,l,c,u){"object"==typeof r&&(this.addEnumValueCompletions(r,l,c),this.addDefaultValueCompletions(r,l,c),this.collectTypes(r,u),Array.isArray(r.allOf)&&r.allOf.forEach(d=>this.addSchemaValueCompletions(d,l,c,u)),Array.isArray(r.anyOf)&&r.anyOf.forEach(d=>this.addSchemaValueCompletions(d,l,c,u)),Array.isArray(r.oneOf)&&r.oneOf.forEach(d=>this.addSchemaValueCompletions(d,l,c,u)))}addDefaultValueCompletions(r,l,c,u=0){let d=!1;if(ce(r.default)){let L=r.type,q=r.default;for(let oe=u;oe>0;oe--)q=[q],L="array";const Ee={kind:this.getSuggestionKind(L),label:this.getLabelForValue(q),insertText:this.getInsertTextForValue(q,l),insertTextFormat:xn.Snippet};this.doesSupportsLabelDetails()?Ee.labelDetails={description:Pe("Default value")}:Ee.detail=Pe("Default value"),c.add(Ee),d=!0}Array.isArray(r.examples)&&r.examples.forEach(L=>{let q=r.type,Ee=L;for(let oe=u;oe>0;oe--)Ee=[Ee],q="array";c.add({kind:this.getSuggestionKind(q),label:this.getLabelForValue(Ee),insertText:this.getInsertTextForValue(Ee,l),insertTextFormat:xn.Snippet}),d=!0}),Array.isArray(r.defaultSnippets)&&r.defaultSnippets.forEach(L=>{let de,Le,q=r.type,Ee=L.body,oe=L.label;if(ce(Ee)){let fe=r.type;for(let ye=u;ye>0;ye--)Ee=[Ee],fe="array";de=this.getInsertTextForSnippetValue(Ee,l),Le=this.getFilterTextForSnippetValue(Ee),oe=oe||this.getLabelForSnippetValue(Ee)}else{if("string"!=typeof L.bodyText)return;{let fe="",ye="",Ne="";for(let Me=u;Me>0;Me--)fe=fe+Ne+"[\n",ye=ye+"\n"+Ne+"]",Ne+="\t",q="array";de=fe+Ne+L.bodyText.split("\n").join("\n"+Ne)+ye+l,oe=oe||de,Le=de.replace(/[\n]/g,"")}}c.add({kind:this.getSuggestionKind(q),label:oe,documentation:this.fromMarkup(L.markdownDescription)||L.description,insertText:de,insertTextFormat:xn.Snippet,filterText:Le}),d=!0}),!d&&"object"==typeof r.items&&!Array.isArray(r.items)&&u<5&&this.addDefaultValueCompletions(r.items,l,c,u+1)}addEnumValueCompletions(r,l,c){if(ce(r.const)&&c.add({kind:this.getSuggestionKind(r.type),label:this.getLabelForValue(r.const),insertText:this.getInsertTextForValue(r.const,l),insertTextFormat:xn.Snippet,documentation:this.fromMarkup(r.markdownDescription)||r.description}),Array.isArray(r.enum))for(let u=0,d=r.enum.length;u<d;u++){const L=r.enum[u];let q=this.fromMarkup(r.markdownDescription)||r.description;r.markdownEnumDescriptions&&u<r.markdownEnumDescriptions.length&&this.doesSupportMarkdown()?q=this.fromMarkup(r.markdownEnumDescriptions[u]):r.enumDescriptions&&u<r.enumDescriptions.length&&(q=r.enumDescriptions[u]),c.add({kind:this.getSuggestionKind(r.type),label:this.getLabelForValue(L),insertText:this.getInsertTextForValue(L,l),insertTextFormat:xn.Snippet,documentation:q})}}collectTypes(r,l){if(Array.isArray(r.enum)||ce(r.const))return;const c=r.type;Array.isArray(c)?c.forEach(u=>l[u]=!0):c&&(l[c]=!0)}addFillerValueCompletions(r,l,c){r.object&&c.add({kind:this.getSuggestionKind("object"),label:"{}",insertText:this.getInsertTextForGuessedValue({},l),insertTextFormat:xn.Snippet,detail:Pe("New object"),documentation:""}),r.array&&c.add({kind:this.getSuggestionKind("array"),label:"[]",insertText:this.getInsertTextForGuessedValue([],l),insertTextFormat:xn.Snippet,detail:Pe("New array"),documentation:""})}addBooleanValueCompletion(r,l,c){c.add({kind:this.getSuggestionKind("boolean"),label:r?"true":"false",insertText:this.getInsertTextForValue(r,l),insertTextFormat:xn.Snippet,documentation:""})}addNullValueCompletion(r,l){l.add({kind:this.getSuggestionKind("null"),label:"null",insertText:"null"+r,insertTextFormat:xn.Snippet,documentation:""})}addDollarSchemaCompletions(r,l){this.schemaService.getRegisteredSchemaIds(u=>"http"===u||"https"===u).forEach(u=>{u.startsWith("http://json-schema.org/draft-")&&(u+="#"),l.add({kind:_n.Module,label:this.getLabelForValue(u),filterText:this.getFilterTextForValue(u),insertText:this.getInsertTextForValue(u,r),insertTextFormat:xn.Snippet,documentation:""})})}getLabelForValue(r){return JSON.stringify(r)}getValueFromLabel(r){return JSON.parse(r)}getFilterTextForValue(r){return JSON.stringify(r)}getFilterTextForSnippetValue(r){return JSON.stringify(r).replace(/\$\{\d+:([^}]+)\}|\$\d+/g,"$1")}getLabelForSnippetValue(r){return JSON.stringify(r).replace(/\$\{\d+:([^}]+)\}|\$\d+/g,"$1")}getInsertTextForPlainText(r){return r.replace(/[\\\$\}]/g,"\\$&")}getInsertTextForValue(r,l){const c=JSON.stringify(r,null,"\t");return"{}"===c?"{$1}"+l:"[]"===c?"[$1]"+l:this.getInsertTextForPlainText(c+l)}getInsertTextForSnippetValue(r,l){return An(r,"",u=>"string"==typeof u&&"^"===u[0]?u.substr(1):JSON.stringify(u))+l}getInsertTextForGuessedValue(r,l){switch(typeof r){case"object":return null===r?"${1:null}"+l:this.getInsertTextForValue(r,l);case"string":let c=JSON.stringify(r);return c=c.substr(1,c.length-2),c=this.getInsertTextForPlainText(c),'"${1:'+c+'}"'+l;case"number":case"boolean":return"${1:"+JSON.stringify(r)+"}"+l}return this.getInsertTextForValue(r,l)}getSuggestionKind(r){if(Array.isArray(r)&&(r=r.length>0?r[0]:void 0),!r)return _n.Value;switch(r){case"string":default:return _n.Value;case"object":return _n.Module;case"property":return _n.Property}}getLabelTextForMatchingNode(r,l){switch(r.type){case"array":return"[]";case"object":return"{}";default:return l.getText().substr(r.offset,r.length)}}getInsertTextForMatchingNode(r,l,c){switch(r.type){case"array":return this.getInsertTextForValue([],c);case"object":return this.getInsertTextForValue({},c);default:const u=l.getText().substr(r.offset,r.length)+c;return this.getInsertTextForPlainText(u)}}getInsertTextForProperty(r,l,c,u){const d=this.getInsertTextForValue(r,"");if(!c)return d;const L=d+": ";let q,Ee=0;if(l){if(Array.isArray(l.defaultSnippets)){if(1===l.defaultSnippets.length){const oe=l.defaultSnippets[0].body;ce(oe)&&(q=this.getInsertTextForSnippetValue(oe,""))}Ee+=l.defaultSnippets.length}if(l.enum&&(!q&&1===l.enum.length&&(q=this.getInsertTextForGuessedValue(l.enum[0],"")),Ee+=l.enum.length),ce(l.const)&&(q||(q=this.getInsertTextForGuessedValue(l.const,"")),Ee++),ce(l.default)&&(q||(q=this.getInsertTextForGuessedValue(l.default,"")),Ee++),Array.isArray(l.examples)&&l.examples.length&&(q||(q=this.getInsertTextForGuessedValue(l.examples[0],"")),Ee+=l.examples.length),0===Ee){let oe=Array.isArray(l.type)?l.type[0]:l.type;switch(oe||(l.properties?oe="object":l.items&&(oe="array")),oe){case"boolean":q="$1";break;case"string":q='"$1"';break;case"object":q="{$1}";break;case"array":q="[$1]";break;case"number":case"integer":q="${1:0}";break;case"null":q="${1:null}";break;default:return d}}}return(!q||Ee>1)&&(q="$1"),L+q+u}getCurrentWord(r,l){let c=l-1;const u=r.getText();for(;c>=0&&-1===' \t\n\r\v":{[,]}'.indexOf(u.charAt(c));)c--;return u.substring(c+1,l)}evaluateSeparatorAfter(r,l){const c=y(r.getText(),!0);switch(c.setPosition(l),c.scan()){case 5:case 2:case 4:case 17:return"";default:return","}}findItemAtOffset(r,l,c){const u=y(l.getText(),!0),d=r.items;for(let L=d.length-1;L>=0;L--){const q=d[L];if(c>q.offset+q.length)return u.setPosition(q.offset+q.length),5===u.scan()&&c>=u.getTokenOffset()+u.getTokenLength()?L+1:L;if(c>=q.offset)return L}return 0}isInComment(r,l,c){const u=y(r.getText(),!1);u.setPosition(l);let d=u.scan();for(;17!==d&&u.getTokenOffset()+u.getTokenLength()<c;)d=u.scan();return(12===d||13===d)&&u.getTokenOffset()<=c}fromMarkup(r){if(r&&this.doesSupportMarkdown())return{kind:Gt.Markdown,value:r}}doesSupportMarkdown(){if(!ce(this.supportsMarkdown)){const r=this.clientCapabilities.textDocument?.completion?.completionItem?.documentationFormat;this.supportsMarkdown=Array.isArray(r)&&-1!==r.indexOf(Gt.Markdown)}return this.supportsMarkdown}doesSupportsCommitCharacters(){return ce(this.supportsCommitCharacters)||(this.labelDetailsSupport=this.clientCapabilities.textDocument?.completion?.completionItem?.commitCharactersSupport),this.supportsCommitCharacters}doesSupportsLabelDetails(){return ce(this.labelDetailsSupport)||(this.labelDetailsSupport=this.clientCapabilities.textDocument?.completion?.completionItem?.labelDetailsSupport),this.labelDetailsSupport}},Di=class{constructor(r,l=[],c){this.schemaService=r,this.contributions=l,this.promise=c||Promise}doHover(r,l,c){const u=r.offsetAt(l);let d=c.getNodeFromOffset(u);if(!d||("object"===d.type||"array"===d.type)&&u>d.offset+1&&u<d.offset+d.length-1)return this.promise.resolve(null);const L=d;if("string"===d.type){const de=d.parent;if(de&&"property"===de.type&&de.keyNode===d&&(d=de.valueNode,!d))return this.promise.resolve(null)}const q=ot.create(r.positionAt(L.offset),r.positionAt(L.offset+L.length)),Ee=de=>({contents:de,range:q}),oe=mi(d);for(let de=this.contributions.length-1;de>=0;de--){const fe=this.contributions[de].getInfoContribution(r.uri,oe);if(fe)return fe.then(ye=>Ee(ye))}return this.schemaService.getSchemaForResource(r.uri,c).then(de=>{if(de&&d){let fe,ye,Ne,Me;c.getMatchingSchemas(de.schema,d.offset).every(Ze=>{if(Ze.node===d&&!Ze.inverted&&Ze.schema&&(fe=fe||Ze.schema.title,ye=ye||Ze.schema.markdownDescription||En(Ze.schema.description),Ze.schema.enum)){const ut=Ze.schema.enum.indexOf(ai(d));Ze.schema.markdownEnumDescriptions?Ne=Ze.schema.markdownEnumDescriptions[ut]:Ze.schema.enumDescriptions&&(Ne=En(Ze.schema.enumDescriptions[ut])),Ne&&(Me=Ze.schema.enum[ut],"string"!=typeof Me&&(Me=JSON.stringify(Me)))}return!0});let He="";return fe&&(He=En(fe)),ye&&(He.length>0&&(He+="\n\n"),He+=ye),Ne&&(He.length>0&&(He+="\n\n"),He+=`\`${function Cr(r){return-1!==r.indexOf("`")?"`` "+r+" ``":r}(Me)}\`: ${Ne}`),Ee([He])}return null})}};function En(r){if(r)return r.replace(/([^\n\r])(\r?\n)([^\n\r])/gm,"$1\n\n$3").replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}var Vr=class{constructor(r,l){this.jsonSchemaService=r,this.promise=l,this.validationEnabled=!0}configure(r){r&&(this.validationEnabled=!1!==r.validate,this.commentSeverity=r.allowComments?void 0:_t.Error)}doValidation(r,l,c,u){if(!this.validationEnabled)return this.promise.resolve([]);const d=[],L={},q=oe=>{const de=oe.range.start.line+" "+oe.range.start.character+" "+oe.message;L[de]||(L[de]=!0,d.push(oe))},Ee=oe=>{let de=c?.trailingCommas?Ki(c.trailingCommas):_t.Error,Le=c?.comments?Ki(c.comments):this.commentSeverity,fe=c?.schemaValidation?Ki(c.schemaValidation):_t.Warning,ye=c?.schemaRequest?Ki(c.schemaRequest):_t.Warning;if(oe){const Ne=(Me,He)=>{if(l.root&&ye){const Ze=l.root,ut="object"===Ze.type?Ze.properties[0]:void 0;if(ut&&"$schema"===ut.keyNode.value){const at=ut.valueNode||ut,$e=ot.create(r.positionAt(at.offset),r.positionAt(at.offset+at.length));q(x.create($e,Me,ye,He))}else{const at=ot.create(r.positionAt(Ze.offset),r.positionAt(Ze.offset+1));q(x.create(at,Me,ye,He))}}};if(oe.errors.length)Ne(oe.errors[0],Ve.SchemaResolveError);else if(fe){for(const He of oe.warnings)Ne(He,Ve.SchemaUnsupportedFeature);const Me=l.validate(r,oe.schema,fe,c?.schemaDraft);Me&&Me.forEach(q)}ui(oe.schema)&&(Le=void 0),Xi(oe.schema)&&(de=void 0)}for(const Ne of l.syntaxErrors){if(Ne.code===Ve.TrailingComma){if("number"!=typeof de)continue;Ne.severity=de}q(Ne)}if("number"==typeof Le){const Ne=Pe("Comments are not permitted in JSON.");l.comments.forEach(Me=>{q(x.create(Me,Ne,Le,Ve.CommentNotPermitted))})}return d};if(u){const oe=u.id||"schemaservice://untitled/"+ur++;return this.jsonSchemaService.registerExternalSchema({uri:oe,schema:u}).getResolvedSchema().then(Le=>Ee(Le))}return this.jsonSchemaService.getSchemaForResource(r.uri,l).then(oe=>Ee(oe))}getLanguageStatus(r,l){return{schemas:this.jsonSchemaService.getSchemaURIsForResource(r.uri,l)}}},ur=0;function ui(r){if(r&&"object"==typeof r){if(P(r.allowComments))return r.allowComments;if(r.allOf)for(const l of r.allOf){const c=ui(l);if(P(c))return c}}}function Xi(r){if(r&&"object"==typeof r){if(P(r.allowTrailingCommas))return r.allowTrailingCommas;const l=r;if(P(l.allowsTrailingCommas))return l.allowsTrailingCommas;if(r.allOf)for(const c of r.allOf){const u=Xi(c);if(P(u))return u}}}function Ki(r){switch(r){case"error":return _t.Error;case"warning":return _t.Warning;case"ignore":return}}var cr=48,Wr=57,Yi=65,ki=97,Zi=102;function In(r){return r<cr?0:r<=Wr?r-cr:(r<ki&&(r+=ki-Yi),r>=ki&&r<=Zi?r-ki+10:0)}function Ur(r){if("#"===r[0])switch(r.length){case 4:return{red:17*In(r.charCodeAt(1))/255,green:17*In(r.charCodeAt(2))/255,blue:17*In(r.charCodeAt(3))/255,alpha:1};case 5:return{red:17*In(r.charCodeAt(1))/255,green:17*In(r.charCodeAt(2))/255,blue:17*In(r.charCodeAt(3))/255,alpha:17*In(r.charCodeAt(4))/255};case 7:return{red:(16*In(r.charCodeAt(1))+In(r.charCodeAt(2)))/255,green:(16*In(r.charCodeAt(3))+In(r.charCodeAt(4)))/255,blue:(16*In(r.charCodeAt(5))+In(r.charCodeAt(6)))/255,alpha:1};case 9:return{red:(16*In(r.charCodeAt(1))+In(r.charCodeAt(2)))/255,green:(16*In(r.charCodeAt(3))+In(r.charCodeAt(4)))/255,blue:(16*In(r.charCodeAt(5))+In(r.charCodeAt(6)))/255,alpha:(16*In(r.charCodeAt(7))+In(r.charCodeAt(8)))/255}}}var zr=class{constructor(r){this.schemaService=r}findDocumentSymbols(r,l,c={resultLimit:Number.MAX_VALUE}){const u=l.root;if(!u)return[];let d=c.resultLimit||Number.MAX_VALUE;const L=r.uri;if(("vscode://defaultsettings/keybindings.json"===L||xe(L.toLowerCase(),"/user/keybindings.json"))&&"array"===u.type){const fe=[];for(const ye of u.items)if("object"===ye.type)for(const Ne of ye.properties)if("key"===Ne.keyNode.value&&Ne.valueNode){const Me=St.create(r.uri,Li(r,ye));if(fe.push({name:hr(Ne.valueNode),kind:Qn.Function,location:Me}),d--,d<=0)return c&&c.onResultLimitExceeded&&c.onResultLimitExceeded(L),fe}return fe}const q=[{node:u,containerName:""}];let Ee=0,oe=!1;const de=[],Le=(fe,ye)=>{"array"===fe.type?fe.items.forEach(Ne=>{Ne&&q.push({node:Ne,containerName:ye})}):"object"===fe.type&&fe.properties.forEach(Ne=>{const Me=Ne.valueNode;if(Me)if(d>0){d--;const He=St.create(r.uri,Li(r,Ne)),Ze=ye?ye+"."+Ne.keyNode.value:Ne.keyNode.value;de.push({name:this.getKeyLabel(Ne),kind:this.getSymbolKind(Me.type),location:He,containerName:ye}),q.push({node:Me,containerName:Ze})}else oe=!0})};for(;Ee<q.length;){const fe=q[Ee++];Le(fe.node,fe.containerName)}return oe&&c&&c.onResultLimitExceeded&&c.onResultLimitExceeded(L),de}findDocumentSymbols2(r,l,c={resultLimit:Number.MAX_VALUE}){const u=l.root;if(!u)return[];let d=c.resultLimit||Number.MAX_VALUE;const L=r.uri;if(("vscode://defaultsettings/keybindings.json"===L||xe(L.toLowerCase(),"/user/keybindings.json"))&&"array"===u.type){const fe=[];for(const ye of u.items)if("object"===ye.type)for(const Ne of ye.properties)if("key"===Ne.keyNode.value&&Ne.valueNode){const Me=Li(r,ye),He=Li(r,Ne.keyNode);if(fe.push({name:hr(Ne.valueNode),kind:Qn.Function,range:Me,selectionRange:He}),d--,d<=0)return c&&c.onResultLimitExceeded&&c.onResultLimitExceeded(L),fe}return fe}const q=[],Ee=[{node:u,result:q}];let oe=0,de=!1;const Le=(fe,ye)=>{"array"===fe.type?fe.items.forEach((Ne,Me)=>{if(Ne)if(d>0){d--;const He=Li(r,Ne),Ze=He,at={name:String(Me),kind:this.getSymbolKind(Ne.type),range:He,selectionRange:Ze,children:[]};ye.push(at),Ee.push({result:at.children,node:Ne})}else de=!0}):"object"===fe.type&&fe.properties.forEach(Ne=>{const Me=Ne.valueNode;if(Me)if(d>0){d--;const He=Li(r,Ne),Ze=Li(r,Ne.keyNode),ut=[],at={name:this.getKeyLabel(Ne),kind:this.getSymbolKind(Me.type),range:He,selectionRange:Ze,children:ut,detail:this.getDetail(Me)};ye.push(at),Ee.push({result:ut,node:Me})}else de=!0})};for(;oe<Ee.length;){const fe=Ee[oe++];Le(fe.node,fe.result)}return de&&c&&c.onResultLimitExceeded&&c.onResultLimitExceeded(L),q}getSymbolKind(r){switch(r){case"object":return Qn.Module;case"string":return Qn.String;case"number":return Qn.Number;case"array":return Qn.Array;case"boolean":return Qn.Boolean;default:return Qn.Variable}}getKeyLabel(r){let l=r.keyNode.value;return l&&(l=l.replace(/[\n]/g,"\u21b5")),l&&l.trim()?l:`"${l}"`}getDetail(r){if(r){if("boolean"===r.type||"number"===r.type||"null"===r.type||"string"===r.type)return String(r.value);if("array"===r.type)return r.children.length?void 0:"[]";if("object"===r.type)return r.children.length?void 0:"{}"}}findDocumentColors(r,l,c){return this.schemaService.getSchemaForResource(r.uri,l).then(u=>{const d=[];if(u){let L=c&&"number"==typeof c.resultLimit?c.resultLimit:Number.MAX_VALUE;const q=l.getMatchingSchemas(u.schema),Ee={};for(const oe of q)if(!oe.inverted&&oe.schema&&("color"===oe.schema.format||"color-hex"===oe.schema.format)&&oe.node&&"string"===oe.node.type){const de=String(oe.node.offset);if(!Ee[de]){const Le=Ur(ai(oe.node));if(Le){const fe=Li(r,oe.node);d.push({color:Le,range:fe})}if(Ee[de]=!0,L--,L<=0)return c&&c.onResultLimitExceeded&&c.onResultLimitExceeded(r.uri),d}}}return d})}getColorPresentations(r,l,c,u){const d=[],L=Math.round(255*c.red),q=Math.round(255*c.green),Ee=Math.round(255*c.blue);function oe(Le){const fe=Le.toString(16);return 2!==fe.length?"0"+fe:fe}let de;return de=1===c.alpha?`#${oe(L)}${oe(q)}${oe(Ee)}`:`#${oe(L)}${oe(q)}${oe(Ee)}${oe(Math.round(255*c.alpha))}`,d.push({label:de,textEdit:je.replace(u,JSON.stringify(de))}),d}};function Li(r,l){return ot.create(r.positionAt(l.offset),r.positionAt(l.offset+l.length))}function hr(r){return ai(r)||Pe("<empty>")}var Nn,zn={schemaAssociations:[],schemas:{"http://json-schema.org/draft-04/schema#":{$schema:"http://json-schema.org/draft-04/schema#",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{default:0}]},simpleTypes:{type:"string",enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:!0}},type:"object",properties:{id:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},default:{},multipleOf:{type:"number",minimum:0,exclusiveMinimum:!0},maximum:{type:"number"},exclusiveMaximum:{type:"boolean",default:!1},minimum:{type:"number"},exclusiveMinimum:{type:"boolean",default:!1},maxLength:{allOf:[{$ref:"#/definitions/positiveInteger"}]},minLength:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}]},pattern:{type:"string",format:"regex"},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{allOf:[{$ref:"#/definitions/positiveInteger"}]},minItems:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}]},uniqueItems:{type:"boolean",default:!1},maxProperties:{allOf:[{$ref:"#/definitions/positiveInteger"}]},minProperties:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}]},required:{allOf:[{$ref:"#/definitions/stringArray"}]},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},enum:{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{anyOf:[{type:"string",enum:["date-time","uri","email","hostname","ipv4","ipv6","regex"]},{type:"string"}]},allOf:{allOf:[{$ref:"#/definitions/schemaArray"}]},anyOf:{allOf:[{$ref:"#/definitions/schemaArray"}]},oneOf:{allOf:[{$ref:"#/definitions/schemaArray"}]},not:{allOf:[{$ref:"#"}]}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]},default:{}},"http://json-schema.org/draft-07/schema#":{definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}}},un={id:Pe("A unique identifier for the schema."),$schema:Pe("The schema to verify this document against."),title:Pe("A descriptive title of the element."),description:Pe("A long description of the element. Used in hover menus and suggestions."),default:Pe("A default value. Used by suggestions."),multipleOf:Pe("A number that should cleanly divide the current value (i.e. have no remainder)."),maximum:Pe("The maximum numerical value, inclusive by default."),exclusiveMaximum:Pe("Makes the maximum property exclusive."),minimum:Pe("The minimum numerical value, inclusive by default."),exclusiveMinimum:Pe("Makes the minimum property exclusive."),maxLength:Pe("The maximum length of a string."),minLength:Pe("The minimum length of a string."),pattern:Pe("A regular expression to match the string against. It is not implicitly anchored."),additionalItems:Pe("For arrays, only when items is set as an array. If it is a schema, then this schema validates items after the ones specified by the items array. If it is false, then additional items will cause validation to fail."),items:Pe("For arrays. Can either be a schema to validate every element against or an array of schemas to validate each item against in order (the first schema will validate the first element, the second schema will validate the second element, and so on."),maxItems:Pe("The maximum number of items that can be inside an array. Inclusive."),minItems:Pe("The minimum number of items that can be inside an array. Inclusive."),uniqueItems:Pe("If all of the items in the array must be unique. Defaults to false."),maxProperties:Pe("The maximum number of properties an object can have. Inclusive."),minProperties:Pe("The minimum number of properties an object can have. Inclusive."),required:Pe("An array of strings that lists the names of all properties required on this object."),additionalProperties:Pe("Either a schema or a boolean. If a schema, then used to validate all properties not matched by 'properties' or 'patternProperties'. If false, then any properties not matched by either will cause this schema to fail."),definitions:Pe("Not used for validation. Place subschemas here that you wish to reference inline with $ref."),properties:Pe("A map of property names to schemas for each property."),patternProperties:Pe("A map of regular expressions on property names to schemas for matching properties."),dependencies:Pe("A map of property names to either an array of property names or a schema. An array of property names means the property named in the key depends on the properties in the array being present in the object in order to be valid. If the value is a schema, then the schema is only applied to the object if the property in the key exists on the object."),enum:Pe("The set of literal values that are valid."),type:Pe("Either a string of one of the basic schema types (number, integer, null, array, object, boolean, string) or an array of strings specifying a subset of those types."),format:Pe("Describes the format expected for the value."),allOf:Pe("An array of schemas, all of which must match."),anyOf:Pe("An array of schemas, where at least one must match."),oneOf:Pe("An array of schemas, exactly one of which must match."),not:Pe("A schema which must not match."),$id:Pe("A unique identifier for the schema."),$ref:Pe("Reference a definition hosted on any location."),$comment:Pe("Comments from schema authors to readers or maintainers of the schema."),readOnly:Pe("Indicates that the value of the instance is managed exclusively by the owning authority."),examples:Pe("Sample JSON values associated with a particular schema, for the purpose of illustrating usage."),contains:Pe('An array instance is valid against "contains" if at least one of its elements is valid against the given schema.'),propertyNames:Pe("If the instance is an object, this keyword validates if every property name in the instance validates against the provided schema."),const:Pe("An instance validates successfully against this keyword if its value is equal to the value of the keyword."),contentMediaType:Pe("Describes the media type of a string property."),contentEncoding:Pe("Describes the content encoding of a string property."),if:Pe('The validation outcome of the "if" subschema controls which of the "then" or "else" keywords are evaluated.'),then:Pe('The "if" subschema is used for validation when the "if" subschema succeeds.'),else:Pe('The "else" subschema is used for validation when the "if" subschema fails.')};for(const r in zn.schemas){const l=zn.schemas[r];for(const c in l.properties){let u=l.properties[c];"boolean"==typeof u&&(u=l.properties[c]={});const d=un[c];d&&(u.description=d)}}(()=>{var r={470:d=>{function L(oe){if("string"!=typeof oe)throw new TypeError("Path must be a string. Received "+JSON.stringify(oe))}function q(oe,de){for(var Le,fe="",ye=0,Ne=-1,Me=0,He=0;He<=oe.length;++He){if(He<oe.length)Le=oe.charCodeAt(He);else{if(47===Le)break;Le=47}if(47===Le){if(Ne!==He-1&&1!==Me)if(Ne!==He-1&&2===Me){if(fe.length<2||2!==ye||46!==fe.charCodeAt(fe.length-1)||46!==fe.charCodeAt(fe.length-2))if(fe.length>2){var Ze=fe.lastIndexOf("/");if(Ze!==fe.length-1){-1===Ze?(fe="",ye=0):ye=(fe=fe.slice(0,Ze)).length-1-fe.lastIndexOf("/"),Ne=He,Me=0;continue}}else if(2===fe.length||1===fe.length){fe="",ye=0,Ne=He,Me=0;continue}de&&(fe.length>0?fe+="/..":fe="..",ye=2)}else fe.length>0?fe+="/"+oe.slice(Ne+1,He):fe=oe.slice(Ne+1,He),ye=He-Ne-1;Ne=He,Me=0}else 46===Le&&-1!==Me?++Me:Me=-1}return fe}var Ee={resolve:function(){for(var oe,de="",Le=!1,fe=arguments.length-1;fe>=-1&&!Le;fe--){var ye;fe>=0?ye=arguments[fe]:(void 0===oe&&(oe=process.cwd()),ye=oe),L(ye),0!==ye.length&&(de=ye+"/"+de,Le=47===ye.charCodeAt(0))}return de=q(de,!Le),Le?de.length>0?"/"+de:"/":de.length>0?de:"."},normalize:function(oe){if(L(oe),0===oe.length)return".";var de=47===oe.charCodeAt(0),Le=47===oe.charCodeAt(oe.length-1);return 0!==(oe=q(oe,!de)).length||de||(oe="."),oe.length>0&&Le&&(oe+="/"),de?"/"+oe:oe},isAbsolute:function(oe){return L(oe),oe.length>0&&47===oe.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var oe,de=0;de<arguments.length;++de){var Le=arguments[de];L(Le),Le.length>0&&(void 0===oe?oe=Le:oe+="/"+Le)}return void 0===oe?".":Ee.normalize(oe)},relative:function(oe,de){if(L(oe),L(de),oe===de||(oe=Ee.resolve(oe))===(de=Ee.resolve(de)))return"";for(var Le=1;Le<oe.length&&47===oe.charCodeAt(Le);++Le);for(var fe=oe.length,ye=fe-Le,Ne=1;Ne<de.length&&47===de.charCodeAt(Ne);++Ne);for(var Me=de.length-Ne,He=ye<Me?ye:Me,Ze=-1,ut=0;ut<=He;++ut){if(ut===He){if(Me>He){if(47===de.charCodeAt(Ne+ut))return de.slice(Ne+ut+1);if(0===ut)return de.slice(Ne+ut)}else ye>He&&(47===oe.charCodeAt(Le+ut)?Ze=ut:0===ut&&(Ze=0));break}var at=oe.charCodeAt(Le+ut);if(at!==de.charCodeAt(Ne+ut))break;47===at&&(Ze=ut)}var $e="";for(ut=Le+Ze+1;ut<=fe;++ut)ut!==fe&&47!==oe.charCodeAt(ut)||($e+=0===$e.length?"..":"/..");return $e.length>0?$e+de.slice(Ne+Ze):(47===de.charCodeAt(Ne+=Ze)&&++Ne,de.slice(Ne))},_makeLong:function(oe){return oe},dirname:function(oe){if(L(oe),0===oe.length)return".";for(var de=oe.charCodeAt(0),Le=47===de,fe=-1,ye=!0,Ne=oe.length-1;Ne>=1;--Ne)if(47===(de=oe.charCodeAt(Ne))){if(!ye){fe=Ne;break}}else ye=!1;return-1===fe?Le?"/":".":Le&&1===fe?"//":oe.slice(0,fe)},basename:function(oe,de){if(void 0!==de&&"string"!=typeof de)throw new TypeError('"ext" argument must be a string');L(oe);var Le,fe=0,ye=-1,Ne=!0;if(void 0!==de&&de.length>0&&de.length<=oe.length){if(de.length===oe.length&&de===oe)return"";var Me=de.length-1,He=-1;for(Le=oe.length-1;Le>=0;--Le){var Ze=oe.charCodeAt(Le);if(47===Ze){if(!Ne){fe=Le+1;break}}else-1===He&&(Ne=!1,He=Le+1),Me>=0&&(Ze===de.charCodeAt(Me)?-1==--Me&&(ye=Le):(Me=-1,ye=He))}return fe===ye?ye=He:-1===ye&&(ye=oe.length),oe.slice(fe,ye)}for(Le=oe.length-1;Le>=0;--Le)if(47===oe.charCodeAt(Le)){if(!Ne){fe=Le+1;break}}else-1===ye&&(Ne=!1,ye=Le+1);return-1===ye?"":oe.slice(fe,ye)},extname:function(oe){L(oe);for(var de=-1,Le=0,fe=-1,ye=!0,Ne=0,Me=oe.length-1;Me>=0;--Me){var He=oe.charCodeAt(Me);if(47!==He)-1===fe&&(ye=!1,fe=Me+1),46===He?-1===de?de=Me:1!==Ne&&(Ne=1):-1!==de&&(Ne=-1);else if(!ye){Le=Me+1;break}}return-1===de||-1===fe||0===Ne||1===Ne&&de===fe-1&&de===Le+1?"":oe.slice(de,fe)},format:function(oe){if(null===oe||"object"!=typeof oe)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof oe);return ye=(Le=oe).base||(Le.name||"")+(Le.ext||""),(fe=Le.dir||Le.root)?fe===Le.root?fe+ye:fe+"/"+ye:ye;var Le,fe,ye},parse:function(oe){L(oe);var de={root:"",dir:"",base:"",ext:"",name:""};if(0===oe.length)return de;var Le,fe=oe.charCodeAt(0),ye=47===fe;ye?(de.root="/",Le=1):Le=0;for(var Ne=-1,Me=0,He=-1,Ze=!0,ut=oe.length-1,at=0;ut>=Le;--ut)if(47!==(fe=oe.charCodeAt(ut)))-1===He&&(Ze=!1,He=ut+1),46===fe?-1===Ne?Ne=ut:1!==at&&(at=1):-1!==Ne&&(at=-1);else if(!Ze){Me=ut+1;break}return-1===Ne||-1===He||0===at||1===at&&Ne===He-1&&Ne===Me+1?-1!==He&&(de.base=de.name=oe.slice(0===Me&&ye?1:Me,He)):(0===Me&&ye?(de.name=oe.slice(1,Ne),de.base=oe.slice(1,He)):(de.name=oe.slice(Me,Ne),de.base=oe.slice(Me,He)),de.ext=oe.slice(Ne,He)),Me>0?de.dir=oe.slice(0,Me-1):ye&&(de.dir="/"),de},sep:"/",delimiter:":",win32:null,posix:null};Ee.posix=Ee,d.exports=Ee}},l={};function c(d){var L=l[d];if(void 0!==L)return L.exports;var q=l[d]={exports:{}};return r[d](q,q.exports,c),q.exports}c.d=(d,L)=>{for(var q in L)c.o(L,q)&&!c.o(d,q)&&Object.defineProperty(d,q,{enumerable:!0,get:L[q]})},c.o=(d,L)=>Object.prototype.hasOwnProperty.call(d,L),c.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})};var u={};(()=>{let d;c.r(u),c.d(u,{URI:()=>ye,Utils:()=>Yt}),"object"==typeof process?d="win32"===process.platform:"object"==typeof navigator&&(d=navigator.userAgent.indexOf("Windows")>=0);const L=/^\w[\w\d+.-]*$/,q=/^\//,Ee=/^\/\//;function oe(Ct,Ye){if(!Ct.scheme&&Ye)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${Ct.authority}", path: "${Ct.path}", query: "${Ct.query}", fragment: "${Ct.fragment}"}`);if(Ct.scheme&&!L.test(Ct.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(Ct.path)if(Ct.authority){if(!q.test(Ct.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(Ee.test(Ct.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}const Le="/",fe=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class ye{static isUri(Ye){return Ye instanceof ye||!!Ye&&"string"==typeof Ye.authority&&"string"==typeof Ye.fragment&&"string"==typeof Ye.path&&"string"==typeof Ye.query&&"string"==typeof Ye.scheme&&"string"==typeof Ye.fsPath&&"function"==typeof Ye.with&&"function"==typeof Ye.toString}scheme;authority;path;query;fragment;constructor(Ye,vt,Et,vn,on,en=!1){"object"==typeof Ye?(this.scheme=Ye.scheme||"",this.authority=Ye.authority||"",this.path=Ye.path||"",this.query=Ye.query||"",this.fragment=Ye.fragment||""):(this.scheme=function(ti,ni){return ti||ni?ti:"file"}(Ye,en),this.authority=vt||"",this.path=function(ti,ni){switch(ti){case"https":case"http":case"file":ni?ni[0]!==Le&&(ni=Le+ni):ni=Le}return ni}(this.scheme,Et||""),this.query=vn||"",this.fragment=on||"",oe(this,en))}get fsPath(){return at(this,!1)}with(Ye){if(!Ye)return this;let{scheme:vt,authority:Et,path:vn,query:on,fragment:en}=Ye;return void 0===vt?vt=this.scheme:null===vt&&(vt=""),void 0===Et?Et=this.authority:null===Et&&(Et=""),void 0===vn?vn=this.path:null===vn&&(vn=""),void 0===on?on=this.query:null===on&&(on=""),void 0===en?en=this.fragment:null===en&&(en=""),vt===this.scheme&&Et===this.authority&&vn===this.path&&on===this.query&&en===this.fragment?this:new Me(vt,Et,vn,on,en)}static parse(Ye,vt=!1){const Et=fe.exec(Ye);return Et?new Me(Et[2]||"",xt(Et[4]||""),xt(Et[5]||""),xt(Et[7]||""),xt(Et[9]||""),vt):new Me("","","","","")}static file(Ye){let vt="";if(d&&(Ye=Ye.replace(/\\/g,Le)),Ye[0]===Le&&Ye[1]===Le){const Et=Ye.indexOf(Le,2);-1===Et?(vt=Ye.substring(2),Ye=Le):(vt=Ye.substring(2,Et),Ye=Ye.substring(Et)||Le)}return new Me("file",vt,Ye,"","")}static from(Ye){const vt=new Me(Ye.scheme,Ye.authority,Ye.path,Ye.query,Ye.fragment);return oe(vt,!0),vt}toString(Ye=!1){return $e(this,Ye)}toJSON(){return this}static revive(Ye){if(Ye){if(Ye instanceof ye)return Ye;{const vt=new Me(Ye);return vt._formatted=Ye.external,vt._fsPath=Ye._sep===Ne?Ye.fsPath:null,vt}}return Ye}}const Ne=d?1:void 0;class Me extends ye{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=at(this,!1)),this._fsPath}toString(Ye=!1){return Ye?$e(this,!0):(this._formatted||(this._formatted=$e(this,!1)),this._formatted)}toJSON(){const Ye={$mid:1};return this._fsPath&&(Ye.fsPath=this._fsPath,Ye._sep=Ne),this._formatted&&(Ye.external=this._formatted),this.path&&(Ye.path=this.path),this.scheme&&(Ye.scheme=this.scheme),this.authority&&(Ye.authority=this.authority),this.query&&(Ye.query=this.query),this.fragment&&(Ye.fragment=this.fragment),Ye}}const He={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function Ze(Ct,Ye,vt){let Et,vn=-1;for(let on=0;on<Ct.length;on++){const en=Ct.charCodeAt(on);if(en>=97&&en<=122||en>=65&&en<=90||en>=48&&en<=57||45===en||46===en||95===en||126===en||Ye&&47===en||vt&&91===en||vt&&93===en||vt&&58===en)-1!==vn&&(Et+=encodeURIComponent(Ct.substring(vn,on)),vn=-1),void 0!==Et&&(Et+=Ct.charAt(on));else{void 0===Et&&(Et=Ct.substr(0,on));const ti=He[en];void 0!==ti?(-1!==vn&&(Et+=encodeURIComponent(Ct.substring(vn,on)),vn=-1),Et+=ti):-1===vn&&(vn=on)}}return-1!==vn&&(Et+=encodeURIComponent(Ct.substring(vn))),void 0!==Et?Et:Ct}function ut(Ct){let Ye;for(let vt=0;vt<Ct.length;vt++){const Et=Ct.charCodeAt(vt);35===Et||63===Et?(void 0===Ye&&(Ye=Ct.substr(0,vt)),Ye+=He[Et]):void 0!==Ye&&(Ye+=Ct[vt])}return void 0!==Ye?Ye:Ct}function at(Ct,Ye){let vt;return vt=Ct.authority&&Ct.path.length>1&&"file"===Ct.scheme?`//${Ct.authority}${Ct.path}`:47===Ct.path.charCodeAt(0)&&(Ct.path.charCodeAt(1)>=65&&Ct.path.charCodeAt(1)<=90||Ct.path.charCodeAt(1)>=97&&Ct.path.charCodeAt(1)<=122)&&58===Ct.path.charCodeAt(2)?Ye?Ct.path.substr(1):Ct.path[1].toLowerCase()+Ct.path.substr(2):Ct.path,d&&(vt=vt.replace(/\//g,"\\")),vt}function $e(Ct,Ye){const vt=Ye?ut:Ze;let Et="",{scheme:vn,authority:on,path:en,query:ti,fragment:ni}=Ct;if(vn&&(Et+=vn,Et+=":"),(on||"file"===vn)&&(Et+=Le,Et+=Le),on){let Fn=on.indexOf("@");if(-1!==Fn){const di=on.substr(0,Fn);on=on.substr(Fn+1),Fn=di.lastIndexOf(":"),-1===Fn?Et+=vt(di,!1,!1):(Et+=vt(di.substr(0,Fn),!1,!1),Et+=":",Et+=vt(di.substr(Fn+1),!1,!0)),Et+="@"}on=on.toLowerCase(),Fn=on.lastIndexOf(":"),-1===Fn?Et+=vt(on,!1,!0):(Et+=vt(on.substr(0,Fn),!1,!0),Et+=on.substr(Fn))}if(en){if(en.length>=3&&47===en.charCodeAt(0)&&58===en.charCodeAt(2)){const Fn=en.charCodeAt(1);Fn>=65&&Fn<=90&&(en=`/${String.fromCharCode(Fn+32)}:${en.substr(3)}`)}else if(en.length>=2&&58===en.charCodeAt(1)){const Fn=en.charCodeAt(0);Fn>=65&&Fn<=90&&(en=`${String.fromCharCode(Fn+32)}:${en.substr(2)}`)}Et+=vt(en,!0,!1)}return ti&&(Et+="?",Et+=vt(ti,!1,!1)),ni&&(Et+="#",Et+=Ye?ni:Ze(ni,!1,!1)),Et}function lt(Ct){try{return decodeURIComponent(Ct)}catch{return Ct.length>3?Ct.substr(0,3)+lt(Ct.substr(3)):Ct}}const Qe=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function xt(Ct){return Ct.match(Qe)?Ct.replace(Qe,Ye=>lt(Ye)):Ct}var bt=c(470);const Rt=bt.posix||bt;var Yt,Ct;(Ct=Yt||(Yt={})).joinPath=function(Ye,...vt){return Ye.with({path:Rt.join(Ye.path,...vt)})},Ct.resolvePath=function(Ye,...vt){let Et=Ye.path,vn=!1;"/"!==Et[0]&&(Et="/"+Et,vn=!0);let on=Rt.resolve(Et,...vt);return vn&&"/"===on[0]&&!Ye.authority&&(on=on.substring(1)),Ye.with({path:on})},Ct.dirname=function(Ye){if(0===Ye.path.length||"/"===Ye.path)return Ye;let vt=Rt.dirname(Ye.path);return 1===vt.length&&46===vt.charCodeAt(0)&&(vt=""),Ye.with({path:vt})},Ct.basename=function(Ye){return Rt.basename(Ye.path)},Ct.extname=function(Ye){return Rt.extname(Ye.path)}})(),Nn=u})();var{URI:Kt}=Nn;function xr(r,l){if("string"!=typeof r)throw new TypeError("Expected a string");const c=String(r);let u="";const d=!!l&&!!l.extended,L=!!l&&!!l.globstar;let q=!1;const Ee=l&&"string"==typeof l.flags?l.flags:"";let oe;for(let de=0,Le=c.length;de<Le;de++)switch(oe=c[de],oe){case"/":case"$":case"^":case"+":case".":case"(":case")":case"=":case"!":case"|":u+="\\"+oe;break;case"?":if(d){u+=".";break}case"[":case"]":if(d){u+=oe;break}case"{":if(d){q=!0,u+="(";break}case"}":if(d){q=!1,u+=")";break}case",":if(q){u+="|";break}u+="\\"+oe;break;case"*":const fe=c[de-1];let ye=1;for(;"*"===c[de+1];)ye++,de++;const Ne=c[de+1];L?!(ye>1)||"/"!==fe&&void 0!==fe&&"{"!==fe&&","!==fe||"/"!==Ne&&void 0!==Ne&&","!==Ne&&"}"!==Ne?u+="([^/]*)":("/"===Ne?de++:"/"===fe&&u.endsWith("\\/")&&(u=u.substr(0,u.length-2)),u+="((?:[^/]*(?:/|$))*)"):u+=".*";break;default:u+=oe}return(!Ee||!~Ee.indexOf("g"))&&(u="^"+u+"$"),new RegExp(u,Ee)}var dr=class{constructor(r,l,c){this.folderUri=l,this.uris=c,this.globWrappers=[];try{for(let u of r){const d="!"!==u[0];d||(u=u.substring(1)),u.length>0&&("/"===u[0]&&(u=u.substring(1)),this.globWrappers.push({regexp:xr("**/"+u,{extended:!0,globstar:!0}),include:d}))}l&&((l=Sr(l)).endsWith("/")||(l+="/"),this.folderUri=l)}catch{this.globWrappers.length=0,this.uris=[]}}matchesPattern(r){if(this.folderUri&&!r.startsWith(this.folderUri))return!1;let l=!1;for(const{regexp:c,include:u}of this.globWrappers)c.test(r)&&(l=u);return l}getURIs(){return this.uris}},fr=class{constructor(r,l,c){this.service=r,this.uri=l,this.dependencies=new Set,this.anchors=void 0,c&&(this.unresolvedSchema=this.service.promise.resolve(new Mi(c)))}getUnresolvedSchema(){return this.unresolvedSchema||(this.unresolvedSchema=this.service.loadSchema(this.uri)),this.unresolvedSchema}getResolvedSchema(){return this.resolvedSchema||(this.resolvedSchema=this.getUnresolvedSchema().then(r=>this.service.resolveSchemaContent(r,this))),this.resolvedSchema}clearSchema(){const r=!!this.unresolvedSchema;return this.resolvedSchema=void 0,this.unresolvedSchema=void 0,this.dependencies.clear(),this.anchors=void 0,r}},Mi=class{constructor(r,l=[]){this.schema=r,this.errors=l}},gr=class{constructor(r,l=[],c=[],u){this.schema=r,this.errors=l,this.warnings=c,this.schemaDraft=u}getSection(r){const l=this.getSectionRecursive(r,this.schema);if(l)return Pt(l)}getSectionRecursive(r,l){if(!l||"boolean"==typeof l||0===r.length)return l;const c=r.shift();if(l.properties)return this.getSectionRecursive(r,l.properties[c]);if(l.patternProperties){for(const u of Object.keys(l.patternProperties))if(De(u)?.test(c))return this.getSectionRecursive(r,l.patternProperties[u])}else{if("object"==typeof l.additionalProperties)return this.getSectionRecursive(r,l.additionalProperties);if(c.match("[0-9]+"))if(Array.isArray(l.items)){const u=parseInt(c,10);if(!isNaN(u)&&l.items[u])return this.getSectionRecursive(r,l.items[u])}else if(l.items)return this.getSectionRecursive(r,l.items)}}},Bi=class{constructor(r,l,c){this.contextService=l,this.requestService=r,this.promiseConstructor=c||Promise,this.callOnDispose=[],this.contributionSchemas={},this.contributionAssociations=[],this.schemasById={},this.filePatternAssociations=[],this.registeredSchemasIds={}}getRegisteredSchemaIds(r){return Object.keys(this.registeredSchemasIds).filter(l=>{const c=Kt.parse(l).scheme;return"schemaservice"!==c&&(!r||r(c))})}get promise(){return this.promiseConstructor}dispose(){for(;this.callOnDispose.length>0;)this.callOnDispose.pop()()}onResourceChange(r){this.cachedSchemaForResource=void 0;let l=!1;const c=[r=ci(r)],u=Object.keys(this.schemasById).map(d=>this.schemasById[d]);for(;c.length;){const d=c.pop();for(let L=0;L<u.length;L++){const q=u[L];q&&(q.uri===d||q.dependencies.has(d))&&(q.uri!==d&&c.push(q.uri),q.clearSchema()&&(l=!0),u[L]=void 0)}}return l}setSchemaContributions(r){if(r.schemas){const l=r.schemas;for(const c in l){const u=ci(c);this.contributionSchemas[u]=this.addSchemaHandle(u,l[c])}}if(Array.isArray(r.schemaAssociations)){const l=r.schemaAssociations;for(let c of l){const u=c.uris.map(ci),d=this.addFilePatternAssociation(c.pattern,c.folderUri,u);this.contributionAssociations.push(d)}}}addSchemaHandle(r,l){const c=new fr(this,r,l);return this.schemasById[r]=c,c}getOrAddSchemaHandle(r,l){return this.schemasById[r]||this.addSchemaHandle(r,l)}addFilePatternAssociation(r,l,c){const u=new dr(r,l,c);return this.filePatternAssociations.push(u),u}registerExternalSchema(r){const l=ci(r.uri);return this.registeredSchemasIds[l]=!0,this.cachedSchemaForResource=void 0,r.fileMatch&&r.fileMatch.length&&this.addFilePatternAssociation(r.fileMatch,r.folderUri,[l]),r.schema?this.addSchemaHandle(l,r.schema):this.getOrAddSchemaHandle(l)}clearExternalSchemas(){this.schemasById={},this.filePatternAssociations=[],this.registeredSchemasIds={},this.cachedSchemaForResource=void 0;for(const r in this.contributionSchemas)this.schemasById[r]=this.contributionSchemas[r],this.registeredSchemasIds[r]=!0;for(const r of this.contributionAssociations)this.filePatternAssociations.push(r)}getResolvedSchema(r){const l=ci(r),c=this.schemasById[l];return c?c.getResolvedSchema():this.promise.resolve(void 0)}loadSchema(r){if(!this.requestService){const l=Pe("Unable to load schema from '{0}'. No schema request service available",ei(r));return this.promise.resolve(new Mi({},[l]))}return r.startsWith("http://json-schema.org/")&&(r="https"+r.substring(4)),this.requestService(r).then(l=>{if(!l){const L=Pe("Unable to load schema from '{0}': No content.",ei(r));return new Mi({},[L])}const c=[];65279===l.charCodeAt(0)&&(c.push(Pe("Problem reading content from '{0}': UTF-8 with BOM detected, only UTF 8 is allowed.",ei(r))),l=l.trimStart());let u={};const d=[];return u=T(l,d),d.length&&c.push(Pe("Unable to parse content from '{0}': Parse error at offset {1}.",ei(r),d[0].offset)),new Mi(u,c)},l=>{let c=l.toString();const u=l.toString().split("Error: ");return u.length>1&&(c=u[1]),xe(c,".")&&(c=c.substr(0,c.length-1)),new Mi({},[Pe("Unable to load schema from '{0}': {1}.",ei(r),c)])})}resolveSchemaContent(r,l){const c=r.errors.slice(0),u=r.schema;let d=u.$schema?ci(u.$schema):void 0;if("http://json-schema.org/draft-03/schema"===d)return this.promise.resolve(new gr({},[Pe("Draft-03 schemas are not supported.")],[],d));let L=new Set;const q=this.contextService,Le=(Me,He,Ze,ut)=>{let at;at=void 0===ut||0===ut.length?He:"/"===ut.charAt(0)?((Me,He)=>{He=decodeURIComponent(He);let Ze=Me;return"/"===He[0]&&(He=He.substring(1)),He.split("/").some(ut=>(ut=ut.replace(/~1/g,"/").replace(/~0/g,"~"),Ze=Ze[ut],!Ze)),Ze})(He,ut):((Me,He,Ze)=>(He.anchors||(He.anchors=Ne(Me)),He.anchors.get(Ze)))(He,Ze,ut),at?((Me,He)=>{for(const Ze in He)He.hasOwnProperty(Ze)&&"id"!==Ze&&"$id"!==Ze&&(Me[Ze]=He[Ze])})(Me,at):c.push(Pe("$ref '{0}' in '{1}' can not be resolved.",ut||"",Ze.uri))},fe=(Me,He,Ze,ut)=>{q&&!/^[A-Za-z][A-Za-z0-9+\-.+]*:\/\/.*/.test(He)&&(He=q.resolveRelativePath(He,ut.uri)),He=ci(He);const at=this.getOrAddSchemaHandle(He);return at.getUnresolvedSchema().then($e=>(ut.dependencies.add(He),$e.errors.length&&c.push(Pe("Problems loading reference '{0}': {1}",Ze?He+"#"+Ze:He,$e.errors[0])),Le(Me,$e.schema,at,Ze),ye(Me,$e.schema,at)))},ye=(Me,He,Ze)=>{const ut=[];return this.traverseNodes(Me,at=>{const $e=new Set;for(;at.$ref;){const lt=at.$ref,Qe=lt.split("#",2);if(delete at.$ref,Qe[0].length>0)return void ut.push(fe(at,Qe[0],Qe[1],Ze));$e.has(lt)||(Le(at,He,Ze,Qe[1]),$e.add(lt))}at.$recursiveRef&&L.add("$recursiveRef"),at.$dynamicRef&&L.add("$dynamicRef")}),this.promise.all(ut)},Ne=Me=>{const He=new Map;return this.traverseNodes(Me,Ze=>{const ut=Ze.$id||Ze.id,at=J(ut)&&"#"===ut.charAt(0)?ut.substring(1):Ze.$anchor;at&&(He.has(at)?c.push(Pe("Duplicate anchor declaration: '{0}'",at)):He.set(at,Ze)),Ze.$recursiveAnchor&&L.add("$recursiveAnchor"),Ze.$dynamicAnchor&&L.add("$dynamicAnchor")}),He};return ye(u,u,l).then(Me=>{let He=[];return L.size&&He.push(Pe("The schema uses meta-schema features ({0}) that are not yet supported by the validator.",Array.from(L.keys()).join(", "))),new gr(u,c,He,d)})}traverseNodes(r,l){if(!r||"object"!=typeof r)return Promise.resolve(null);const c=new Set,u=(...de)=>{for(const Le of de)le(Le)&&Ee.push(Le)},d=(...de)=>{for(const Le of de)if(le(Le))for(const fe in Le){const Ne=Le[fe];le(Ne)&&Ee.push(Ne)}},L=(...de)=>{for(const Le of de)if(Array.isArray(Le))for(const fe of Le)le(fe)&&Ee.push(fe)},q=de=>{if(Array.isArray(de))for(const Le of de)le(Le)&&Ee.push(Le);else le(de)&&Ee.push(de)},Ee=[r];let oe=Ee.pop();for(;oe;)c.has(oe)||(c.add(oe),l(oe),u(oe.additionalItems,oe.additionalProperties,oe.not,oe.contains,oe.propertyNames,oe.if,oe.then,oe.else,oe.unevaluatedItems,oe.unevaluatedProperties),d(oe.definitions,oe.$defs,oe.properties,oe.patternProperties,oe.dependencies,oe.dependentSchemas),L(oe.anyOf,oe.allOf,oe.oneOf,oe.prefixItems),q(oe.items)),oe=Ee.pop()}getSchemaFromProperty(r,l){if("object"===l.root?.type)for(const c of l.root.properties)if("$schema"===c.keyNode.value&&"string"===c.valueNode?.type){let u=c.valueNode.value;return this.contextService&&!/^\w[\w\d+.-]*:/.test(u)&&(u=this.contextService.resolveRelativePath(u,r)),u}}getAssociatedSchemas(r){const l=Object.create(null),c=[],u=Sr(r);for(const d of this.filePatternAssociations)if(d.matchesPattern(u))for(const L of d.getURIs())l[L]||(c.push(L),l[L]=!0);return c}getSchemaURIsForResource(r,l){let c=l&&this.getSchemaFromProperty(r,l);return c?[c]:this.getAssociatedSchemas(r)}getSchemaForResource(r,l){if(l){let d=this.getSchemaFromProperty(r,l);if(d){const L=ci(d);return this.getOrAddSchemaHandle(L).getResolvedSchema()}}if(this.cachedSchemaForResource&&this.cachedSchemaForResource.resource===r)return this.cachedSchemaForResource.resolvedSchema;const c=this.getAssociatedSchemas(r),u=c.length>0?this.createCombinedSchema(r,c).getResolvedSchema():this.promise.resolve(void 0);return this.cachedSchemaForResource={resource:r,resolvedSchema:u},u}createCombinedSchema(r,l){if(1===l.length)return this.getOrAddSchemaHandle(l[0]);{const c="schemaservice://combinedSchema/"+encodeURIComponent(r),u={allOf:l.map(d=>({$ref:d}))};return this.addSchemaHandle(c,u)}}getMatchingSchemas(r,l,c){if(c){const u=c.id||"schemaservice://untitled/matchingSchemas/"+Ft++;return this.addSchemaHandle(u,c).getResolvedSchema().then(L=>l.getMatchingSchemas(L.schema).filter(q=>!q.inverted))}return this.getSchemaForResource(r.uri,l).then(u=>u?l.getMatchingSchemas(u.schema).filter(d=>!d.inverted):[])}},Ft=0;function ci(r){try{return Kt.parse(r).toString(!0)}catch{return r}}function Sr(r){try{return Kt.parse(r).with({fragment:null,query:null}).toString(!0)}catch{return r}}function ei(r){try{const l=Kt.parse(r);if("file"===l.scheme)return l.fsPath}catch{}return r}function Hr(r,l){const c=[],u=[],d=[];let L=-1;const q=y(r.getText(),!1);let Ee=q.scan();function oe(Me){c.push(Me),u.push(d.length)}for(;17!==Ee;){switch(Ee){case 1:case 3:{const Me=r.positionAt(q.getTokenOffset()).line;d.push({startLine:Me,endLine:Me,kind:1===Ee?"object":"array"});break}case 2:case 4:if(d.length>0&&d[d.length-1].kind===(2===Ee?"object":"array")){const He=d.pop(),Ze=r.positionAt(q.getTokenOffset()).line;He&&Ze>He.startLine+1&&L!==He.startLine&&(He.endLine=Ze-1,oe(He),L=He.startLine)}break;case 13:{const Me=r.positionAt(q.getTokenOffset()).line,He=r.positionAt(q.getTokenOffset()+q.getTokenLength()).line;1===q.getTokenError()&&Me+1<r.lineCount?q.setPosition(r.offsetAt(nt.create(Me+1,0))):Me<He&&(oe({startLine:Me,endLine:He,kind:Sn.Comment}),L=Me);break}case 12:{const He=r.getText().substr(q.getTokenOffset(),q.getTokenLength()).match(/^\/\/\s*#(region\b)|(endregion\b)/);if(He){const Ze=r.positionAt(q.getTokenOffset()).line;if(He[1])d.push({startLine:Ze,endLine:Ze,kind:Sn.Region});else{let ut=d.length-1;for(;ut>=0&&d[ut].kind!==Sn.Region;)ut--;if(ut>=0){const at=d[ut];d.length=ut,Ze>at.startLine&&L!==at.startLine&&(at.endLine=Ze,oe(at),L=at.startLine)}}}break}}Ee=q.scan()}const de=l&&l.rangeLimit;if("number"!=typeof de||c.length<=de)return c;l&&l.onRangeLimitExceeded&&l.onRangeLimitExceeded(r.uri);const Le=[];for(let Me of u)Me<30&&(Le[Me]=(Le[Me]||0)+1);let fe=0,ye=0;for(let Me=0;Me<Le.length;Me++){const He=Le[Me];if(He){if(He+fe>de){ye=Me;break}fe+=He}}const Ne=[];for(let Me=0;Me<c.length;Me++){const He=u[Me];"number"==typeof He&&(He<ye||He===ye&&fe++<de)&&Ne.push(c[Me])}return Ne}function ji(r,l,c){function d(Ee,oe){return ot.create(r.positionAt(Ee),r.positionAt(oe))}const L=y(r.getText(),!0);function q(Ee,oe){return L.setPosition(Ee),L.scan()===oe?L.getTokenOffset()+L.getTokenLength():-1}return l.map(function u(Ee){let oe=r.offsetAt(Ee),de=c.getNodeFromOffset(oe,!0);const Le=[];for(;de;){switch(de.type){case"string":case"object":case"array":const ye=de.offset+1,Ne=de.offset+de.length-1;ye<Ne&&oe>=ye&&oe<=Ne&&Le.push(d(ye,Ne)),Le.push(d(de.offset,de.offset+de.length));break;case"number":case"boolean":case"null":case"property":Le.push(d(de.offset,de.offset+de.length))}if("property"===de.type||de.parent&&"array"===de.parent.type){const ye=q(de.offset+de.length,5);-1!==ye&&Le.push(d(de.offset,ye))}de=de.parent}let fe;for(let ye=Le.length-1;ye>=0;ye--)fe=Lt.create(Le[ye],fe);return fe||(fe=Lt.create(ot.create(Ee,Ee))),fe})}function mr(r,l,c){let u;if(c){const L=r.offsetAt(c.start);u={offset:L,length:r.offsetAt(c.end)-L}}const d={tabSize:l?l.tabSize:4,insertSpaces:!0===l?.insertSpaces,insertFinalNewline:!0===l?.insertFinalNewline,eol:"\n",keepLines:!0===l?.keepLines};return function ne(r,l,c){return function S(r,l,c){let u,d,L,q,Ee;if(l){for(q=l.offset,Ee=q+l.length,L=q;L>0&&!Ce(r,L-1);)L--;let Qe=Ee;for(;Qe<r.length&&!Ce(r,Qe);)Qe++;d=r.substring(L,Qe),u=function E(r,l){let c=0,u=0;const d=l.tabSize||4;for(;c<r.length;){let L=r.charAt(c);if(L===F[1])u++;else{if("\t"!==L)break;u+=d}c++}return Math.floor(u/d)}(d,c)}else d=r,u=0,L=0,q=0,Ee=r.length;const oe=function p(r,l){for(let c=0;c<l.length;c++){const u=l.charAt(c);if("\r"===u)return c+1<l.length&&"\n"===l.charAt(c+1)?"\r\n":"\r";if("\n"===u)return"\n"}return r&&r.eol||"\n"}(c,r),de=A.includes(oe);let ye,Le=0,fe=0;ye=c.insertSpaces?F[c.tabSize||4]??M(F[1],c.tabSize||4):"\t";const Ne="\t"===ye?"\t":" ";let Me=D(d,!1),He=!1;function Ze(){if(Le>1)return M(oe,Le)+M(ye,u+fe);const Qe=ye.length*(u+fe);return!de||Qe>K[Ne][oe].length?oe+M(ye,u+fe):Qe<=0?oe:K[Ne][oe][Qe]}function ut(){let Qe=Me.scan();for(Le=0;15===Qe||14===Qe;)14===Qe&&c.keepLines?Le+=1:14===Qe&&(Le=1),Qe=Me.scan();return He=16===Qe||0!==Me.getTokenError(),Qe}const at=[];function $e(Qe,xt,bt){!He&&(!l||xt<Ee&&bt>q)&&r.substring(xt,bt)!==Qe&&at.push({offset:xt,length:bt-xt,content:Qe})}let lt=ut();if(c.keepLines&&Le>0&&$e(M(oe,Le),0,0),17!==lt){let Qe=Me.getTokenOffset()+L;$e(ye.length*u<20&&c.insertSpaces?F[ye.length*u]:M(ye,u),L,Qe)}for(;17!==lt;){let Qe=Me.getTokenOffset()+Me.getTokenLength()+L,xt=ut(),bt="",Rt=!1;for(;0===Le&&(12===xt||13===xt);){let Yt=Me.getTokenOffset()+L;$e(F[1],Qe,Yt),Qe=Me.getTokenOffset()+Me.getTokenLength()+L,Rt=12===xt,bt=Rt?Ze():"",xt=ut()}if(2===xt)1!==lt&&fe--,c.keepLines&&Le>0||!c.keepLines&&1!==lt?bt=Ze():c.keepLines&&(bt=F[1]);else if(4===xt)3!==lt&&fe--,c.keepLines&&Le>0||!c.keepLines&&3!==lt?bt=Ze():c.keepLines&&(bt=F[1]);else{switch(lt){case 3:case 1:fe++,bt=c.keepLines&&Le>0||!c.keepLines?Ze():F[1];break;case 5:bt=c.keepLines&&Le>0||!c.keepLines?Ze():F[1];break;case 12:bt=Ze();break;case 13:Le>0?bt=Ze():Rt||(bt=F[1]);break;case 6:c.keepLines&&Le>0?bt=Ze():Rt||(bt=F[1]);break;case 10:c.keepLines&&Le>0?bt=Ze():6===xt&&!Rt&&(bt="");break;case 7:case 8:case 9:case 11:case 2:case 4:c.keepLines&&Le>0?bt=Ze():12!==xt&&13!==xt||Rt?5!==xt&&17!==xt&&(He=!0):bt=F[1];break;case 16:He=!0}Le>0&&(12===xt||13===xt)&&(bt=Ze())}17===xt&&(bt=c.keepLines&&Le>0?Ze():c.insertFinalNewline?oe:""),$e(bt,Qe,Me.getTokenOffset()+L),lt=xt}return at}(r,l,c)}(r.getText(),u,d).map(L=>je.replace(ot.create(r.positionAt(L.offset),r.positionAt(L.offset+L.length)),L.content))}var Pn=function(r){return r[r.Object=0]="Object",r[r.Array=1]="Array",r}(Pn||{}),er=class{constructor(r,l){this.propertyName=r??"",this.beginningLineNumber=l,this.childrenProperties=[],this.lastProperty=!1,this.noKeyName=!1}addChildProperty(r){if(r.parent=this,this.childrenProperties.length>0){let l=0;l=r.noKeyName?this.childrenProperties.length:function Gr(r,l,c){const u=l.propertyName.toLowerCase(),d=r[0].propertyName.toLowerCase(),L=r[r.length-1].propertyName.toLowerCase();if(u<d)return 0;if(u>L)return r.length;let q=0,Ee=r.length-1;for(;q<=Ee;){let oe=Ee+q>>1,de=c(l,r[oe]);if(de>0)q=oe+1;else{if(!(de<0))return oe;Ee=oe-1}}return-q-1}(this.childrenProperties,r,$r),l<0&&(l=-1*l-1),this.childrenProperties.splice(l,0,r)}else this.childrenProperties.push(r);return r}};function $r(r,l){const c=r.propertyName.toLowerCase(),u=l.propertyName.toLowerCase();return c<u?-1:c>u?1:0}function Ar(r,l,c){if(0!==l.childrenProperties.length)if(l.type===Pn.Object){let u=1/0;for(const L of l.childrenProperties)L.beginningLineNumber<u&&(u=L.beginningLineNumber);r.push(new Ri(c+=u-l.beginningLineNumber,l.childrenProperties))}else l.type===Pn.Array&&tr(r,l,c)}function tr(r,l,c){for(const u of l.childrenProperties){if(u.type===Pn.Object){let d=1/0;for(const q of u.childrenProperties)q.beginningLineNumber<d&&(d=q.beginningLineNumber);r.push(new Ri(c+u.beginningLineNumber-l.beginningLineNumber+(d-u.beginningLineNumber),u.childrenProperties))}u.type===Pn.Array&&tr(r,u,c+u.beginningLineNumber-l.beginningLineNumber)}}var nr,Ri=class{constructor(r,l){this.beginningLineNumber=r,this.propertyTreeArray=l}};function Hi(r,l){const c=[];return l.visit(u=>{if("property"===u.type&&"$ref"===u.keyNode.value&&"string"===u.valueNode?.type){const L=function Ci(r,l){const c=function Qr(r){return"#"===r?[]:"#"!==r[0]||"/"!==r[1]?null:r.substring(2).split(/\//).map(pr)}(l);return c?hi(c,r.root):null}(l,u.valueNode.value);if(L){const q=r.positionAt(L.offset);c.push({target:`${r.uri}#${q.line+1},${q.character+1}`,range:Ir(r,u.valueNode)})}}return!0}),Promise.resolve(c)}function Ir(r,l){return ot.create(r.positionAt(l.offset+1),r.positionAt(l.offset+l.length-1))}function hi(r,l){if(!l)return null;if(0===r.length)return l;const c=r.shift();if(l&&"object"===l.type){const u=l.properties.find(d=>d.keyNode.value===c);return u?hi(r,u.valueNode):null}if(l&&"array"===l.type&&c.match(/^(0|[1-9][0-9]*)$/)){const u=Number.parseInt(c),d=l.items[u];return d?hi(r,d):null}return null}function pr(r){return r.replace(/~1/g,"/").replace(/~0/g,"~")}function It(r){const l=r.promiseConstructor||Promise,c=new Bi(r.schemaRequestService,r.workspaceContext,l);c.setSchemaContributions(zn);const u=new Fr(c,r.contributions,l,r.clientCapabilities),d=new Di(c,r.contributions,l),L=new zr(c),q=new Vr(c,l);return{configure:Ee=>{c.clearExternalSchemas(),Ee.schemas?.forEach(c.registerExternalSchema.bind(c)),q.configure(Ee)},resetSchema:Ee=>c.onResourceChange(Ee),doValidation:q.doValidation.bind(q),getLanguageStatus:q.getLanguageStatus.bind(q),parseJSONDocument:Ee=>function Ji(r,l){const c=[];let u=-1;const d=r.getText(),L=y(d,!1),q=l&&l.collectComments?[]:void 0;function Ee(){for(;;){const bt=L.scan();switch(fe(),bt){case 12:case 13:Array.isArray(q)&&q.push(ot.create(r.positionAt(L.getTokenOffset()),r.positionAt(L.getTokenOffset()+L.getTokenLength())));break;case 15:case 14:break;default:return bt}}}function de(bt,Rt,jt,Yt,Ct=_t.Error){if(0===c.length||jt!==u){const Ye=ot.create(r.positionAt(jt),r.positionAt(Yt));c.push(x.create(Ye,bt,Ct,Rt,r.languageId)),u=jt}}function Le(bt,Rt,jt=void 0,Yt=[],Ct=[]){let Ye=L.getTokenOffset(),vt=L.getTokenOffset()+L.getTokenLength();if(Ye===vt&&Ye>0){for(Ye--;Ye>0&&/\s/.test(d.charAt(Ye));)Ye--;vt=Ye+1}if(de(bt,Rt,Ye,vt),jt&&ye(jt,!1),Yt.length+Ct.length>0){let Et=L.getToken();for(;17!==Et;){if(-1!==Yt.indexOf(Et)){Ee();break}if(-1!==Ct.indexOf(Et))break;Et=Ee()}}return jt}function fe(){switch(L.getTokenError()){case 4:return Le(Pe("Invalid unicode sequence in string."),Ve.InvalidUnicode),!0;case 5:return Le(Pe("Invalid escape character in string."),Ve.InvalidEscapeCharacter),!0;case 3:return Le(Pe("Unexpected end of number."),Ve.UnexpectedEndOfNumber),!0;case 1:return Le(Pe("Unexpected end of comment."),Ve.UnexpectedEndOfComment),!0;case 2:return Le(Pe("Unexpected end of string."),Ve.UnexpectedEndOfString),!0;case 6:return Le(Pe("Invalid characters in string. Control characters must be escaped."),Ve.InvalidCharacter),!0}return!1}function ye(bt,Rt){return bt.length=L.getTokenOffset()+L.getTokenLength()-bt.offset,Rt&&Ee(),bt}const Me=new Cn(void 0,0,0);function He(bt,Rt){const jt=new wn(bt,L.getTokenOffset(),Me);let Yt=ut(jt);if(!Yt){if(16!==L.getToken())return;{Le(Pe("Property keys must be doublequoted"),Ve.PropertyKeysMustBeDoublequoted);const Ye=new Cn(jt,L.getTokenOffset(),L.getTokenLength());Ye.value=L.getTokenValue(),Yt=Ye,Ee()}}if(jt.keyNode=Yt,"//"!==Yt.value){const Ye=Rt[Yt.value];Ye?(de(Pe("Duplicate object key"),Ve.DuplicateKey,jt.keyNode.offset,jt.keyNode.offset+jt.keyNode.length,_t.Warning),le(Ye)&&de(Pe("Duplicate object key"),Ve.DuplicateKey,Ye.keyNode.offset,Ye.keyNode.offset+Ye.keyNode.length,_t.Warning),Rt[Yt.value]=!0):Rt[Yt.value]=jt}if(6===L.getToken())jt.colonOffset=L.getTokenOffset(),Ee();else if(Le(Pe("Colon expected"),Ve.ColonExpected),10===L.getToken()&&r.positionAt(Yt.offset+Yt.length).line<r.positionAt(L.getTokenOffset()).line)return jt.length=Yt.length,jt;const Ct=lt(jt);return Ct?(jt.valueNode=Ct,jt.length=Ct.offset+Ct.length-jt.offset,jt):Le(Pe("Value expected"),Ve.ValueExpected,jt,[],[2,5])}function ut(bt){if(10!==L.getToken())return;const Rt=new Cn(bt,L.getTokenOffset());return Rt.value=L.getTokenValue(),ye(Rt,!0)}function lt(bt){return function Ne(bt){if(3!==L.getToken())return;const Rt=new zt(bt,L.getTokenOffset());Ee();let Yt=!1;for(;4!==L.getToken()&&17!==L.getToken();){if(5===L.getToken()){Yt||Le(Pe("Value expected"),Ve.ValueExpected);const Ye=L.getTokenOffset();if(Ee(),4===L.getToken()){Yt&&de(Pe("Trailing comma"),Ve.TrailingComma,Ye,Ye+1);continue}}else Yt&&Le(Pe("Expected comma"),Ve.CommaExpected);const Ct=lt(Rt);Ct?Rt.items.push(Ct):Le(Pe("Value expected"),Ve.ValueExpected,void 0,[],[4,5]),Yt=!0}return 4!==L.getToken()?Le(Pe("Expected comma or closing bracket"),Ve.CommaOrCloseBacketExpected,Rt):ye(Rt,!0)}(bt)||function Ze(bt){if(1!==L.getToken())return;const Rt=new dn(bt,L.getTokenOffset()),jt=Object.create(null);Ee();let Yt=!1;for(;2!==L.getToken()&&17!==L.getToken();){if(5===L.getToken()){Yt||Le(Pe("Property expected"),Ve.PropertyExpected);const Ye=L.getTokenOffset();if(Ee(),2===L.getToken()){Yt&&de(Pe("Trailing comma"),Ve.TrailingComma,Ye,Ye+1);continue}}else Yt&&Le(Pe("Expected comma"),Ve.CommaExpected);const Ct=He(Rt,jt);Ct?Rt.properties.push(Ct):Le(Pe("Property expected"),Ve.PropertyExpected,void 0,[],[2,5]),Yt=!0}return 2!==L.getToken()?Le(Pe("Expected comma or closing brace"),Ve.CommaOrCloseBraceExpected,Rt):ye(Rt,!0)}(bt)||ut(bt)||function at(bt){if(11!==L.getToken())return;const Rt=new Bt(bt,L.getTokenOffset());if(0===L.getTokenError()){const jt=L.getTokenValue();try{const Yt=JSON.parse(jt);if(!Ae(Yt))return Le(Pe("Invalid number format."),Ve.Undefined,Rt);Rt.value=Yt}catch{return Le(Pe("Invalid number format."),Ve.Undefined,Rt)}Rt.isInteger=-1===jt.indexOf(".")}return ye(Rt,!0)}(bt)||function $e(bt){switch(L.getToken()){case 7:return ye(new At(bt,L.getTokenOffset()),!0);case 8:return ye(new Wt(bt,!0,L.getTokenOffset()),!0);case 9:return ye(new Wt(bt,!1,L.getTokenOffset()),!0);default:return}}(bt)}let Qe;return 17!==Ee()&&(Qe=lt(Qe),Qe?17!==L.getToken()&&Le(Pe("End of file expected."),Ve.Undefined):Le(Pe("Expected a JSON object, array or literal."),Ve.Undefined)),new lr(Qe,c,q)}(Ee,{collectComments:!0}),newJSONDocument:(Ee,oe)=>function oi(r,l=[]){return new lr(r,l,[])}(Ee,oe),getMatchingSchemas:c.getMatchingSchemas.bind(c),doResolve:u.doResolve.bind(u),doComplete:u.doComplete.bind(u),findDocumentSymbols:L.findDocumentSymbols.bind(L),findDocumentSymbols2:L.findDocumentSymbols2.bind(L),findDocumentColors:L.findDocumentColors.bind(L),getColorPresentations:L.getColorPresentations.bind(L),doHover:d.doHover.bind(d),getFoldingRanges:Hr,getSelectionRanges:ji,findDefinition:()=>Promise.resolve([]),findLinks:Hi,format:(Ee,oe,de)=>mr(Ee,de,oe),sort:(Ee,oe)=>function wr(r,l){const c={...l,keepLines:!1},u=we.applyEdits(r,mr(r,c,void 0)),d=we.create("test://test.json","json",0,u),L=function qr(r){const l=r.getText(),c=y(l,!1);let Ee,Le,fe,u=new er,d=u,L=u,q=u,oe=0,de=0,ye=-1,Ne=-1,Me=0,He=0,Ze=[],ut=!1,at=!1;for(;17!==(Ee=c.scan());){if(!0===ut&&14!==Ee&&15!==Ee&&12!==Ee&&13!==Ee&&void 0===L.endLineNumber){let $e=c.getTokenStartLine();2===fe||4===fe?q.endLineNumber=$e-1:L.endLineNumber=$e-1,Me=$e,ut=!1}if(!0===at&&14!==Ee&&15!==Ee&&12!==Ee&&13!==Ee&&(Me=c.getTokenStartLine(),at=!1),c.getTokenStartLine()!==oe){for(let $e=oe;$e<c.getTokenStartLine();$e++)de+=r.getText(ot.create(nt.create($e,0),nt.create($e+1,0))).length;oe=c.getTokenStartLine()}switch(Ee){case 10:if(void 0===Le||1===Le||5===Le&&Ze[Ze.length-1]===Pn.Object){const $e=new er(c.getTokenValue(),Me);q=L,L=d.addChildProperty($e)}break;case 3:if(void 0===u.beginningLineNumber&&(u.beginningLineNumber=c.getTokenStartLine()),Ze[Ze.length-1]===Pn.Object)d=L;else if(Ze[Ze.length-1]===Pn.Array){const $e=new er(c.getTokenValue(),Me);$e.noKeyName=!0,q=L,L=d.addChildProperty($e),d=L}Ze.push(Pn.Array),L.type=Pn.Array,Me=c.getTokenStartLine(),Me++;break;case 1:if(void 0===u.beginningLineNumber)u.beginningLineNumber=c.getTokenStartLine();else if(Ze[Ze.length-1]===Pn.Array){const $e=new er(c.getTokenValue(),Me);$e.noKeyName=!0,q=L,L=d.addChildProperty($e)}L.type=Pn.Object,Ze.push(Pn.Object),d=L,Me=c.getTokenStartLine(),Me++;break;case 4:He=c.getTokenStartLine(),Ze.pop(),void 0===L.endLineNumber&&(2===Le||4===Le)&&(L.endLineNumber=He-1,L.lastProperty=!0,L.lineWhereToAddComma=ye,L.indexWhereToAddComa=Ne,q=L,L=L?L.parent:void 0,d=L),u.endLineNumber=He,Me=He+1;break;case 2:He=c.getTokenStartLine(),Ze.pop(),1!==Le&&(void 0===L.endLineNumber&&(L.endLineNumber=He-1,L.lastProperty=!0,L.lineWhereToAddComma=ye,L.indexWhereToAddComa=Ne),q=L,L=L?L.parent:void 0,d=L),u.endLineNumber=c.getTokenStartLine(),Me=He+1;break;case 5:He=c.getTokenStartLine(),void 0===L.endLineNumber&&(Ze[Ze.length-1]===Pn.Object||Ze[Ze.length-1]===Pn.Array&&(2===Le||4===Le))&&(L.endLineNumber=He,L.commaIndex=c.getTokenOffset()-de,L.commaLine=He),(2===Le||4===Le)&&(q=L,L=L?L.parent:void 0,d=L),Me=He+1;break;case 13:5===Le&&ye===c.getTokenStartLine()&&(Ze[Ze.length-1]===Pn.Array&&(2===fe||4===fe)||Ze[Ze.length-1]===Pn.Object)&&(Ze[Ze.length-1]===Pn.Array&&(2===fe||4===fe)||Ze[Ze.length-1]===Pn.Object)&&(L.endLineNumber=void 0,ut=!0),(1===Le||3===Le)&&ye===c.getTokenStartLine()&&(at=!0)}14!==Ee&&13!==Ee&&12!==Ee&&15!==Ee&&(fe=Le,Le=Ee,ye=c.getTokenStartLine(),Ne=c.getTokenOffset()+c.getTokenLength()-de)}return u}(d),q=function Er(r,l){if(0===l.childrenProperties.length)return r;const c=we.create("test://test.json","json",0,r.getText()),u=[];for(Ar(u,l,l.beginningLineNumber);u.length>0;){const d=u.shift(),L=d.propertyTreeArray;let q=d.beginningLineNumber;for(let Ee=0;Ee<L.length;Ee++){const oe=L[Ee],de=ot.create(nt.create(oe.beginningLineNumber,0),nt.create(oe.endLineNumber+1,0)),Le=r.getText(de),fe=we.create("test://test.json","json",0,Le);if(!0===oe.lastProperty&&Ee!==L.length-1){const Me=oe.lineWhereToAddComma-oe.beginningLineNumber,He=oe.indexWhereToAddComa,Ze={range:ot.create(nt.create(Me,He),nt.create(Me,He)),text:","};we.update(fe,[Ze],1)}else if(!1===oe.lastProperty&&Ee===L.length-1){const Me=oe.commaIndex,Ze=oe.commaLine-oe.beginningLineNumber,ut={range:ot.create(nt.create(Ze,Me),nt.create(Ze,Me+1)),text:""};we.update(fe,[ut],1)}const ye=oe.endLineNumber-oe.beginningLineNumber+1,Ne={range:ot.create(nt.create(q,0),nt.create(q+ye,0)),text:fe.getText()};we.update(c,[Ne],1),Ar(u,oe,q),q+=ye}}return c}(d,L),Ee=mr(q,c,void 0),oe=we.applyEdits(q,Ee);return[je.replace(ot.create(nt.create(0,0),r.positionAt(r.getText().length)),oe)]}(Ee,oe)}}typeof fetch<"u"&&(nr=function(r){return fetch(r).then(l=>l.text())});var Si=class{constructor(r,l){this._ctx=r,this._languageSettings=l.languageSettings,this._languageId=l.languageId,this._languageService=It({workspaceContext:{resolveRelativePath:(c,u)=>function $i(r,l){if(function _r(r){return r.charCodeAt(0)===Oi}(l)){const c=Kt.parse(r),u=l.split("/");return c.with({path:Fi(u)}).toString()}return function ir(r,...l){const c=Kt.parse(r),u=c.path.split("/");for(let d of l)u.push(...d.split("/"));return c.with({path:Fi(u)}).toString()}(r,l)}(u.substr(0,u.lastIndexOf("/")+1),c)},schemaRequestService:l.enableSchemaRequest?nr:void 0,clientCapabilities:ct.LATEST}),this._languageService.configure(this._languageSettings)}doValidation(r){var l=this;return(0,ft.A)(function*(){let c=l._getTextDocument(r);if(c){let u=l._languageService.parseJSONDocument(c);return l._languageService.doValidation(c,u,l._languageSettings)}return Promise.resolve([])})()}doComplete(r,l){var c=this;return(0,ft.A)(function*(){let u=c._getTextDocument(r);if(!u)return null;let d=c._languageService.parseJSONDocument(u);return c._languageService.doComplete(u,l,d)})()}doResolve(r){var l=this;return(0,ft.A)(function*(){return l._languageService.doResolve(r)})()}doHover(r,l){var c=this;return(0,ft.A)(function*(){let u=c._getTextDocument(r);if(!u)return null;let d=c._languageService.parseJSONDocument(u);return c._languageService.doHover(u,l,d)})()}format(r,l,c){var u=this;return(0,ft.A)(function*(){let d=u._getTextDocument(r);if(!d)return[];let L=u._languageService.format(d,l,c);return Promise.resolve(L)})()}resetSchema(r){var l=this;return(0,ft.A)(function*(){return Promise.resolve(l._languageService.resetSchema(r))})()}findDocumentSymbols(r){var l=this;return(0,ft.A)(function*(){let c=l._getTextDocument(r);if(!c)return[];let u=l._languageService.parseJSONDocument(c),d=l._languageService.findDocumentSymbols2(c,u);return Promise.resolve(d)})()}findDocumentColors(r){var l=this;return(0,ft.A)(function*(){let c=l._getTextDocument(r);if(!c)return[];let u=l._languageService.parseJSONDocument(c),d=l._languageService.findDocumentColors(c,u);return Promise.resolve(d)})()}getColorPresentations(r,l,c){var u=this;return(0,ft.A)(function*(){let d=u._getTextDocument(r);if(!d)return[];let L=u._languageService.parseJSONDocument(d),q=u._languageService.getColorPresentations(d,L,l,c);return Promise.resolve(q)})()}getFoldingRanges(r,l){var c=this;return(0,ft.A)(function*(){let u=c._getTextDocument(r);if(!u)return[];let d=c._languageService.getFoldingRanges(u,l);return Promise.resolve(d)})()}getSelectionRanges(r,l){var c=this;return(0,ft.A)(function*(){let u=c._getTextDocument(r);if(!u)return[];let d=c._languageService.parseJSONDocument(u),L=c._languageService.getSelectionRanges(u,l,d);return Promise.resolve(L)})()}parseJSONDocument(r){var l=this;return(0,ft.A)(function*(){let c=l._getTextDocument(r);if(!c)return null;let u=l._languageService.parseJSONDocument(c);return Promise.resolve(u)})()}getMatchingSchemas(r){var l=this;return(0,ft.A)(function*(){let c=l._getTextDocument(r);if(!c)return[];let u=l._languageService.parseJSONDocument(c);return Promise.resolve(l._languageService.getMatchingSchemas(c,u))})()}_getTextDocument(r){let l=this._ctx.getMirrorModels();for(let c of l)if(c.uri.toString()===r)return we.create(r,this._languageId,c.version,c.getValue());return null}},Oi=47,Pi=46;function Fi(r){const l=[];for(const u of r)0===u.length||1===u.length&&u.charCodeAt(0)===Pi||(2===u.length&&u.charCodeAt(0)===Pi&&u.charCodeAt(1)===Pi?l.pop():l.push(u));r.length>1&&0===r[r.length-1].length&&l.push("");let c=l.join("/");return 0===r[0].length&&(c="/"+c),c}self.onmessage=()=>{o((r,l)=>new Si(r,l))}})()})();